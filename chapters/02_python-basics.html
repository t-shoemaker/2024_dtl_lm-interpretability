
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2. Python Basics &#8212; Introduction to Interpretability for Language Models</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/02_python-basics';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Data Analysis in Python" href="03_data-analysis-basics.html" />
    <link rel="prev" title="1. Getting Started" href="01_getting-started.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Introduction to Interpretability for Language Models</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Overview
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Basics</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_getting-started.html">1. Getting Started</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. Python Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_data-analysis-basics.html">3. Data Analysis in Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Language Models</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="04_ngram-models.html">4. N-gram Models</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/t-shoemaker/2024_dtl_lm-interpretability" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/02_python-basics.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Python Basics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries">2.1. Preliminaries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-data">2.2. Loading Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-structures">2.3. Data Structures</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lists">2.3.1. Lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tuples">2.3.2. Tuples</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sets">2.3.3. Sets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dictionaries">2.3.4. Dictionaries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iteration">2.4. Iteration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#for-loops">2.4.1. For-loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comprehensions">2.4.2. Comprehensions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#while-loops">2.4.3. While-loops</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regular-expressions">2.5. Regular Expressions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#literals">2.5.1. Literals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metacharacters">2.5.2. Metacharacters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">2.6. Functions</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="python-basics">
<h1><span class="section-number">2. </span>Python Basics<a class="headerlink" href="#python-basics" title="Link to this heading">#</a></h1>
<p>This chapter overviews key functionality and concepts in Python. We will learn
how to load files into Python, store data in various data structures, and
iterate through that data. Additionally, we will discuss regular expressions
for string matching and write our own functions.</p>
<ul class="simple">
<li><p><strong>Data:</strong> A plain text version of Mary Shelley’s <em>Frankenstein</em></p></li>
<li><p><strong>Credits:</strong> Portions of this chapter are adapted from the UC Davis DataLab’s
<a class="reference external" href="https://ucdavisdatalab.github.io/workshop_python_basics">Python Basics</a></p></li>
</ul>
<section id="preliminaries">
<h2><span class="section-number">2.1. </span>Preliminaries<a class="headerlink" href="#preliminaries" title="Link to this heading">#</a></h2>
<p>To do our work, we will import an entire module and a single object from
another module.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</pre></div>
</div>
</div>
</div>
<p>Recall from the last chapter that importing an entire module gives us access to
all of its functionality. We specify which part of that module we want to use
with dot <code class="docutils literal notranslate"><span class="pre">.</span></code> notation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;function re.findall(pattern, string, flags=0)&gt;
</pre></div>
</div>
</div>
</div>
<p>To use the object we imported, initialize it by assigning it to a variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Counter()
</pre></div>
</div>
</div>
</div>
</section>
<section id="loading-data">
<h2><span class="section-number">2.2. </span>Loading Data<a class="headerlink" href="#loading-data" title="Link to this heading">#</a></h2>
<p>Loading a file into your Python environment requires writing a path to the
file’s location. Below, we assign a path to Mary Shelley’s <em>Frankenstein</em>,
which currently sits in <code class="docutils literal notranslate"><span class="pre">data/</span></code>, a subdirectory of our current working
directory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;data/texts/shelley_frankenstein.txt&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">open</span></code> to open a connection to the file. This function requires you to
specify a value to the <code class="docutils literal notranslate"><span class="pre">mode</span></code> argument. We use <code class="docutils literal notranslate"><span class="pre">r</span></code> because are working with
<strong>plain text</strong> data; <code class="docutils literal notranslate"><span class="pre">rb</span></code> would for <strong>binary</strong> data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fin</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<p>With the connection established, read the data and assign it to a new variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">frankenstein</span> <span class="o">=</span> <span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Finally, close the file connection:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>You can accomplish these operations with less lines of code using the <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">open</span></code> pattern. There’s no need to close the file connection once you’ve read
the data. Using this pattern, Python will do it for you.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="n">frankenstein</span> <span class="o">=</span> <span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Python represents plain text files as streams of characters. That is, every
keystroke you would use to type out a text corresponds to a character. Calling
<code class="docutils literal notranslate"><span class="pre">len</span></code>, or length, on our data makes this apparent:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>418917
</pre></div>
</div>
</div>
</div>
<p>The Penguin edition of <em>Frankenstein</em> is about 220 pages. Assuming each page
has 350 words, that would put the book’s word count in the neighborhood of
77,000 words—far less than the number above. But we see this number because
Python is counting characters, not words.</p>
</section>
<section id="data-structures">
<h2><span class="section-number">2.3. </span>Data Structures<a class="headerlink" href="#data-structures" title="Link to this heading">#</a></h2>
<p>Usually, however, we want to work with words. This requires us to change how
Python represents our text data. And, because there is no inherent concept of
what a word is in the language, it falls on us to define how to make words out
of characters. This process is called <strong>tokenization</strong>. Tokenizing a text means
breaking its continuous sequence of characters into separate substrings, or
tokens. There are many different ways to do this, but for now we start with a
very simple approach: we break the character sequence along whitespace
characters, characters like <code class="docutils literal notranslate"><span class="pre">\s</span></code>, for space, but also <code class="docutils literal notranslate"><span class="pre">\n</span></code> (for new lines),
<code class="docutils literal notranslate"><span class="pre">\t</span></code> (for tab), and so on.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">.split()</span></code> method to break <code class="docutils literal notranslate"><span class="pre">frankenstein</span></code> along whitespace characters:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span> <span class="o">=</span> <span class="n">frankenstein</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<section id="lists">
<h3><span class="section-number">2.3.1. </span>Lists<a class="headerlink" href="#lists" title="Link to this heading">#</a></h3>
<p>The result of <code class="docutils literal notranslate"><span class="pre">.split()</span></code> is a <strong>list</strong>, a general-purpose, one-dimensional
container for storing data. Lists are probably the most common data structure
in Python. They make very little assumptions about the kind of data they store,
and they store this data in an ordered manner. That is, lists have a first
element, a second element, and so on up until the full length of the list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>74975
</pre></div>
</div>
</div>
</div>
<p>To select an element, or a group of elements, from a list, you <strong>index</strong> the
list. The square brackets <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> are Python’s index operator. Use them in
conjunction with the <strong>index position</strong> of the element(s) you want to select.
The index position is simply a number that corresponds to where in the list an
element is located.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[</span><span class="mi">42</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;is&#39;
</pre></div>
</div>
</div>
</div>
<p>Python uses <strong>zero-based indexing</strong>. That means the positions of elements are
counted from 0, not 1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Letter&#39;
</pre></div>
</div>
</div>
</div>
<p>Use the colon <code class="docutils literal notranslate"><span class="pre">:</span></code> to select multiple elements.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;17—.&#39;,
 &#39;You&#39;,
 &#39;will&#39;,
 &#39;rejoice&#39;,
 &#39;to&#39;,
 &#39;hear&#39;,
 &#39;that&#39;,
 &#39;no&#39;,
 &#39;disaster&#39;,
 &#39;has&#39;]
</pre></div>
</div>
</div>
</div>
<p>Setting no starting position takes all elements in the list up to your index
position:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Letter&#39;,
 &#39;1&#39;,
 &#39;_To&#39;,
 &#39;Mrs.&#39;,
 &#39;Saville,&#39;,
 &#39;England._&#39;,
 &#39;St.&#39;,
 &#39;Petersburgh,&#39;,
 &#39;Dec.&#39;,
 &#39;11th,&#39;]
</pre></div>
</div>
</div>
</div>
<p>While leaving off the ending position takes all elements from an index position
to the end of the list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[</span><span class="mi">74970</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;lost&#39;, &#39;in&#39;, &#39;darkness&#39;, &#39;and&#39;, &#39;distance.&#39;]
</pre></div>
</div>
</div>
</div>
<p>Alternatively, count backwards from the end of a list with a negative number:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;lost&#39;, &#39;in&#39;, &#39;darkness&#39;, &#39;and&#39;, &#39;distance.&#39;]
</pre></div>
</div>
</div>
</div>
<p>Add another colon to take every n-th element in your selection. Below, we take
every second element from index positions 100-200.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[</span><span class="mi">100</span><span class="p">:</span><span class="mi">200</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;This&#39;,
 &#39;which&#39;,
 &#39;travelled&#39;,
 &#39;the&#39;,
 &#39;towards&#39;,
 &#39;I&#39;,
 &#39;advancing,&#39;,
 &#39;me&#39;,
 &#39;foretaste&#39;,
 &#39;those&#39;,
 &#39;climes.&#39;,
 &#39;by&#39;,
 &#39;wind&#39;,
 &#39;promise,&#39;,
 &#39;daydreams&#39;,
 &#39;more&#39;,
 &#39;and&#39;,
 &#39;I&#39;,
 &#39;in&#39;,
 &#39;to&#39;,
 &#39;persuaded&#39;,
 &#39;the&#39;,
 &#39;is&#39;,
 &#39;seat&#39;,
 &#39;frost&#39;,
 &#39;desolation;&#39;,
 &#39;ever&#39;,
 &#39;itself&#39;,
 &#39;my&#39;,
 &#39;as&#39;,
 &#39;region&#39;,
 &#39;beauty&#39;,
 &#39;delight.&#39;,
 &#39;Margaret,&#39;,
 &#39;sun&#39;,
 &#39;for&#39;,
 &#39;visible,&#39;,
 &#39;broad&#39;,
 &#39;just&#39;,
 &#39;the&#39;,
 &#39;and&#39;,
 &#39;a&#39;,
 &#39;splendour.&#39;,
 &#39;with&#39;,
 &#39;leave,&#39;,
 &#39;sister,&#39;,
 &#39;will&#39;,
 &#39;some&#39;,
 &#39;in&#39;,
 &#39;navigators—there&#39;]
</pre></div>
</div>
</div>
</div>
<p>Leave the first selection unspecified to take every n-th element across the
whole list:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokens</span><span class="p">[::</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Letter&#39;,
 &#39;stagecoach.&#39;,
 &#39;he&#39;,
 &#39;shape&#39;,
 &#39;promised&#39;,
 &#39;music.&#39;,
 &#39;plain&#39;,
 &#39;known.&#39;,
 &#39;sweet&#39;,
 &#39;reasoning,&#39;,
 &#39;time&#39;,
 &#39;repulsive&#39;,
 &#39;disciple;&#39;,
 &#39;yet&#39;,
 &#39;charnel-houses&#39;,
 &#39;filled&#39;,
 &#39;little&#39;,
 &#39;hardly&#39;,
 &#39;your&#39;,
 &#39;commenced&#39;,
 &#39;niece,&#39;,
 &#39;narrower&#39;,
 &#39;knew&#39;,
 &#39;being,&#39;,
 &#39;interpretation&#39;,
 &#39;hardly&#39;,
 &#39;true&#39;,
 &#39;often&#39;,
 &#39;me.&#39;,
 &#39;to&#39;,
 &#39;hell&#39;,
 &#39;But&#39;,
 &#39;as&#39;,
 &#39;earth.&#39;,
 &#39;for&#39;,
 &#39;more&#39;,
 &#39;13&#39;,
 &#39;days&#39;,
 &#39;various&#39;,
 &#39;and&#39;,
 &#39;the&#39;,
 &#39;‘Accursed&#39;,
 &#39;the&#39;,
 &#39;beast&#39;,
 &#39;the&#39;,
 &#39;flesh&#39;,
 &#39;place,&#39;,
 &#39;to&#39;,
 &#39;like&#39;,
 &#39;all&#39;,
 &#39;standing&#39;,
 &#39;irksome&#39;,
 &#39;of&#39;,
 &#39;miserable&#39;,
 &#39;trembling&#39;,
 &#39;ocean;&#39;,
 &#39;mounted&#39;,
 &#39;the&#39;,
 &#39;witnesses.&#39;,
 &#39;me.&#39;,
 &#39;that&#39;,
 &#39;her.&#39;,
 &#39;cousin&#39;,
 &#39;lessons&#39;,
 &#39;its&#39;,
 &#39;the&#39;,
 &#39;listened&#39;,
 &#39;which&#39;,
 &#39;even&#39;,
 &#39;misery.&#39;,
 &#39;them&#39;,
 &#39;terrible&#39;,
 &#39;continue&#39;,
 &#39;midnight;&#39;,
 &#39;loathing&#39;]
</pre></div>
</div>
</div>
</div>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> to create a list manually. Here’s an empty list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[]
</pre></div>
</div>
</div>
</div>
<p>And here is one with all kinds of data types—and another list! Lists can
contain lists.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>To index an element in this sublist, you’ll need to select the index position
of the sublist, then select the one for the element you want.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">l</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;b&#39;
</pre></div>
</div>
</div>
</div>
<p>You can set the element of a list by assigning a value at that index:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">l</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[8, &#39;x&#39;, True, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]
</pre></div>
</div>
</div>
</div>
<p>Assigning elements of a container is not without complication. Below, we use
<code class="docutils literal notranslate"><span class="pre">list()</span></code>—another method of creating a list—to break a character string into
individual pieces. We assign the output of this to <code class="docutils literal notranslate"><span class="pre">x</span></code>. Then, we create a new
variable, <code class="docutils literal notranslate"><span class="pre">y</span></code>, from <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
<span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]
</pre></div>
</div>
</div>
</div>
<p>Assigning a new value to an index position in <code class="docutils literal notranslate"><span class="pre">x</span></code> will propagate the change to
<code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;d&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;a&#39;, &#39;b&#39;, &#39;d&#39;] [&#39;a&#39;, &#39;b&#39;, &#39;d&#39;]
</pre></div>
</div>
</div>
</div>
<p>Why did this happen? When you create a list and assign it to a variable, the
variable points, or <strong>refers</strong>, to the location of the list in your computer’s
memory. If you create a second variable from the first, it will refer to the
first variable, which in turn refers to the data. As a result, operations
called on one variable will affect the other, and vice versa.</p>
<p>When in doubt, use <code class="docutils literal notranslate"><span class="pre">.copy()</span></code> to prevent this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;d&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;a&#39;, &#39;b&#39;, &#39;d&#39;] [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="tuples">
<h3><span class="section-number">2.3.2. </span>Tuples<a class="headerlink" href="#tuples" title="Link to this heading">#</a></h3>
<p>References can be confusing. If you know that the elements of a container
shouldn’t change, you can also avoid the problem above by creating a <strong>tuple</strong>.
Like a list, a tuple is a one-dimensional container for general data storage.
The key difference is that tuples are <strong>immutable</strong>: once you create a tuple,
you are neither able to alter it nor its elements.</p>
<p>Make a tuple by enclosing comma-separated values in parentheses <code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tup</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">tup</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1, 2, 3)
</pre></div>
</div>
</div>
</div>
<p>Alternatively, convert a list to a tuple using <code class="docutils literal notranslate"><span class="pre">tuple()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
</pre></div>
</div>
</div>
</div>
<p>You will get an error if you attempt to change this tuple.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;d&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;d&quot;</span>

<span class="ne">TypeError</span>: &#39;tuple&#39; object does not support item assignment
</pre></div>
</div>
</div>
</div>
</section>
<section id="sets">
<h3><span class="section-number">2.3.3. </span>Sets<a class="headerlink" href="#sets" title="Link to this heading">#</a></h3>
<p>Unlike lists and tuples, <strong>sets</strong> cannot contain multiple instances of the same
element. They only have unique elements. Create them using curly brackets <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code>
or <code class="docutils literal notranslate"><span class="pre">set()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">set_a</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">}</span>
<span class="n">set_b</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;aabc&quot;</span><span class="p">)</span>
<span class="n">set_a</span> <span class="o">==</span> <span class="n">set_b</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Sets are useful containers for keeping track of features in your data. For
example, converting our list of tokens to a set will automatically prune out
all repeated tokens. The result will be a set of in NLP are called <strong>types</strong>:
the unique elements in a document. In effect, it is the vocabulary of the
document.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of types:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">types</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of types: 11590
</pre></div>
</div>
</div>
</div>
<p>Sets also offer additional functionality for performing comparisons. We won’t
touch on this too much in the following chapters, but it’s useful to know
about. Given the following two sentences from <em>Frankenstein</em>, for example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;I am surrounded by mountains of ice which admit of no escape and threaten every moment to crush my vessel.&quot;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s2">&quot;This ice is not made of such stuff as your hearts may be; it is mutable and cannot withstand you if you say that it shall not.&quot;</span> 
</pre></div>
</div>
</div>
</div>
<p>We split them into tokens and convert both to sets:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>Now, we find their <strong>intersection</strong>. This is where the two sentences’
vocabularies overlap:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;and&#39;, &#39;ice&#39;, &#39;of&#39;}
</pre></div>
</div>
</div>
</div>
<p>We can also find their <strong>difference</strong>, or the set of tokens that do not
overlap:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;I&#39;,
 &#39;admit&#39;,
 &#39;am&#39;,
 &#39;by&#39;,
 &#39;crush&#39;,
 &#39;escape&#39;,
 &#39;every&#39;,
 &#39;moment&#39;,
 &#39;mountains&#39;,
 &#39;my&#39;,
 &#39;no&#39;,
 &#39;surrounded&#39;,
 &#39;threaten&#39;,
 &#39;to&#39;,
 &#39;vessel.&#39;,
 &#39;which&#39;}
</pre></div>
</div>
</div>
</div>
<p>Finally, we can build a new set that combines our two sets:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;I&#39;,
 &#39;This&#39;,
 &#39;admit&#39;,
 &#39;am&#39;,
 &#39;and&#39;,
 &#39;as&#39;,
 &#39;be;&#39;,
 &#39;by&#39;,
 &#39;cannot&#39;,
 &#39;crush&#39;,
 &#39;escape&#39;,
 &#39;every&#39;,
 &#39;hearts&#39;,
 &#39;ice&#39;,
 &#39;if&#39;,
 &#39;is&#39;,
 &#39;it&#39;,
 &#39;made&#39;,
 &#39;may&#39;,
 &#39;moment&#39;,
 &#39;mountains&#39;,
 &#39;mutable&#39;,
 &#39;my&#39;,
 &#39;no&#39;,
 &#39;not&#39;,
 &#39;not.&#39;,
 &#39;of&#39;,
 &#39;say&#39;,
 &#39;shall&#39;,
 &#39;stuff&#39;,
 &#39;such&#39;,
 &#39;surrounded&#39;,
 &#39;that&#39;,
 &#39;threaten&#39;,
 &#39;to&#39;,
 &#39;vessel.&#39;,
 &#39;which&#39;,
 &#39;withstand&#39;,
 &#39;you&#39;,
 &#39;your&#39;}
</pre></div>
</div>
</div>
</div>
<p>The downside of sets, however, is that they are unordered. This means they
cannot be indexed.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">38</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">c</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

<span class="ne">TypeError</span>: &#39;set&#39; object is not subscriptable
</pre></div>
</div>
</div>
</div>
</section>
<section id="dictionaries">
<h3><span class="section-number">2.3.4. </span>Dictionaries<a class="headerlink" href="#dictionaries" title="Link to this heading">#</a></h3>
<p>Finally, there are <strong>dictionaries</strong>. Like sets, dictionaries store unique
elements, but they associate those elements with a particular value. These can
be individual values, like numbers, or containers, like lists, tuples, and so
on. Every element in a dictionary is therefore a <strong>key–value pair</strong>. This
makes dictionaries powerful data structures for associating values in your data
with metadata of one kind or another.</p>
<p>Create a dictionary with curly brackets <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code> and colons <code class="docutils literal notranslate"><span class="pre">:</span></code> that separate the
key–value pairs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="n">counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;x&#39;: 4, &#39;y&#39;: 1, &#39;z&#39;: 6}
</pre></div>
</div>
</div>
</div>
<p>Alternatively, use <code class="docutils literal notranslate"><span class="pre">dict()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;x&#39;: 4, &#39;y&#39;: 1, &#39;z&#39;: 6}
</pre></div>
</div>
</div>
</div>
<p>Unlike sets, dictionaries can be indexed by their keys. This returns the value
stored at a particular key.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.get()</span></code> method also works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>You can set a default value to control for cases when the dictionary doesn’t
have a requested key.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Assign a new value to a key to update it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;x&#39;: 4, &#39;y&#39;: 1, &#39;z&#39;: 5}
</pre></div>
</div>
</div>
</div>
<p>Or use the <code class="docutils literal notranslate"><span class="pre">.update()</span></code> method in conjunction with the curly bracket and colon
syntax. Note that this is an <strong>in place</strong> operation. You do not need to
reassign the result to a variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>
<span class="n">counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;x&#39;: 10, &#39;y&#39;: 1, &#39;z&#39;: 5}
</pre></div>
</div>
</div>
</div>
<p>Either method also enables you to add new keys to a dictionary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="p">[</span><span class="s2">&quot;w&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;x&#39;: 10, &#39;y&#39;: 1, &#39;z&#39;: 5, &#39;w&#39;: 7}
</pre></div>
</div>
</div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">.pop()</span></code> removes a key–value pair.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;x&#39;: 10, &#39;y&#39;: 1, &#39;z&#39;: 5}
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.keys()</span></code> method returns all keys in a dictionary. Functionally, this is a
set.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;x&#39;, &#39;y&#39;, &#39;z&#39;])
</pre></div>
</div>
</div>
</div>
<p>Alternatively the <code class="docutils literal notranslate"><span class="pre">.values()</span></code> method returns a dictionary’s values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_values([10, 1, 5])
</pre></div>
</div>
</div>
</div>
<p>At the beginning of the chapter we imported a <code class="docutils literal notranslate"><span class="pre">Counter</span></code> object. This is a
special kind of dictionary. It counts its input and stores the results as
key–value pairs.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Counter</span></code> can work on characters:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Counter</span><span class="p">(</span><span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Counter({&#39; &#39;: 68672,
         &#39;e&#39;: 43982,
         &#39;t&#39;: 28282,
         &#39;a&#39;: 25362,
         &#39;o&#39;: 23768,
         &#39;n&#39;: 23223,
         &#39;i&#39;: 20389,
         &#39;s&#39;: 20132,
         &#39;r&#39;: 19603,
         &#39;h&#39;: 18909,
         &#39;d&#39;: 16233,
         &#39;l&#39;: 12164,
         &#39;m&#39;: 9958,
         &#39;u&#39;: 9880,
         &#39;c&#39;: 8490,
         &#39;f&#39;: 8188,
         &#39;y&#39;: 7442,
         &#39;\n&#39;: 7315,
         &#39;w&#39;: 7088,
         &#39;p&#39;: 5602,
         &#39;g&#39;: 5474,
         &#39;,&#39;: 4956,
         &#39;b&#39;: 4528,
         &#39;v&#39;: 3681,
         &#39;I&#39;: 3091,
         &#39;.&#39;: 2920,
         &#39;k&#39;: 1592,
         &#39;;&#39;: 971,
         &#39;x&#39;: 649,
         &#39;T&#39;: 550,
         &#39;“&#39;: 480,
         &#39;A&#39;: 351,
         &#39;j&#39;: 346,
         &#39;q&#39;: 313,
         &#39;”&#39;: 293,
         &#39;H&#39;: 287,
         &#39;M&#39;: 276,
         &#39;W&#39;: 274,
         &#39;S&#39;: 272,
         &#39;!&#39;: 238,
         &#39;?&#39;: 220,
         &#39;B&#39;: 219,
         &#39;z&#39;: 211,
         &#39;E&#39;: 190,
         &#39;C&#39;: 153,
         &#39;F&#39;: 151,
         &#39;’&#39;: 144,
         &#39;Y&#39;: 134,
         &#39;—&#39;: 124,
         &#39;-&#39;: 123,
         &#39;O&#39;: 107,
         &#39;D&#39;: 92,
         &#39;G&#39;: 90,
         &#39;_&#39;: 84,
         &#39;N&#39;: 77,
         &#39;L&#39;: 72,
         &#39;P&#39;: 69,
         &#39;J&#39;: 66,
         &#39;:&#39;: 48,
         &#39;‘&#39;: 43,
         &#39;R&#39;: 39,
         &#39;V&#39;: 36,
         &#39;1&#39;: 35,
         &#39;K&#39;: 24,
         &#39;æ&#39;: 21,
         &#39;7&#39;: 16,
         &#39;U&#39;: 16,
         &#39;2&#39;: 15,
         &#39;(&#39;: 15,
         &#39;)&#39;: 15,
         &#39;3&#39;: 6,
         &#39;ê&#39;: 6,
         &#39;8&#39;: 5,
         &#39;4&#39;: 4,
         &#39;5&#39;: 4,
         &#39;9&#39;: 4,
         &#39;[&#39;: 3,
         &#39;]&#39;: 3,
         &#39;6&#39;: 3,
         &#39;ô&#39;: 2,
         &#39;0&#39;: 2,
         &#39;é&#39;: 1,
         &#39;è&#39;: 1})
</pre></div>
</div>
</div>
</div>
<p>But it also works on containers like lists. That makes them highly useful for
our purposes. Below we calculate the token counts in <em>Frankenstein</em>…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">token_freq</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>…and use the <code class="docutils literal notranslate"><span class="pre">.most_common()</span></code> method to get the top-10 most frequent tokens
in the novel:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">top_ten</span> <span class="o">=</span> <span class="n">token_freq</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">top_ten</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;the&#39;, 3897),
 (&#39;and&#39;, 2903),
 (&#39;I&#39;, 2719),
 (&#39;of&#39;, 2634),
 (&#39;to&#39;, 2072),
 (&#39;my&#39;, 1631),
 (&#39;a&#39;, 1338),
 (&#39;in&#39;, 1071),
 (&#39;was&#39;, 992),
 (&#39;that&#39;, 974)]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="iteration">
<h2><span class="section-number">2.4. </span>Iteration<a class="headerlink" href="#iteration" title="Link to this heading">#</a></h2>
<p>The output of <code class="docutils literal notranslate"><span class="pre">.most_common()</span></code> is a list of tuples. You’ll see patterns like
this frequently: data structures wrapping other data structures. But while we
could work with this list as we could any list, indexing it to retrieve tuples,
which we could then index again, that would be inefficient for many operations.
More, it might require us to know in advance which elements are at what index
positions. This information is not always easily available, especially when
writing general-purpose code.</p>
<p>It would be better to work with our data in a more programmatic fashion. We can
do this with the above containers because they are all <strong>iterables</strong>: that is,
they enable us to step through each of their elements and do things like
perform checks, run calculations, or even move elements to other parts of our
code. This is called <strong>iterating</strong> through our data; each step is one
<strong>iteration</strong>.</p>
<section id="for-loops">
<h3><span class="section-number">2.4.1. </span>For-loops<a class="headerlink" href="#for-loops" title="Link to this heading">#</a></h3>
<p>The standard method for advancing through an iterable is a for-loop. Even if
you’ve never written a line of code before, you’ve probably heard of them. A
for-loop begins with the <code class="docutils literal notranslate"><span class="pre">for</span></code> keyword, followed by:</p>
<ul class="simple">
<li><p>A placeholder variable, which will be automatically assigned to an element at
the beginning of each iteration</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">in</span></code> keyword</p></li>
<li><p>An object with elements</p></li>
<li><p>A colon <code class="docutils literal notranslate"><span class="pre">:</span></code></p></li>
</ul>
<p>Code in the body of the loop must be indented. An equivalent of four spaces for
indentation is standard.</p>
<p>Below, we iterate through each tuple in <code class="docutils literal notranslate"><span class="pre">top_ten</span></code>. At the start of the
iteration, a tuple is assigned to <code class="docutils literal notranslate"><span class="pre">tup</span></code>; we then print this tuple.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tup</span> <span class="ow">in</span> <span class="n">top_ten</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;the&#39;, 3897)
(&#39;and&#39;, 2903)
(&#39;I&#39;, 2719)
(&#39;of&#39;, 2634)
(&#39;to&#39;, 2072)
(&#39;my&#39;, 1631)
(&#39;a&#39;, 1338)
(&#39;in&#39;, 1071)
(&#39;was&#39;, 992)
(&#39;that&#39;, 974)
</pre></div>
</div>
</div>
</div>
<p>For-loops can be nested inside of for-loops. Let’s re-implement the above with
two for-loops.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tup</span> <span class="ow">in</span> <span class="n">top_ten</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">tup</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>the
3897


and
2903


I
2719


of
2634


to
2072


my
1631


a
1338


in
1071


was
992


that
974
</pre></div>
</div>
</div>
</div>
<p>See how the outer <code class="docutils literal notranslate"><span class="pre">print</span></code> statement only triggers once the inner for-loop has
finished? Every iteration of the first for-loop kicks off the second for-loop
anew.</p>
<p>Within the indented portion of a for-loop you can perform checks and
computations. In every iteration below, we assign the token in the tuple to a
variable <code class="docutils literal notranslate"><span class="pre">tok</span></code> and its value to <code class="docutils literal notranslate"><span class="pre">val</span></code>. Then, we check whether <code class="docutils literal notranslate"><span class="pre">val</span></code> is even. If
it is, we print <code class="docutils literal notranslate"><span class="pre">tok</span></code> and <code class="docutils literal notranslate"><span class="pre">val</span></code>.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tup</span> <span class="ow">in</span> <span class="n">top_ten</span><span class="p">:</span>
    <span class="n">tok</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">tup</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">val</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">tok</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>of 2634
to 2072
a 1338
was 992
that 974
</pre></div>
</div>
</div>
</div>
<p>Oftentimes you want to save the result of a check. The easiest way to do this
is by creating a new, empty list and using <code class="docutils literal notranslate"><span class="pre">.append()</span></code> to add elements to it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_even</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">tup</span> <span class="ow">in</span> <span class="n">top_ten</span><span class="p">:</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">val</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">is_even</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">is_even</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;of&#39;, 2634), (&#39;to&#39;, 2072), (&#39;a&#39;, 1338), (&#39;was&#39;, 992), (&#39;that&#39;, 974)]
</pre></div>
</div>
</div>
</div>
<p>Other data structures are iterable in Python. In addition to lists, you’ll find
yourself iterating through dictionaries with some frequency. Use <code class="docutils literal notranslate"><span class="pre">.keys()</span></code> or
<code class="docutils literal notranslate"><span class="pre">.values()</span></code> to iterate, respectively, through the keys and values of a
dictionary. Or, use <code class="docutils literal notranslate"><span class="pre">.items()</span></code> to iterate through both at the same time. Note
that <code class="docutils literal notranslate"><span class="pre">.items()</span></code> requires using two placeholder variables separated by a comma
<code class="docutils literal notranslate"><span class="pre">,</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x -&gt; 10
y -&gt; 1
z -&gt; 5
</pre></div>
</div>
</div>
</div>
<p>Below, we divide every count in <code class="docutils literal notranslate"><span class="pre">token_freq</span></code> by the total number of tokens in
<em>Frankenstein</em> to express counts as percentages, using a new <code class="docutils literal notranslate"><span class="pre">Counter</span></code> to store
our results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_tokens</span> <span class="o">=</span> <span class="n">token_freq</span><span class="o">.</span><span class="n">total</span><span class="p">()</span>
<span class="n">percentages</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>

<span class="k">for</span> <span class="n">token</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">token_freq</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">percent</span> <span class="o">=</span> <span class="n">count</span> <span class="o">/</span> <span class="n">num_tokens</span>
    <span class="n">percentages</span><span class="p">[</span><span class="n">token</span><span class="p">]</span> <span class="o">=</span> <span class="n">percent</span>
</pre></div>
</div>
</div>
</div>
<p>Here is the equivalent of <code class="docutils literal notranslate"><span class="pre">top_ten</span></code>, but with percentages:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">percentages</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;the&#39;, 0.05197732577525842),
 (&#39;and&#39;, 0.038719573191063686),
 (&#39;I&#39;, 0.03626542180726909),
 (&#39;of&#39;, 0.035131710570190065),
 (&#39;to&#39;, 0.027635878626208737),
 (&#39;my&#39;, 0.021753917972657553),
 (&#39;a&#39;, 0.01784594864954985),
 (&#39;in&#39;, 0.014284761587195731),
 (&#39;was&#39;, 0.013231077025675225),
 (&#39;that&#39;, 0.012990996998999667)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="comprehensions">
<h3><span class="section-number">2.4.2. </span>Comprehensions<a class="headerlink" href="#comprehensions" title="Link to this heading">#</a></h3>
<p><strong>Comprehensions</strong> are idiomatic to Python. They allow you to perform
operations across an iterable without needing to pre-allocate an empty copy to
store the results. This makes them both concise and efficient. You will most
frequently see comprehensions used in the context of lists (i.e. “list
comprehensions”), but you can also use them for dictionaries and sets.</p>
<p>The syntax for comprehension includes the keywords <code class="docutils literal notranslate"><span class="pre">for</span></code> and <code class="docutils literal notranslate"><span class="pre">in</span></code>, just like a
for-loop. The difference is that in the list comprehension, the repeated code
comes <em>before</em> the <code class="docutils literal notranslate"><span class="pre">for</span></code> keyword rather than after it, and the entire
expression is enclosed in square brackets <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code>.</p>
<p>Below, we use the <code class="docutils literal notranslate"><span class="pre">.istitle()</span></code> method to find capitalized tokens in
<em>Frankenstein</em>. This method returns a Boolean value, so the resultant list will
contain <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code> values that specify capitalization at a certain
index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_title</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">istitle</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">]</span>
<span class="n">is_title</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[True, False, True, True, True, True, True, True, True, False]
</pre></div>
</div>
</div>
</div>
<p>That should be straightforward enough, but we don’t know which tokens these
values reference. With comprehensions, an easy way around this is to use an
<code class="docutils literal notranslate"><span class="pre">if</span></code> statement embedded in the comprehension. Put that statement and a
conditional check at the end of the comprehension to filter a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_title</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">istitle</span><span class="p">()]</span>
<span class="n">is_title</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Letter&#39;,
 &#39;_To&#39;,
 &#39;Mrs.&#39;,
 &#39;Saville,&#39;,
 &#39;England._&#39;,
 &#39;St.&#39;,
 &#39;Petersburgh,&#39;,
 &#39;Dec.&#39;,
 &#39;You&#39;,
 &#39;I&#39;]
</pre></div>
</div>
</div>
</div>
<p>Comprehensions become particularly powerful when you use them to manipulate
each element in an iterable. Below, we change all tokens to their lowercase
variants using <code class="docutils literal notranslate"><span class="pre">.lower()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lowercase</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">]</span>
<span class="n">lowercase</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;letter&#39;,
 &#39;1&#39;,
 &#39;_to&#39;,
 &#39;mrs.&#39;,
 &#39;saville,&#39;,
 &#39;england._&#39;,
 &#39;st.&#39;,
 &#39;petersburgh,&#39;,
 &#39;dec.&#39;,
 &#39;11th,&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="while-loops">
<h3><span class="section-number">2.4.3. </span>While-loops<a class="headerlink" href="#while-loops" title="Link to this heading">#</a></h3>
<p>While-loops continue iterating until a condition is met. Whereas a for-loop
only iterates through your data once, a while-loop iterates indefinitely. That
means you need to specify an <strong>exit condition</strong> to break out of your
while-loop, otherwise your code will get trapped and eventually your computer
will kill the process.</p>
<p>The syntax for a while-loop is quite simple: start it with the <code class="docutils literal notranslate"><span class="pre">while</span></code> keyword
and a condition. Below, we increment a counter to print the first ten tokens in
<em>Frankenstein</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">current_index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">current_index</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="n">current_index</span><span class="p">])</span>

    <span class="n">current_index</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Letter
1
_To
Mrs.
Saville,
England._
St.
Petersburgh,
Dec.
11th,
</pre></div>
</div>
</div>
</div>
<p>Note that we must specify, and then manually increment, the counter. If we
didn’t, the loop would have no reference telling it when it should break.</p>
<p>Here is a more open-ended loop. We set the condition to <code class="docutils literal notranslate"><span class="pre">True</span></code>, keeping the
loop running until we reach an exit condition. Then, for each iteration, we
index our list of tokens and check whether the token at that index matches the
one we’re looking for. If it does, the code prints that index position and
stops the iteration with a <code class="docutils literal notranslate"><span class="pre">break</span></code> statement. If it doesn’t, we increment the
counter and try again.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">find_first</span> <span class="o">=</span> <span class="s2">&quot;Frankenstein&quot;</span>
<span class="n">current_index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="n">current_index</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">find_first</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The first occurrence of&quot;</span><span class="p">,</span> <span class="n">find_first</span><span class="p">,</span> <span class="s2">&quot;is at&quot;</span><span class="p">,</span> <span class="n">current_index</span><span class="p">)</span>
        <span class="k">break</span>

    <span class="n">current_index</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The first occurrence of Frankenstein is at 18961
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="regular-expressions">
<h2><span class="section-number">2.5. </span>Regular Expressions<a class="headerlink" href="#regular-expressions" title="Link to this heading">#</a></h2>
<p>You have likely noticed by now that our tokenization strategy has created some
strange tokens. Most notably, punctuation sticks to words because there was no
whitespace to separate them. This means that, for our <code class="docutils literal notranslate"><span class="pre">Counter</span></code>, the following
two tokens are counted separately, even though they’re the same word:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">variants</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ship,&quot;</span><span class="p">,</span> <span class="s2">&quot;ship.&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">variants</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tok</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">token_freq</span><span class="p">[</span><span class="n">tok</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ship, -&gt; 2
ship. -&gt; 2
</pre></div>
</div>
</div>
</div>
<p>We can handle this in a number of ways. Many rely on writing out <strong>regular
expressions</strong>, or regexes. Regexes are special sequences of characters that
represent patterns for matching in text; these sequences are comprised of
regular old characters in text, or <strong>literals</strong>, and <strong>metacharacters</strong>,
special characters that stand for whole classes of literals. Regexes work as a
search mechanism, and they become highly useful in text processing for their
ability to find variants like the tokens above.</p>
<section id="literals">
<h3><span class="section-number">2.5.1. </span>Literals<a class="headerlink" href="#literals" title="Link to this heading">#</a></h3>
<p>The following regex will match on the string “ship”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ship</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;ship&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Note how we prepend our string with <code class="docutils literal notranslate"><span class="pre">r</span></code>. That tells Python to treat the string
as a regex sequence. Using <code class="docutils literal notranslate"><span class="pre">findall()</span></code> from the <code class="docutils literal notranslate"><span class="pre">re</span></code> module will return a list
of all matches on this regex:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">ship</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;]
</pre></div>
</div>
</div>
</div>
<p>When you use literals like this, Python will match only on the exact sequence.
But that’s a problem for us, because there’s no way to know whether the above
output refers to “ship” and any following punctuation, or if our regex has also
matched on words that contain “ship,” like “relationship” and “shipment.”</p>
<p>The latter will most certainly be the case. We’ll see this if we search with
<code class="docutils literal notranslate"><span class="pre">finditer()</span></code>. It finds all matches and also returns where they start and end in
the character sequence (the object returned is a <code class="docutils literal notranslate"><span class="pre">Match</span></code>). Below, we use those
start/end positions to glimpse the context of matches.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">found</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">ship</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
    <span class="c1"># Get the match text</span>
    <span class="n">span</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>

    <span class="c1"># Get its start and end, then offset both</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span> <span class="o">+</span> <span class="mi">2</span>

    <span class="c1"># Ensure our expanded start/end locations don&#39;t overshoot the string</span>
    <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">frankenstein</span><span class="p">):</span>
        <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frankenstein</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">span</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ship -&gt; rdship. 
ship -&gt; a ship t
ship -&gt; e
ship f
ship -&gt; d ship: 
ship -&gt; e ship o
ship -&gt; r ship. 
ship -&gt; ndship. 
ship -&gt; ndship a
ship -&gt; orship i
ship -&gt; onship, 
ship -&gt; ndship t
ship -&gt; rdship, 
ship -&gt; ndship, 
ship -&gt; onships 
ship -&gt; ndship? 
ship -&gt; onship w
ship -&gt; e shippi
ship -&gt; ndship w
ship -&gt; rdships

ship -&gt; e ship, 
ship -&gt; ndship o
ship -&gt; rdships.
ship -&gt; r ship. 
ship -&gt; rdships 
ship -&gt; rdships 
ship -&gt; r ship, 
ship -&gt; rdships.
ship -&gt; owship, 
</pre></div>
</div>
</div>
</div>
</section>
<section id="metacharacters">
<h3><span class="section-number">2.5.2. </span>Metacharacters<a class="headerlink" href="#metacharacters" title="Link to this heading">#</a></h3>
<p>Controlling for cases where our regex returns more than what we want requires
metacharacters.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.</span></code> metacharacter stands for any character except a newline <code class="docutils literal notranslate"><span class="pre">\n</span></code>.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship.&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship.&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship:&#39;,
 &#39;ship &#39;,
 &#39;ship.&#39;,
 &#39;ship.&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ships&#39;,
 &#39;ship?&#39;,
 &#39;ship &#39;,
 &#39;shipp&#39;,
 &#39;ship &#39;,
 &#39;ships&#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ships&#39;,
 &#39;ship.&#39;,
 &#39;ships&#39;,
 &#39;ships&#39;,
 &#39;ship,&#39;,
 &#39;ships&#39;,
 &#39;ship,&#39;]
</pre></div>
</div>
</div>
</div>
<p>If you want the literal period <code class="docutils literal notranslate"><span class="pre">.</span></code>, you need to use an <strong>escape character</strong>
<code class="docutils literal notranslate"><span class="pre">\</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship\.&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship.&#39;, &#39;ship.&#39;, &#39;ship.&#39;, &#39;ship.&#39;]
</pre></div>
</div>
</div>
</div>
<p>Note that this won’t work:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">, frankenstein)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">71</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">, frankenstein)</span>
               <span class="o">^</span>
<span class="ne">SyntaxError</span>: unterminated string literal (detected at line 1)
</pre></div>
</div>
</div>
</div>
<p>Instead, escape the escape character:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[]
</pre></div>
</div>
</div>
</div>
<p>No such characters in this text, however.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">+</span></code> as a repetition operator to find instances where the preceding
character is repeated at least once, but with no limit up to a newline
character. If we use it with <code class="docutils literal notranslate"><span class="pre">.</span></code>, it returns strings up to the ends of lines.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship.+&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship. I&#39;,
 &#39;ship there, which can easily be done by paying the&#39;,
 &#39;ship for his gentleness and the mildness of his discipline. This&#39;,
 &#39;ship: I have never believed it to be&#39;,
 &#39;ship on all sides, scarcely leaving her the sea-room in which&#39;,
 &#39;ship. We, however, lay to until the&#39;,
 &#39;ship. You have hope, and the world before you, and have no cause for&#39;,
 &#39;ship and&#39;,
 &#39;ship in his attachment to my mother, differing wholly from the&#39;,
 &#39;ship, and&#39;,
 &#39;ship to one among them. Henry&#39;,
 &#39;ship, and even danger for&#39;,
 &#39;ship, nor the beauty of earth, nor of&#39;,
 &#39;ships which&#39;,
 &#39;ship? I resolved, at least, not to despair, but in every way&#39;,
 &#39;ship with them. Yet even thus I&#39;,
 &#39;shipping for London. During this&#39;,
 &#39;ship was of that&#39;,
 &#39;ships&#39;,
 &#39;ship, but he escaped, I know not how.&#39;,
 &#39;ship of the villagers&#39;,
 &#39;ships. During the day I was&#39;,
 &#39;ship. I had determined, if you were going southwards,&#39;,
 &#39;ships into a death which I still dread, for my task is unfulfilled.&#39;,
 &#39;ships that I have undergone?&#39;,
 &#39;ship, brought to me a&#39;,
 &#39;ships.&#39;,
 &#39;ship, and I was still spurned. Was there no&#39;]
</pre></div>
</div>
</div>
</div>
<p>Related to <code class="docutils literal notranslate"><span class="pre">+</span></code> is <code class="docutils literal notranslate"><span class="pre">?</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code>. The first means “match zero or one”, while the
second means “match zero or more”. An example of <code class="docutils literal notranslate"><span class="pre">*</span></code> is below. Note we change
our regex slightly to demonstrate the zero matching.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship*&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shipp&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;ship&#39;,
 &#39;shi&#39;,
 &#39;shi&#39;,
 &#39;ship&#39;]
</pre></div>
</div>
</div>
</div>
<p>Use curly brackets <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code> in conjunction with numbers to specify a limit for how
many repetitions you want. Here is “match three to five”:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship.{3,5}&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship. I&#39;,
 &#39;ship ther&#39;,
 &#39;ship for &#39;,
 &#39;ship: I h&#39;,
 &#39;ship on a&#39;,
 &#39;ship. We,&#39;,
 &#39;ship. You&#39;,
 &#39;ship and&#39;,
 &#39;ship in h&#39;,
 &#39;ship, and&#39;,
 &#39;ship to o&#39;,
 &#39;ship, and&#39;,
 &#39;ship, nor&#39;,
 &#39;ships whi&#39;,
 &#39;ship? I r&#39;,
 &#39;ship with&#39;,
 &#39;shipping &#39;,
 &#39;ship was &#39;,
 &#39;ship, but&#39;,
 &#39;ship of t&#39;,
 &#39;ships. Du&#39;,
 &#39;ship. I h&#39;,
 &#39;ships int&#39;,
 &#39;ships tha&#39;,
 &#39;ship, bro&#39;,
 &#39;ship, and&#39;]
</pre></div>
</div>
</div>
</div>
<p>Want to constrain your search to particular characters? Parentheses <code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">)</span></code>
specify groups of characters, including metacharacters. Use them in conjunction
with the “or” operator <code class="docutils literal notranslate"><span class="pre">|</span></code> to get two (or more) variants of a string.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(ship\.|ship,)&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship.&#39;,
 &#39;ship.&#39;,
 &#39;ship.&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship.&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;]
</pre></div>
</div>
</div>
</div>
<p>Or, use square brackets <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> to specify literals following an “or” logic, e.g.
“character X or character Y or…”.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship[.,]&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship.&#39;,
 &#39;ship.&#39;,
 &#39;ship.&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship.&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;]
</pre></div>
</div>
</div>
</div>
<p>Note that literals are case-sensitive.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[Ss]everal&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;Several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;,
 &#39;several&#39;]
</pre></div>
</div>
</div>
</div>
<p>Including a space character is valid here:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship[., ]&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship.&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship.&#39;,
 &#39;ship.&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ship.&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;]
</pre></div>
</div>
</div>
</div>
<p>But you can also use <code class="docutils literal notranslate"><span class="pre">\s</span></code>. This specifies a <strong>character class</strong>: whole types of
characters (in this case, spaces).</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;ship[.,\s]&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ship.&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship.&#39;,
 &#39;ship.&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ship &#39;,
 &#39;ship,&#39;,
 &#39;ship &#39;,
 &#39;ship.&#39;,
 &#39;ship,&#39;,
 &#39;ship,&#39;]
</pre></div>
</div>
</div>
</div>
<p>Below, we find all spaces (and multiple space sequences) in the novel:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\s+&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39; &#39;,
 &#39;\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39;\n&#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 &#39; &#39;,
 ...]
</pre></div>
</div>
</div>
</div>
<p>There are also character classes for digits <code class="docutils literal notranslate"><span class="pre">\d</span></code> and alphanumeric characters
<code class="docutils literal notranslate"><span class="pre">\w</span></code>. Here is an example with digits, which you could use to find chapter
breaks:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Chapter \d+&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Chapter 1&#39;,
 &#39;Chapter 2&#39;,
 &#39;Chapter 3&#39;,
 &#39;Chapter 4&#39;,
 &#39;Chapter 5&#39;,
 &#39;Chapter 6&#39;,
 &#39;Chapter 7&#39;,
 &#39;Chapter 8&#39;,
 &#39;Chapter 9&#39;,
 &#39;Chapter 10&#39;,
 &#39;Chapter 11&#39;,
 &#39;Chapter 12&#39;,
 &#39;Chapter 13&#39;,
 &#39;Chapter 14&#39;,
 &#39;Chapter 15&#39;,
 &#39;Chapter 16&#39;,
 &#39;Chapter 17&#39;,
 &#39;Chapter 18&#39;,
 &#39;Chapter 19&#39;,
 &#39;Chapter 20&#39;,
 &#39;Chapter 21&#39;,
 &#39;Chapter 22&#39;,
 &#39;Chapter 23&#39;,
 &#39;Chapter 24&#39;]
</pre></div>
</div>
</div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">\w</span></code>, the pattern below specifies alphanumeric characters followed by a
newline.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\w+\n&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;1\n&#39;,
 &#39;_\n&#39;,
 &#39;the\n&#39;,
 &#39;evil\n&#39;,
 &#39;assure\n&#39;,
 &#39;success\n&#39;,
 &#39;of\n&#39;,
 &#39;which\n&#39;,
 &#39;this\n&#39;,
 &#39;towards\n&#39;,
 &#39;fervent\n&#39;,
 &#39;of\n&#39;,
 &#39;the\n&#39;,
 &#39;ever\n&#39;,
 &#39;a\n&#39;,
 &#39;put\n&#39;,
 &#39;in\n&#39;,
 &#39;habitable\n&#39;,
 &#39;the\n&#39;,
 &#39;undiscovered\n&#39;,
 &#39;I\n&#39;,
 &#39;may\n&#39;,
 &#39;this\n&#39;,
 &#39;I\n&#39;,
 &#39;world\n&#39;,
 &#39;by\n&#39;,
 &#39;to\n&#39;,
 &#39;this\n&#39;,
 &#39;little\n&#39;,
 &#39;his\n&#39;,
 &#39;you\n&#39;,
 &#39;all\n&#39;,
 &#39;pole\n&#39;,
 &#39;are\n&#39;,
 &#39;at\n&#39;,
 &#39;my\n&#39;,
 &#39;me\n&#39;,
 &#39;as\n&#39;,
 &#39;intellectual\n&#39;,
 &#39;I\n&#39;,
 &#39;have\n&#39;,
 &#39;Ocean\n&#39;,
 &#39;a\n&#39;,
 &#39;the\n&#39;,
 &#39;study\n&#39;,
 &#39;which\n&#39;,
 &#39;injunction\n&#39;,
 &#39;poets\n&#39;,
 &#39;also\n&#39;,
 &#39;the\n&#39;,
 &#39;well\n&#39;,
 &#39;my\n&#39;,
 &#39;I\n&#39;,
 &#39;this\n&#39;,
 &#39;I\n&#39;,
 &#39;often\n&#39;,
 &#39;my\n&#39;,
 &#39;those\n&#39;,
 &#39;derive\n&#39;,
 &#39;an\n&#39;,
 &#39;I\n&#39;,
 &#39;second\n&#39;,
 &#39;greatest\n&#39;,
 &#39;to\n&#39;,
 &#39;encouraging\n&#39;,
 &#39;is\n&#39;,
 &#39;am\n&#39;,
 &#39;which\n&#39;,
 &#39;spirits\n&#39;,
 &#39;fly\n&#39;,
 &#39;in\n&#39;,
 &#39;The\n&#39;,
 &#39;have\n&#39;,
 &#39;the\n&#39;,
 &#39;exercise\n&#39;,
 &#39;no\n&#39;,
 &#39;and\n&#39;,
 &#39;my\n&#39;,
 &#39;the\n&#39;,
 &#39;necessary\n&#39;,
 &#39;to\n&#39;,
 &#39;how\n&#39;,
 &#39;your\n&#39;,
 &#39;Walton\n&#39;,
 &#39;2\n&#39;,
 &#39;_\n&#39;,
 &#39;a\n&#39;,
 &#39;have\n&#39;,
 &#39;certainly\n&#39;,
 &#39;the\n&#39;,
 &#39;no\n&#39;,
 &#39;there\n&#39;,
 &#39;no\n&#39;,
 &#39;thoughts\n&#39;,
 &#39;of\n&#39;,
 &#39;whose\n&#39;,
 &#39;I\n&#39;,
 &#39;yet\n&#39;,
 &#39;whose\n&#39;,
 &#39;a\n&#39;,
 &#39;execution\n&#39;,
 &#39;me\n&#39;,
 &#39;wild\n&#39;,
 &#39;own\n&#39;,
 &#39;its\n&#39;,
 &#39;the\n&#39;,
 &#39;native\n&#39;,
 &#39;many\n&#39;,
 &#39;my\n&#39;,
 &#39;painters\n&#39;,
 &#39;sense\n&#39;,
 &#39;to\n&#39;,
 &#39;the\n&#39;,
 &#39;Yet\n&#39;,
 &#39;these\n&#39;,
 &#39;courage\n&#39;,
 &#39;phrase\n&#39;,
 &#39;an\n&#39;,
 &#39;of\n&#39;,
 &#39;assist\n&#39;,
 &#39;the\n&#39;,
 &#39;This\n&#39;,
 &#39;made\n&#39;,
 &#39;years\n&#39;,
 &#39;the\n&#39;,
 &#39;to\n&#39;,
 &#39;be\n&#39;,
 &#39;kindliness\n&#39;,
 &#39;felt\n&#39;,
 &#39;heard\n&#39;,
 &#39;the\n&#39;,
 &#39;loved\n&#39;,
 &#39;considerable\n&#39;,
 &#39;saw\n&#39;,
 &#39;in\n&#39;,
 &#39;friend\n&#39;,
 &#39;his\n&#39;,
 &#39;he\n&#39;,
 &#39;his\n&#39;,
 &#39;young\n&#39;,
 &#39;old\n&#39;,
 &#39;returned\n&#39;,
 &#39;her\n&#39;,
 &#39;is\n&#39;,
 &#39;kind\n&#39;,
 &#39;conduct\n&#39;,
 &#39;which\n&#39;,
 &#39;can\n&#39;,
 &#39;am\n&#39;,
 &#39;voyage\n&#39;,
 &#39;The\n&#39;,
 &#39;it\n&#39;,
 &#39;sail\n&#39;,
 &#39;me\n&#39;,
 &#39;the\n&#39;,
 &#39;my\n&#39;,
 &#39;of\n&#39;,
 &#39;which\n&#39;,
 &#39;the\n&#39;,
 &#39;not\n&#39;,
 &#39;and\n&#39;,
 &#39;I\n&#39;,
 &#39;my\n&#39;,
 &#39;that\n&#39;,
 &#39;something\n&#39;,
 &#39;practically\n&#39;,
 &#39;and\n&#39;,
 &#39;belief\n&#39;,
 &#39;out\n&#39;,
 &#39;unvisited\n&#39;,
 &#39;after\n&#39;,
 &#39;of\n&#39;,
 &#39;to\n&#39;,
 &#39;to\n&#39;,
 &#39;when\n&#39;,
 &#39;Walton\n&#39;,
 &#39;3\n&#39;,
 &#39;_\n&#39;,
 &#39;advanced\n&#39;,
 &#39;on\n&#39;,
 &#39;not\n&#39;,
 &#39;good\n&#39;,
 &#39;the\n&#39;,
 &#39;dangers\n&#39;,
 &#39;We\n&#39;,
 &#39;of\n&#39;,
 &#39;desire\n&#39;,
 &#39;not\n&#39;,
 &#39;a\n&#39;,
 &#39;are\n&#39;,
 &#39;and\n&#39;,
 &#39;as\n&#39;,
 &#39;I\n&#39;,
 &#39;stars\n&#39;,
 &#39;not\n&#39;,
 &#39;the\n&#39;,
 &#39;must\n&#39;,
 &#39;4\n&#39;,
 &#39;_\n&#39;,
 &#39;forbear\n&#39;,
 &#39;before\n&#39;,
 &#39;closed\n&#39;,
 &#39;which\n&#39;,
 &#39;we\n&#39;,
 &#39;out\n&#39;,
 &#39;to\n&#39;,
 &#39;to\n&#39;,
 &#39;suddenly\n&#39;,
 &#39;own\n&#39;,
 &#39;by\n&#39;,
 &#39;a\n&#39;,
 &#39;progress\n&#39;,
 &#39;the\n&#39;,
 &#39;that\n&#39;,
 &#39;by\n&#39;,
 &#39;the\n&#39;,
 &#39;before\n&#39;,
 &#39;the\n&#39;,
 &#39;which\n&#39;,
 &#39;to\n&#39;,
 &#39;and\n&#39;,
 &#39;apparently\n&#39;,
 &#39;we\n&#39;,
 &#39;large\n&#39;,
 &#39;human\n&#39;,
 &#39;of\n&#39;,
 &#39;the\n&#39;,
 &#39;perish\n&#39;,
 &#39;a\n&#39;,
 &#39;addressed\n&#39;,
 &#39;have\n&#39;,
 &#39;not\n&#39;,
 &#39;I\n&#39;,
 &#39;the\n&#39;,
 &#39;for\n&#39;,
 &#39;were\n&#39;,
 &#39;and\n&#39;,
 &#39;attempted\n&#39;,
 &#39;fresh\n&#39;,
 &#39;and\n&#39;,
 &#39;to\n&#39;,
 &#39;we\n&#39;,
 &#39;the\n&#39;,
 &#39;often\n&#39;,
 &#39;he\n&#39;,
 &#39;and\n&#39;,
 &#39;more\n&#39;,
 &#39;of\n&#39;,
 &#39;anyone\n&#39;,
 &#39;most\n&#39;,
 &#39;with\n&#39;,
 &#39;he\n&#39;,
 &#39;his\n&#39;,
 &#39;off\n&#39;,
 &#39;not\n&#39;,
 &#39;body\n&#39;,
 &#39;ice\n&#39;,
 &#39;and\n&#39;,
 &#39;we\n&#39;,
 &#39;of\n&#39;,
 &#39;had\n&#39;,
 &#39;good\n&#39;,
 &#39;to\n&#39;,
 &#39;have\n&#39;,
 &#39;the\n&#39;,
 &#39;answer\n&#39;,
 &#39;near\n&#39;,
 &#39;safety\n&#39;,
 &#39;the\n&#39;,
 &#39;for\n&#39;,
 &#39;in\n&#39;,
 &#39;instant\n&#39;,
 &#39;the\n&#39;,
 &#39;very\n&#39;,
 &#39;all\n&#39;,
 &#39;communication\n&#39;,
 &#39;his\n&#39;,
 &#39;must\n&#39;,
 &#39;wreck\n&#39;,
 &#39;friend\n&#39;,
 &#39;been\n&#39;,
 &#39;brother\n&#39;,
 &#39;my\n&#39;,
 &#39;so\n&#39;,
 &#39;poignant\n&#39;,
 &#39;and\n&#39;,
 &#39;although\n&#39;,
 &#39;he\n&#39;,
 &#39;frequently\n&#39;,
 &#39;without\n&#39;,
 &#39;my\n&#39;,
 &#39;taken\n&#39;,
 &#39;the\n&#39;,
 &#39;soul\n&#39;,
 &#39;would\n&#39;,
 &#39;my\n&#39;,
 &#39;for\n&#39;,
 &#39;should\n&#39;,
 &#39;a\n&#39;,
 &#39;I\n&#39;,
 &#39;before\n&#39;,
 &#39;trickle\n&#39;,
 &#39;I\n&#39;,
 &#39;you\n&#39;,
 &#39;the\n&#39;,
 &#39;weakened\n&#39;,
 &#39;were\n&#39;,
 &#39;despise\n&#39;,
 &#39;of\n&#39;,
 &#39;asked\n&#39;,
 &#39;it\n&#39;,
 &#39;a\n&#39;,
 &#39;than\n&#39;,
 &#39;could\n&#39;,
 &#39;are\n&#39;,
 &#39;than\n&#39;,
 &#39;to\n&#39;,
 &#39;most\n&#39;,
 &#39;respecting\n&#39;,
 &#39;for\n&#39;,
 &#39;life\n&#39;,
 &#39;settled\n&#39;,
 &#39;presently\n&#39;,
 &#39;he\n&#39;,
 &#39;sight\n&#39;,
 &#39;of\n&#39;,
 &#39;he\n&#39;,
 &#39;he\n&#39;,
 &#39;a\n&#39;,
 &#39;divine\n&#39;,
 &#39;and\n&#39;,
 &#39;therefore\n&#39;,
 &#39;to\n&#39;,
 &#39;I\n&#39;,
 &#39;that\n&#39;,
 &#39;I\n&#39;,
 &#39;failing\n&#39;,
 &#39;unequalled\n&#39;,
 &#39;a\n&#39;,
 &#39;Captain\n&#39;,
 &#39;had\n&#39;,
 &#39;with\n&#39;,
 &#39;for\n&#39;,
 &#39;the\n&#39;,
 &#39;mine\n&#39;,
 &#39;be\n&#39;,
 &#39;same\n&#39;,
 &#39;me\n&#39;,
 &#39;one\n&#39;,
 &#39;you\n&#39;,
 &#39;usually\n&#39;,
 &#39;might\n&#39;,
 &#39;things\n&#39;,
 &#39;would\n&#39;,
 &#39;powers\n&#39;,
 &#39;series\n&#39;,
 &#39;offered\n&#39;,
 &#39;by\n&#39;,
 &#39;hear\n&#39;,
 &#39;strong\n&#39;,
 &#39;expressed\n&#39;,
 &#39;is\n&#39;,
 &#39;I\n&#39;,
 &#39;my\n&#39;,
 &#39;my\n&#39;,
 &#39;is\n&#39;,
 &#39;I\n&#39;,
 &#39;have\n&#39;,
 &#39;to\n&#39;,
 &#39;during\n&#39;,
 &#39;This\n&#39;,
 &#39;who\n&#39;,
 &#39;and\n&#39;,
 &#39;my\n&#39;,
 &#39;me\n&#39;,
 &#39;in\n&#39;,
 &#39;soul\n&#39;,
 &#39;which\n&#39;,
 &#39;1\n&#39;,
 &#39;most\n&#39;,
 &#39;years\n&#39;,
 &#39;public\n&#39;,
 &#39;who\n&#39;,
 &#39;public\n&#39;,
 &#39;the\n&#39;,
 &#39;his\n&#39;,
 &#39;a\n&#39;,
 &#39;cannot\n&#39;,
 &#39;a\n&#39;,
 &#39;numerous\n&#39;,
 &#39;a\n&#39;,
 &#39;poverty\n&#39;,
 &#39;been\n&#39;,
 &#39;his\n&#39;,
 &#39;in\n&#39;,
 &#39;and\n&#39;,
 &#39;conduct\n&#39;,
 &#39;in\n&#39;,
 &#39;begin\n&#39;,
 &#39;ten\n&#39;,
 &#39;the\n&#39;,
 &#39;Beaufort\n&#39;,
 &#39;but\n&#39;,
 &#39;in\n&#39;,
 &#39;a\n&#39;,
 &#39;for\n&#39;,
 &#39;end\n&#39;,
 &#39;saw\n&#39;,
 &#39;that\n&#39;,
 &#39;Beaufort\n&#39;,
 &#39;support\n&#39;,
 &#39;and\n&#39;,
 &#39;to\n&#39;,
 &#39;time\n&#39;,
 &#39;subsistence\n&#39;,
 &#39;leaving\n&#39;,
 &#39;knelt\n&#39;,
 &#39;the\n&#39;,
 &#39;who\n&#39;,
 &#39;he\n&#39;,
 &#39;a\n&#39;,
 &#39;but\n&#39;,
 &#39;devoted\n&#39;,
 &#39;mind\n&#39;,
 &#39;love\n&#39;,
 &#39;the\n&#39;,
 &#39;set\n&#39;,
 &#39;and\n&#39;,
 &#39;the\n&#39;,
 &#39;her\n&#39;,
 &#39;recompensing\n&#39;,
 &#39;grace\n&#39;,
 &#39;wishes\n&#39;,
 &#39;is\n&#39;,
 &#39;her\n&#39;,
 &#39;and\n&#39;,
 &#39;hitherto\n&#39;,
 &#39;During\n&#39;,
 &#39;had\n&#39;,
 &#39;after\n&#39;,
 &#39;change\n&#39;,
 &#39;born\n&#39;,
 &#39;remained\n&#39;,
 &#39;each\n&#39;,
 &#39;very\n&#39;,
 &#39;and\n&#39;,
 &#39;my\n&#39;,
 &#39;something\n&#39;,
 &#39;on\n&#39;,
 &#39;in\n&#39;,
 &#39;fulfilled\n&#39;,
 &#39;owed\n&#39;,
 &#39;spirit\n&#39;,
 &#39;during\n&#39;,
 &#39;but\n&#39;,
 &#39;a\n&#39;,
 &#39;five\n&#39;,
 &#39;they\n&#39;,
 &#39;benevolent\n&#39;,
 &#39;my\n&#39;,
 &#39;a\n&#39;,
 &#39;been\n&#39;,
 &#39;the\n&#39;,
 &#39;vale\n&#39;,
 &#39;number\n&#39;,
 &#39;worst\n&#39;,
 &#39;to\n&#39;,
 &#39;far\n&#39;,
 &#39;were\n&#39;,
 &#39;Her\n&#39;,
 &#39;her\n&#39;,
 &#39;was\n&#39;,
 &#39;of\n&#39;,
 &#39;behold\n&#39;,
 &#39;and\n&#39;,
 &#39;was\n&#39;,
 &#39;a\n&#39;,
 &#39;with\n&#39;,
 &#39;been\n&#39;,
 &#39;their\n&#39;,
 &#39;glory\n&#39;,
 &#39;exerted\n&#39;,
 &#39;its\n&#39;,
 &#39;Austria\n&#39;,
 &#39;and\n&#39;,
 &#39;rude\n&#39;,
 &#39;of\n&#39;,
 &#39;seemed\n&#39;,
 &#39;lighter\n&#39;,
 &#39;his\n&#39;,
 &#39;their\n&#39;,
 &#39;seemed\n&#39;,
 &#39;poverty\n&#39;,
 &#39;They\n&#39;,
 &#39;Lavenza\n&#39;,
 &#39;than\n&#39;,
 &#39;and\n&#39;,
 &#39;reverential\n&#39;,
 &#39;my\n&#39;,
 &#39;to\n&#39;,
 &#39;my\n&#39;,
 &#39;she\n&#39;,
 &#39;childish\n&#39;,
 &#39;Elizabeth\n&#39;,
 &#39;on\n&#39;,
 &#39;other\n&#39;,
 &#39;body\n&#39;,
 &#39;than\n&#39;,
 &#39;2\n&#39;,
 &#39;in\n&#39;,
 &#39;of\n&#39;,
 &#39;and\n&#39;,
 &#39;us\n&#39;,
 &#39;concentrated\n&#39;,
 &#39;intense\n&#39;,
 &#39;Swiss\n&#39;,
 &#39;of\n&#39;,
 &#39;the\n&#39;,
 &#39;their\n&#39;,
 &#39;the\n&#39;,
 &#39;gave\n&#39;,
 &#39;native\n&#39;,
 &#39;a\n&#39;,
 &#39;the\n&#39;,
 &#39;my\n&#39;,
 &#39;was\n&#39;,
 &#39;united\n&#39;,
 &#39;Henry\n&#39;,
 &#39;singular\n&#39;,
 &#39;for\n&#39;,
 &#39;He\n&#39;,
 &#39;and\n&#39;,
 &#39;into\n&#39;,
 &#39;of\n&#39;,
 &#39;chivalrous\n&#39;,
 &#39;hands\n&#39;,
 &#39;My\n&#39;,
 &#39;to\n&#39;,
 &#39;delights\n&#39;,
 &#39;distinctly\n&#39;,
 &#39;assisted\n&#39;,
 &#39;some\n&#39;,
 &#39;pursuits\n&#39;,
 &#39;things\n&#39;,
 &#39;states\n&#39;,
 &#39;earth\n&#39;,
 &#39;of\n&#39;,
 &#39;man\n&#39;,
 &#39;moral\n&#39;,
 &#39;was\n&#39;,
 &#39;the\n&#39;,
 &#39;soul\n&#39;,
 &#39;of\n&#39;,
 &#39;was\n&#39;,
 &#39;become\n&#39;,
 &#39;that\n&#39;,
 &#39;And\n&#39;,
 &#39;Yet\n&#39;,
 &#39;his\n&#39;,
 &#39;for\n&#39;,
 &#39;of\n&#39;,
 &#39;soaring\n&#39;,
 &#39;of\n&#39;,
 &#39;which\n&#39;,
 &#39;would\n&#39;,
 &#39;my\n&#39;,
 &#39;almost\n&#39;,
 &#39;torrent\n&#39;,
 &#39;my\n&#39;,
 &#39;went\n&#39;,
 &#39;the\n&#39;,
 &#39;I\n&#39;,
 &#39;it\n&#39;,
 &#39;wonderful\n&#39;,
 &#39;new\n&#39;,
 &#39;my\n&#39;,
 &#39;my\n&#39;,
 &#39;waste\n&#39;,
 &#39;me\n&#39;,
 &#39;modern\n&#39;,
 &#39;powers\n&#39;,
 &#39;while\n&#39;,
 &#39;I\n&#39;,
 &#39;my\n&#39;,
 &#39;my\n&#39;,
 &#39;never\n&#39;,
 &#39;glance\n&#39;,
 &#39;was\n&#39;,
 &#39;greatest\n&#39;,
 &#39;this\n&#39;,
 &#39;and\n&#39;,
 &#39;me\n&#39;,
 &#39;always\n&#39;,
 &#39;of\n&#39;,
 &#39;modern\n&#39;,
 &#39;picking\n&#39;,
 &#39;his\n&#39;,
 &#39;acquainted\n&#39;,
 &#39;same\n&#39;,
 &#39;acquainted\n&#39;,
 &#39;little\n&#39;,
 &#39;immortal\n&#39;,
 &#39;causes\n&#39;,
 &#39;I\n&#39;,
 &#39;keep\n&#39;,
 &#39;and\n&#39;,
 &#39;knew\n&#39;,
 &#39;their\n&#39;,
 &#39;eighteenth\n&#39;,
 &#39;of\n&#39;,
 &#39;favourite\n&#39;,
 &#39;a\n&#39;,
 &#39;greatest\n&#39;,
 &#39;elixir\n&#39;,
 &#39;an\n&#39;,
 &#39;could\n&#39;,
 &#39;but\n&#39;,
 &#39;a\n&#39;,
 &#39;which\n&#39;,
 &#39;I\n&#39;,
 &#39;a\n&#39;,
 &#39;was\n&#39;,
 &#39;thousand\n&#39;,
 &#39;of\n&#39;,
 &#39;childish\n&#39;,
 &#39;near\n&#39;,
 &#39;It\n&#39;,
 &#39;once\n&#39;,
 &#39;an\n&#39;,
 &#39;so\n&#39;,
 &#39;nothing\n&#39;,
 &#39;found\n&#39;,
 &#39;the\n&#39;,
 &#39;beheld\n&#39;,
 &#39;of\n&#39;,
 &#39;natural\n&#39;,
 &#39;on\n&#39;,
 &#39;of\n&#39;,
 &#39;by\n&#39;,
 &#39;my\n&#39;,
 &#39;ever\n&#39;,
 &#39;grew\n&#39;,
 &#39;perhaps\n&#39;,
 &#39;former\n&#39;,
 &#39;deformed\n&#39;,
 &#39;a\n&#39;,
 &#39;of\n&#39;,
 &#39;the\n&#39;,
 &#39;as\n&#39;,
 &#39;ligaments\n&#39;,
 &#39;me\n&#39;,
 &#39;the\n&#39;,
 &#39;effort\n&#39;,
 &#39;even\n&#39;,
 &#39;was\n&#39;,
 &#39;which\n&#39;,
 &#39;tormenting\n&#39;,
 &#39;with\n&#39;,
 &#39;and\n&#39;,
 &#39;3\n&#39;,
 &#39;I\n&#39;,
 &#39;had\n&#39;,
 &#39;it\n&#39;,
 &#39;made\n&#39;,
 &#39;My\n&#39;,
 &#39;day\n&#39;,
 &#39;life\n&#39;,
 &#39;was\n&#39;,
 &#39;to\n&#39;,
 &#39;first\n&#39;,
 &#39;her\n&#39;,
 &#39;She\n&#39;,
 &#39;malignity\n&#39;,
 &#39;this\n&#39;,
 &#39;mother\n&#39;,
 &#39;the\n&#39;,
 &#39;her\n&#39;,
 &#39;desert\n&#39;,
 &#39;My\n&#39;,
 &#39;were\n&#39;,
 &#39;the\n&#39;,
 &#39;to\n&#39;,
 &#39;happy\n&#39;,
 &#39;are\n&#39;,
 &#39;to\n&#39;,
 &#39;rent\n&#39;,
 &#39;the\n&#39;,
 &#39;so\n&#39;,
 &#39;day\n&#39;,
 &#39;departed\n&#39;,
 &#39;been\n&#39;,
 &#39;ear\n&#39;,
 &#39;of\n&#39;,
 &#39;the\n&#39;,
 &#39;has\n&#39;,
 &#39;I\n&#39;,
 &#39;at\n&#39;,
 &#39;and\n&#39;,
 &#39;a\n&#39;,
 &#39;still\n&#39;,
 &#39;the\n&#39;,
 &#39;the\n&#39;,
 &#39;of\n&#39;,
 &#39;of\n&#39;,
 &#39;was\n&#39;,
 &#39;above\n&#39;,
 &#39;and\n&#39;,
 &#39;call\n&#39;,
 &#39;last\n&#39;,
 &#39;permit\n&#39;,
 &#39;His\n&#39;,
 &#39;the\n&#39;,
 &#39;misfortune\n&#39;,
 &#39;when\n&#39;,
 &#39;a\n&#39;,
 &#39;details\n&#39;,
 &#39;nor\n&#39;,
 &#39;we\n&#39;,
 &#39;the\n&#39;,
 &#39;the\n&#39;,
 &#39;father\n&#39;,
 &#39;to\n&#39;,
 &#39;last\n&#39;,
 &#39;in\n&#39;,
 &#39;by\n&#39;,
 &#39;mutual\n&#39;,
 &#39;I\n&#39;,
 &#39;hitherto\n&#39;,
 &#39;invincible\n&#39;,
 &#39;and\n&#39;,
 &#39;myself\n&#39;,
 &#39;as\n&#39;,
 &#39;I\n&#39;,
 &#39;had\n&#39;,
 &#39;to\n&#39;,
 &#39;my\n&#39;,
 &#39;the\n&#39;,
 &#39;was\n&#39;,
 &#39;to\n&#39;,
 &#39;evil\n&#39;,
 &#39;me\n&#39;,
 &#39;s\n&#39;,
 &#39;He\n&#39;,
 &#39;He\n&#39;,
 &#39;branches\n&#39;,
 &#39;and\n&#39;,
 &#39;principal\n&#39;,
 &#39;he\n&#39;,
 &#39;with\n&#39;,
 &#39;utterly\n&#39;,
 &#39;systems\n&#39;,
 &#39;you\n&#39;,
 &#39;they\n&#39;,
 &#39;scientific\n&#39;,
 &#39;dear\n&#39;,
 &#39;books\n&#39;,
 &#39;and\n&#39;,
 &#39;following\n&#39;,
 &#39;natural\n&#39;,
 &#39;fellow\n&#39;,
 &#39;he\n&#39;,
 &#39;long\n&#39;,
 &#39;I\n&#39;,
 &#39;any\n&#39;,
 &#39;a\n&#39;,
 &#39;in\n&#39;,
 &#39;a\n&#39;,
 &#39;come\n&#39;,
 &#39;been\n&#39;,
 &#39;natural\n&#39;,
 &#39;my\n&#39;,
 &#39;the\n&#39;,
 &#39;the\n&#39;,
 &#39;sought\n&#39;,
 &#39;now\n&#39;,
 &#39;limit\n&#39;,
 &#39;in\n&#39;,
 &#39;of\n&#39;,
 &#39;my\n&#39;,
 &#39;becoming\n&#39;,
 &#39;new\n&#39;,
 &#39;information\n&#39;,
 &#39;I\n&#39;,
 &#39;deliver\n&#39;,
 &#39;lecturing\n&#39;,
 &#39;very\n&#39;,
 &#39;an\n&#39;,
 &#39;his\n&#39;,
 &#39;person\n&#39;,
 &#39;and\n&#39;,
 &#39;pronouncing\n&#39;,
 &#39;took\n&#39;,
 &#39;of\n&#39;,
 &#39;he\n&#39;,
 &#39;I\n&#39;,
 &#39;masters\n&#39;,
 &#39;that\n&#39;,
 &#39;seem\n&#39;,
 &#39;or\n&#39;,
 &#39;recesses\n&#39;,
 &#39;the\n&#39;,
 &#39;of\n&#39;,
 &#39;even\n&#39;,
 &#39;of\n&#39;,
 &#39;soul\n&#39;,
 &#39;were\n&#39;,
 &#39;was\n&#39;,
 &#39;of\n&#39;,
 &#39;steps\n&#39;,
 &#39;and\n&#39;,
 &#39;of\n&#39;,
 &#39;I\n&#39;,
 &#39;to\n&#39;,
 &#39;a\n&#39;,
 &#39;His\n&#39;,
 &#39;in\n&#39;,
 &#39;I\n&#39;,
 &#39;had\n&#39;,
 &#39;little\n&#39;,
 &#39;Cornelius\n&#39;,
 &#39;had\n&#39;,
 &#39;zeal\n&#39;,
 &#39;their\n&#39;,
 &#39;names\n&#39;,
 &#39;a\n&#39;,
 &#39;The\n&#39;,
 &#39;ever\n&#39;,
 &#39;I\n&#39;,
 &#39;presumption\n&#39;,
 &#39;my\n&#39;,
 &#39;measured\n&#39;,
 &#39;his\n&#39;,
 &#39;have\n&#39;,
 &#39;intended\n&#39;,
 &#39;to\n&#39;,
 &#39;a\n&#39;,
 &#39;of\n&#39;,
 &#39;the\n&#39;,
 &#39;that\n&#39;,
 &#39;not\n&#39;,
 &#39;sorry\n&#39;,
 &#39;your\n&#39;,
 &#39;petty\n&#39;,
 &#39;natural\n&#39;,
 &#39;his\n&#39;,
 &#39;and\n&#39;,
 &#39;in\n&#39;,
 &#39;of\n&#39;,
 &#39;4\n&#39;,
 &#39;the\n&#39;,
 &#39;the\n&#39;,
 &#39;the\n&#39;,
 &#39;sense\n&#39;,
 &#39;repulsive\n&#39;,
 &#39;In\n&#39;,
 &#39;by\n&#39;,
 &#39;and\n&#39;,
 &#39;ways\n&#39;,
 &#39;abstruse\n&#39;,
 &#39;at\n&#39;,
 &#39;and\n&#39;,
 &#39;the\n&#39;,
 &#39;progress\n&#39;,
 &#39;and\n&#39;,
 &#39;Waldman\n&#39;,
 &#39;years\n&#39;,
 &#39;was\n&#39;,
 &#39;I\n&#39;,
 &#39;conceive\n&#39;,
 &#39;as\n&#39;,
 &#39;in\n&#39;,
 &#39;must\n&#39;,
 &#39;who\n&#39;,
 &#39;was\n&#39;,
 &#39;two\n&#39;,
 &#39;chemical\n&#39;,
 &#39;the\n&#39;,
 &#39;well\n&#39;,
 &#39;as\n&#39;,
 &#39;my\n&#39;,
 &#39;thought\n&#39;,
 &#39;incident\n&#39;,
 &#39;was\n&#39;,
 &#39;with\n&#39;,
 &#39;a\n&#39;,
 &#39;becoming\n&#39;,
 &#39;our\n&#39;,
 &#39;determined\n&#39;,
 &#39;of\n&#39;,
 &#39;been\n&#39;,
 &#39;this\n&#39;,
 &#39;the\n&#39;,
 &#39;became\n&#39;,
 &#39;I\n&#39;,
 &#39;my\n&#39;,
 &#39;ever\n&#39;,
 &#39;feared\n&#39;,
 &#39;and\n&#39;,
 &#39;of\n&#39;,
 &#39;become\n&#39;,
 &#39;of\n&#39;,
 &#39;and\n&#39;,
 &#39;most\n&#39;,
 &#39;the\n&#39;,
 &#39;of\n&#39;,
 &#39;worm\n&#39;,
 &#39;and\n&#39;,
 &#39;change\n&#39;,
 &#39;this\n&#39;,
 &#39;and\n&#39;,
 &#39;immensity\n&#39;,
 &#39;so\n&#39;,
 &#39;same\n&#39;,
 &#39;a\n&#39;,
 &#39;not\n&#39;,
 &#39;is\n&#39;,
 &#39;the\n&#39;,
 &#39;of\n&#39;,
 &#39;of\n&#39;,
 &#39;bestowing\n&#39;,
 &#39;discovery\n&#39;,
 &#39;in\n&#39;,
 &#39;the\n&#39;,
 &#39;so\n&#39;,
 &#39;been\n&#39;,
 &#39;creation\n&#39;,
 &#39;it\n&#39;,
 &#39;a\n&#39;,
 &#39;them\n&#39;,
 &#39;already\n&#39;,
 &#39;dead\n&#39;,
 &#39;seemingly\n&#39;,
 &#39;eyes\n&#39;,
 &#39;with\n&#39;,
 &#39;end\n&#39;,
 &#39;that\n&#39;,
 &#39;my\n&#39;,
 &#39;of\n&#39;,
 &#39;town\n&#39;,
 &#39;nature\n&#39;,
 &#39;hesitated\n&#39;,
 &#39;to\n&#39;,
 &#39;of\n&#39;,
 &#39;inconceivable\n&#39;,
 &#39;the\n&#39;,
 &#39;my\n&#39;,
 &#39;to\n&#39;,
 &#39;wonderful\n&#39;,
 &#39;appeared\n&#39;,
 &#39;should\n&#39;,
 &#39;my\n&#39;,
 &#39;be\n&#39;,
 &#39;takes\n&#39;,
 &#39;present\n&#39;,
 &#39;Nor\n&#39;,
 &#39;any\n&#39;,
 &#39;I\n&#39;,
 &#39;parts\n&#39;,
 &#39;first\n&#39;,
 &#39;having\n&#39;,
 &#39;successfully\n&#39;,
 &#39;like\n&#39;,
 &#39;death\n&#39;,
 &#39;and\n&#39;,
 &#39;bless\n&#39;,
 &#39;would\n&#39;,
 &#39;his\n&#39;,
 &#39;these\n&#39;,
 &#39;lifeless\n&#39;,
 &#39;undertaking\n&#39;,
 &#39;my\n&#39;,
 &#39;very\n&#39;,
 &#39;the\n&#39;,
 &#39;alone\n&#39;,
 &#39;moon\n&#39;,
 &#39;breathless\n&#39;,
 &#39;conceive\n&#39;,
 &#39;damps\n&#39;,
 &#39;lifeless\n&#39;,
 &#39;but\n&#39;,
 &#39;seemed\n&#39;,
 &#39;was\n&#39;,
 &#39;renewed\n&#39;,
 &#39;had\n&#39;,
 &#39;and\n&#39;,
 &#39;human\n&#39;,
 &#39;from\n&#39;,
 &#39;The\n&#39;,
 &#39;I\n&#39;,
 &#39;in\n&#39;,
 &#39;fields\n&#39;,
 &#39;luxuriant\n&#39;,
 &#39;the\n&#39;,
 &#39;also\n&#39;,
 &#39;had\n&#39;,
 &#39;I\n&#39;,
 &#39;are\n&#39;,
 &#39;shall\n&#39;,
 &#39;any\n&#39;,
 &#39;duties\n&#39;,
 ...]
</pre></div>
</div>
</div>
</div>
<p>The start-of-text anchor operator <code class="docutils literal notranslate"><span class="pre">^</span></code> is useful for filtering out characters.
It checks whether a sequence begins with the characters that follow it. Below,
we select characters that are neither alphanumeric nor spaces.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^\w\s]+&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;?&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;?&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;-&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;?&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;!&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;:&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;?&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;?&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;—.&#39;,
 &#39;,&#39;,
 &#39;!&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;:&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;!&#39;,
 &#39;.&#39;,
 &#39;-&#39;,
 &#39;:&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;(&#39;,
 &#39;)&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;:&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;“&#39;,
 &#39;!”&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;:&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;:&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;,”&#39;,
 &#39;;&#39;,
 &#39;“&#39;,
 &#39;.”&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;?&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;:&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—.&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;:&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;?&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;?&#39;,
 &#39;?&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;!&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;(&#39;,
 &#39;)&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;’&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;,&#39;,
 &#39;.”&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;“&#39;,
 &#39;,”&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;?”&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;!&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;:&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;.”&#39;,
 &#39;“&#39;,
 &#39;?”&#39;,
 &#39;“&#39;,
 &#39;.”&#39;,
 &#39;“&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.”&#39;,
 &#39;’&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.”&#39;,
 &#39;“&#39;,
 &#39;;&#39;,
 &#39;.”&#39;,
 &#39;“&#39;,
 &#39;;&#39;,
 &#39;.”&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;?&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;’&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;:&#39;,
 &#39;“&#39;,
 &#39;!&#39;,
 &#39;?&#39;,
 &#39;?&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;!”&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;“&#39;,
 &#39;,”&#39;,
 &#39;;&#39;,
 &#39;“&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;—&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;—&#39;,
 &#39;.”&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;:&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;?&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—.&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;-&#39;,
 &#39;;&#39;,
 &#39;.”&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;“&#39;,
 &#39;,”&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,”&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;“&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.”&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;!&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;;&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;!&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;;&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;’&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;’&#39;,
 &#39;’&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;:&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;’&#39;,
 &#39;—&#39;,
 &#39;—&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;“&#39;,
 &#39;—&#39;,
 &#39;.”&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;;&#39;,
 &#39;—&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;—&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;-&#39;,
 &#39;;&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 &#39;,&#39;,
 &#39;.&#39;,
 ...]
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">sub()</span></code> function will substitute regex matches with another sequence. If we
use the same pattern above, we can remove all punctuation. Note that we also
need to tack on the extra underscore character, as it is technically counted in
the character class.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^\w\s]+|_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This is one way of getting around those variants from above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">token_freq</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">cleaned</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>

<span class="n">variants</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ship,&quot;</span><span class="p">,</span> <span class="s2">&quot;ship.&quot;</span><span class="p">,</span> <span class="s2">&quot;ship&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">variants</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tok</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">token_freq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tok</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ship, -&gt; None
ship. -&gt; None
ship -&gt; 8
</pre></div>
</div>
</div>
</div>
<p>We actually scooped up even more tokens from this substitution pattern. An even
better picture of our counts would emerge if we changed our text to lowercase
so that the <code class="docutils literal notranslate"><span class="pre">Counter</span></code> can count case variants together.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned</span> <span class="o">=</span> <span class="n">cleaned</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">token_freq</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">cleaned</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unique tokens after substitution and case change:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">token_freq</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Unique tokens after substitution and case change:
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 7003
</pre></div>
</div>
</div>
</div>
<p>We’ll leave off on text preprocessing for now but will pick it up in the next
chapter. We’ve covered most of the main regexes, though there are a few more
advanced ones that you may find useful. See this <a class="reference external" href="https://www.pythoncheatsheet.org/cheatsheet/regular-expressions">cheatsheet</a> for
an extensive overview.</p>
</section>
</section>
<section id="functions">
<h2><span class="section-number">2.6. </span>Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h2>
<p>So far we have relied on external functions, but we can also write our own.
Writing functions greatly reduces redundancy in code, because you can reuse
them as many times as you want, in whatever contexts you want. More, functions
can keep your code organized. In complex processes, it often helps to break
your code up into individual steps and associate each with a function. That
also makes rewriting code much easier later on.</p>
<p>Before we write a function, here is a review of vocabulary associated with
them:</p>
<ul class="simple">
<li><p>The placeholder variables for inputs are <strong>parameters</strong></p></li>
<li><p><strong>Arguments</strong> are the values assigned to parameters during a call</p></li>
<li><p>To <strong>call</strong> a function means using it to compute something</p></li>
<li><p>The <strong>body</strong> is the code inside a function</p></li>
<li><p>A function’s <strong>scope</strong> is the local context in which it runs code</p></li>
<li><p>The <strong>return value</strong> is the output of a function</p></li>
</ul>
<p>In Python, a function begins with the <code class="docutils literal notranslate"><span class="pre">def</span></code> keyword, followed by:</p>
<ul class="simple">
<li><p>The name of the function</p></li>
<li><p>A list of parameters surrounded by parentheses</p></li>
<li><p>A colon <code class="docutils literal notranslate"><span class="pre">:</span></code></p></li>
</ul>
<p>There is no practical limit to the number of parameters. Code in the body of
the function should be indented according to the same conventions for loops and
conditionals (four spaces). To return a result from the function, use the
<code class="docutils literal notranslate"><span class="pre">return</span></code> keyword.</p>
<p>Here is a very simple function that returns <code class="docutils literal notranslate"><span class="pre">True</span></code>/<code class="docutils literal notranslate"><span class="pre">False</span></code> depending on whether
<code class="docutils literal notranslate"><span class="pre">text</span></code> starts with <code class="docutils literal notranslate"><span class="pre">character</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">starts_with</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">character</span><span class="p">):</span>
    <span class="n">first_char</span> <span class="o">=</span> <span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">first_char</span> <span class="o">==</span> <span class="n">character</span>
</pre></div>
</div>
</div>
</div>
<p>Call the function by writing out its name and supplying it with arguments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">starts_with</span><span class="p">(</span><span class="s2">&quot;Book&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Here are some more examples:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">starts_with</span><span class="p">(</span><span class="s2">&quot;natural language processing&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">to_test</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;token&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;Character&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">testing_pair</span> <span class="ow">in</span> <span class="n">to_test</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">testing_pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">character</span> <span class="o">=</span> <span class="n">testing_pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">text_starts_with_char</span> <span class="o">=</span> <span class="n">starts_with</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">character</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;starts with&quot;</span><span class="p">,</span> <span class="n">character</span><span class="p">,</span> <span class="s2">&quot;is&quot;</span><span class="p">,</span> <span class="n">text_starts_with_char</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>token starts with t is True
Character starts with c is False
</pre></div>
</div>
</div>
</div>
<p>When we speak of a function’s scope, we are talking about the local context for
that function. Typically, variables inside the function or its arguments are
not the same as the ones you set elsewhere in your code, even if the names of
those variables match.</p>
<p>For instance, <code class="docutils literal notranslate"><span class="pre">starts_with()</span></code> creates a new variable, <code class="docutils literal notranslate"><span class="pre">first_char</span></code>. If we have
another variable with the same name outside this function, it won’t be
overwritten when we call <code class="docutils literal notranslate"><span class="pre">starts_with()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_char</span> <span class="o">=</span> <span class="s2">&quot;5&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Value of first_char:&quot;</span><span class="p">,</span> <span class="n">first_char</span><span class="p">)</span>
<span class="n">starts_with</span><span class="p">(</span><span class="s2">&quot;Book&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Value of first_char:&quot;</span><span class="p">,</span> <span class="n">first_char</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Value of first_char: 5
Value of first_char: 5
</pre></div>
</div>
</div>
</div>
<p>You’ll often find yourself transforming code you’ve already written into a
function. The function below re-implements the for-loop we wrote above to print
regex matches and their context. It has three parameters:</p>
<ol class="arabic simple">
<li><p>The regex match is <code class="docutils literal notranslate"><span class="pre">match</span></code></p></li>
<li><p>The text where we found the match is <code class="docutils literal notranslate"><span class="pre">string</span></code></p></li>
<li><p>Our <code class="docutils literal notranslate"><span class="pre">offset</span></code> is the number of characters to extract on either side of the
match</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>
    <span class="c1"># Get the match text</span>
    <span class="n">span</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>

    <span class="c1"># Get its start and end, then offset both</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="o">-</span> <span class="n">offset</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span> <span class="o">+</span> <span class="n">offset</span>

    <span class="c1"># Ensure our expanded start/end locations don&#39;t overshoot the string</span>
    <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
        <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

    <span class="c1"># Print the results</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">span</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>With our function defined, we can call it once.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;lightning&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
<span class="n">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lightning -&gt;  the lightning play
</pre></div>
</div>
</div>
</div>
<p>Or as many times as we please.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">found</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;lightning&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
    <span class="n">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lightning -&gt;  the lightning play
lightning -&gt; s of lightning dazz
lightning -&gt; h of lightning
illu
lightning -&gt; llid
lightnings tha
lightning -&gt; s of lightning,
plu
</pre></div>
</div>
</div>
</div>
<p>It’s somewhat annoying to have to write out the offset every time we call the
function. To circumvent this, you can specify a default value for a parameter.
Your function will use that if you do not supply an argument for that
parameter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
    <span class="c1"># Get the match text</span>
    <span class="n">span</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>

    <span class="c1"># Get its start and end, then offset both</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="o">-</span> <span class="n">offset</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span> <span class="o">+</span> <span class="n">offset</span>

    <span class="c1"># Ensure our expanded start/end locations don&#39;t overshoot the string</span>
    <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
        <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

    <span class="c1"># Print the results</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">span</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>With no argument supplied:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;lightning&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
<span class="n">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lightning -&gt;  the lightning play
</pre></div>
</div>
</div>
</div>
<p>Supplying an argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;lightning&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
<span class="n">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lightning -&gt; yage I saw the lightning playing on the
</pre></div>
</div>
</div>
</div>
<p>Recall that the output of <code class="docutils literal notranslate"><span class="pre">finditer()</span></code> is a special <code class="docutils literal notranslate"><span class="pre">Match</span></code> object, which has
properties that extend beyond typical strings. If you forget this and try to
call your function on an object it doesn’t expect, you’ll run into an error:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_match_context</span><span class="p">(</span><span class="s2">&quot;lightning&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">99</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">show_match_context</span><span class="p">(</span><span class="s2">&quot;lightning&quot;</span><span class="p">,</span> <span class="n">frankenstein</span><span class="p">)</span>

<span class="nn">Cell In[96], line 3,</span> in <span class="ni">show_match_context</span><span class="nt">(match, string, offset)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="c1"># Get the match text</span>
<span class="ne">----&gt; </span><span class="mi">3</span>     <span class="n">span</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="c1"># Get its start and end, then offset both</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="n">start</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="o">-</span> <span class="n">offset</span>

<span class="ne">AttributeError</span>: &#39;str&#39; object has no attribute &#39;group&#39;
</pre></div>
</div>
</div>
</div>
<p>The more code you write, the harder it is to keep this sort of thing in your
mind. That’s why it’s helpful to document your function with a <strong>docstring</strong>.
Docstrings are descriptions of what your function does and what kinds of
parameters it expects. They go on the first line of your function’s body and
are surrounded by triple quotes <code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">starts_with</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">character</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determine whether a string starts with a character.&quot;&quot;&quot;</span>
    <span class="n">first_char</span> <span class="o">=</span> <span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">first_char</span> <span class="o">==</span> <span class="n">character</span>
</pre></div>
</div>
</div>
</div>
<p>Once you’ve written a docstring, you can use <code class="docutils literal notranslate"><span class="pre">help()</span></code> in a Python console or
<code class="docutils literal notranslate"><span class="pre">?</span></code> in a Jupyter Notebook to display this information.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">starts_with</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function starts_with in module __main__:

starts_with(text, character)
    Determine whether a string starts with a character.
</pre></div>
</div>
</div>
</div>
<p>There are several styles for writing docstrings, but the NumPy
<a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">conventions</a> are good ones. They specify docstrings like so:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A short summary description of a function ending with a period.</span>
<span class="sd">    </span>
<span class="sd">    A longer description if necessary.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    x : x&#39;s datatype</span>
<span class="sd">        A description of what x is</span>
<span class="sd">    y : y&#39;s datatype</span>
<span class="sd">        A description of what y is</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    value : value&#39;s datatype</span>
<span class="sd">        A description of what value is (only supply if the function returns a</span>
<span class="sd">        value)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Let’s document <code class="docutils literal notranslate"><span class="pre">show_match_context()</span></code> with a docstring.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_match_context</span><span class="p">(</span><span class="n">match</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print a regex match&#39;s surrounding characters.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    match : re.Match</span>
<span class="sd">        A regex match from re.search() or re.finditer()</span>
<span class="sd">    string : str</span>
<span class="sd">        The string in which the match was found</span>
<span class="sd">    offset : int</span>
<span class="sd">        The number of surrounding characters to the left/right of match</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get the match text</span>
    <span class="n">span</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>

    <span class="c1"># Get its start and end, then offset both</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="o">-</span> <span class="n">offset</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span> <span class="o">+</span> <span class="n">offset</span>

    <span class="c1"># Ensure our expanded start/end locations don&#39;t overshoot the string</span>
    <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
        <span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

    <span class="c1"># Print the results</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">span</span><span class="p">,</span> <span class="s2">&quot;-&gt;&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Now our function is fully documented and ready for later use.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">show_match_context</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function show_match_context in module __main__:

show_match_context(match, string, offset=5)
    Print a regex match&#39;s surrounding characters.

    Parameters
    ----------
    match : re.Match
        A regex match from re.search() or re.finditer()
    string : str
        The string in which the match was found
    offset : int
        The number of surrounding characters to the left/right of match
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="01_getting-started.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Getting Started</p>
      </div>
    </a>
    <a class="right-next"
       href="03_data-analysis-basics.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Data Analysis in Python</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries">2.1. Preliminaries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-data">2.2. Loading Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-structures">2.3. Data Structures</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lists">2.3.1. Lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tuples">2.3.2. Tuples</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sets">2.3.3. Sets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dictionaries">2.3.4. Dictionaries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iteration">2.4. Iteration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#for-loops">2.4.1. For-loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comprehensions">2.4.2. Comprehensions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#while-loops">2.4.3. While-loops</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regular-expressions">2.5. Regular Expressions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#literals">2.5.1. Literals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metacharacters">2.5.2. Metacharacters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">2.6. Functions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tyler Shoemaker
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>