
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3. Data Analysis in Python &#8212; Introduction to Interpretability for Language Models</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/03_data-analysis-basics';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. N-gram Models" href="04_ngram-models.html" />
    <link rel="prev" title="2. Python Basics" href="02_python-basics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Introduction to Interpretability for Language Models</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Overview
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Basics</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_getting-started.html">1. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_python-basics.html">2. Python Basics</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3. Data Analysis in Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Language Models</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="04_ngram-models.html">4. N-gram Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_vectorization.html">5. Vectorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_vector-spaces.html">6. Vector Space Semantics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Large Language Models</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="07_intro-to-llms.html">7. Large Language Models: An Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_bert.html">8. Bidirectional Encoder Representations from Transformers (BERT)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="10_cross-entropy.html">9. Cross Entropy</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_attention-in-vector-space.html">10. Attention in Vector Space</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/t-shoemaker/2024_dtl_lm-interpretability" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/03_data-analysis-basics.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Analysis in Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries">3.1. Preliminaries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-a-corpus">3.2. Loading a Corpus</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-tabular-data">3.3. Working with Tabular Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-tabular-data">3.3.1. Loading tabular data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-by-column">3.3.2. Indexing by column</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-by-row">3.3.3. Indexing by row</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-for-data-analysis">3.4. Preparing for Data Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing">3.4.1. Preprocessing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting">3.4.2. Plotting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-analysis">3.5. Data Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#document-metrics">3.5.1. Document metrics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#token-metrics">3.5.2. Token metrics</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-analysis-in-python">
<h1><span class="section-number">3. </span>Data Analysis in Python<a class="headerlink" href="#data-analysis-in-python" title="Link to this heading">#</a></h1>
<p>This chapter will show you the basics of analyzing data in Python. We will load
text files into memory, align them with corresponding metadata, and produce
information about their contents. Also covered: preparing text for numerical
operations and graphing data.</p>
<ul class="simple">
<li><p><strong>Data:</strong> Melanie Walsh’s <a class="reference external" href="https://melaniewalsh.github.io/Intro-Cultural-Analytics/00-Datasets/00-Datasets.html#politics-history">corpus</a> of ~380 obituaries from the <em>New
York Times</em></p></li>
<li><p><strong>Credits:</strong> Portions of this chapter are adapted from the UC Davis DataLab’s
<a class="reference external" href="https://ucdavisdatalab.github.io/workshop_python_basics">Python Basics</a> and <a class="reference external" href="https://ucdavisdatalab.github.io/workshop_nlp_reader">Natural Language Processing for Data Science</a></p></li>
</ul>
<section id="preliminaries">
<h2><span class="section-number">3.1. </span>Preliminaries<a class="headerlink" href="#preliminaries" title="Link to this heading">#</a></h2>
<p>The packages we’ll need today will help us load text files (<code class="docutils literal notranslate"><span class="pre">pathlib</span></code>), process
them into discrete tokens (<code class="docutils literal notranslate"><span class="pre">nltk</span></code>), conduct data analysis about those tokens
(<code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas</span></code>), and plot the results (<code class="docutils literal notranslate"><span class="pre">seaborn</span></code>, <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="loading-a-corpus">
<h2><span class="section-number">3.2. </span>Loading a Corpus<a class="headerlink" href="#loading-a-corpus" title="Link to this heading">#</a></h2>
<p>The obituaries are stored in individual plain text files at the location below.
We wrap this file path in a <code class="docutils literal notranslate"><span class="pre">Path</span></code> object to make interacting with our
computers’ file systems more streamlined.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datadir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;data/texts/nyt/obituaries&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Use a <strong>glob</strong> pattern to retrieve paths to <code class="docutils literal notranslate"><span class="pre">.txt</span></code> files. The output of the
<code class="docutils literal notranslate"><span class="pre">.glob()</span></code> method is a generator, so convert it to a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">paths</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">datadir</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.txt&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">paths</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[PosixPath(&#39;data/texts/nyt/obituaries/289.txt&#39;), PosixPath(&#39;data/texts/nyt/obituaries/262.txt&#39;), PosixPath(&#39;data/texts/nyt/obituaries/276.txt&#39;), PosixPath(&#39;data/texts/nyt/obituaries/060.txt&#39;), PosixPath(&#39;data/texts/nyt/obituaries/074.txt&#39;)]
</pre></div>
</div>
</div>
</div>
<p>As we did in the last chapter, we can load one of these files. Note the slight
difference in syntax when using <code class="docutils literal notranslate"><span class="pre">Path</span></code>.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">random_path</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
<span class="k">with</span> <span class="n">random_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>March 4, 1993

 OBITUARY

 Albert Sabin, Polio Researcher, 86, Dies

 By HAROLD M. SCHMECK Jr.

 Dr. Albert B. Sabin, the pioneering researcher on viruses and viral diseases who developed the vaccine that is the main defense against polio in the United States and much of the rest of the world, died yesterday at Georgetown University Medical Center in Washington. He was 86 years old and lived in Washington.

 The cause of death was congestive heart failure, the hospital said.

 He was best known for developing the live-virus polio vaccine, taken orally. It became generally preferred over the alternative killed-virus vaccine developed by Dr. Jonas Salk after a sometimes intense clash between the rival camps and their principals.

 Although the Salk polio vaccine, which is injected, proved to be effective in sharply reducing the number of poliomyelitis cases in the United States, after it went on the market in 1955, Dr. Sabin persisted in his efforts to develop a vaccine based on a living virus, which he believed would be superior.

 Dr. Sabin&#39;s vaccine, which contained harmless, or attenuated, polio viruses, was developed by him and his co-workers at the University of Cincinnati. Before coming into wide use in this country, the vaccine was tested in millions of people in 1958 and 1959 in the Soviet Union, where it proved widely successful. In the United States the vaccine was tested earlier on prisoners who volunteered for the experiments and before that on Dr. Sabin himself and members of his family.

 Its virtues, including delivery in syrup or a sugar cube instead of by injection, became accepted in the United States after the testing abroad. It was licensed in 1961 and eventually became the vaccine of choice in most parts of the world, although a few countries still use the Salk-type vaccines.

 The Sabin vaccine received a temporary setback when public health officials reported that a few children, about one in a million inoculated, were developing polio because of the virus. Dr. Sabin, however, never admitted that his vaccine was responsible. &quot;He was so strong-willed he thought he could will it away,&quot; Dr. Joseph L. Melnick of the Baylor College of Medicine at Houston said yesterday from Geneva. Dr. Melnick described Dr. Sabin as &quot;one of the world&#39;s greatest virologists.&quot;

 For Governments, A Straight-Talker

 The development of the Sabin polio vaccine was the culmination of 20 years of research on the nature, transmission and epidemiology of the three closely related virus types that cause poliomyelitis, which was more frequently called infantile paralysis when Dr. Sabin was a young scientist. The disease was a dreaded cause of paralysis and death, especially in young people.

 Dr. Sabin also was an adviser to the governments of the United States and other nations on important health issues.

 A scholarly looking man whose hair turned white in middle age, he continued a full working and traveling schedule into his 70&#39;s.

 Scientists who knew Dr. Sabin well said he was eloquent and extremely difficult to defeat in a scientific argument. These talents apparently persisted all his life, as did a tendency to speak the truth as he saw it without diplomatic considerations.

 In the swine flu episode of 1976, when the Federal Government feared an epidemic, he first supported but later denounced the Federal policy of vaccinating all adults against the flu virus, which bore a strong chemical resemblance to the virus that had caused the disastrous pandemic of 1918-1919.

 Dr. Sabin made Federal officials unhappy by saying he doubted there was as much danger from the swine flu as the public was being led to believe. He argued that the vaccination campaign should await evidence that the virus was indeed reappearing in the population. As it turned out, the feared epidemic never did materialize and vaccination was followed by serious illness in several hundred people.

 In 1980, at the age of 74, Dr. Sabin went to Brazil to help that country cope with polio outbreaks but soon found government doors closed to him because of his outspokenness.

 In particular, he said the Brazilian Government had falsified data in the early 1970&#39;s to give the World Health Organization, a United Nations agency, a falsely optimistic picture of polio eradication in that country. He estimated that in 1980 there was 10 times as much polio in Brazil as was being reported and that efficient vaccination efforts were being blocked by bureaucratic interference.

 Soon thereafter he was told by the Brazilian Government that his advice was no longer needed.

 In the early years of his research on the polio virus, Dr. Sabin was credited with the first demonstration that it could grow in human nerve tissue outside the human body. Through research on monkeys he developed a method for determining how the polio virus entered the human body.

 It had been widely thought that the polio virus entered the victims through the nose to the respiratory system. But Dr. Sabin proved that the virus first invaded the digestive tract and later attacked nerve tissue. He was also among the scientists who identified the three types of polio virus. After Poland, A Quick Transition

 Albert Bruce Sabin was born Aug. 26, 1906, in Bialystok, Poland, then a part of Imperial Russia. He and his family immigrated to the United States in 1921, at least partly to escape the persecution of Jews. He attended high school in Paterson, N.J., after taking a six-week cram course in English from two cousins.

 After graduation from high school he first planned a career in dentistry because an uncle, a dentist, offered to finance his college education if he would enter that profession. Dr. Sabin said years afterward that he studied dentistry for three years and then &quot;couldn&#39;t stand it any longer&quot; because he had become captivated by the possibilities of medical research.

 He graduated from New York University in 1928. With the aid of scholarships, fellowships and odd jobs, he attended the university&#39;s medical school and, while there, found time to do research on pneumococcus bacterial infections.

 He was awarded an M.D. degree in 1931. That summer, a polio epidemic in New York influenced his choice of a research career on polio and other infectious diseases of the human nervous system.

 Before entering full-time research in that field, however, he trained in pathology, surgery and internal medicine at Bellevue Hospital, through 1933. He spent the next year in research at the Lister Institute of Preventive Medicine in London.

 In 1935 he returned to New York to join the research staff of the Rockefeller Institute for Medical Research, now Rockefeller University.

 In 1939 Dr. Sabin moved to the University of Cincinnati and its Children&#39;s Hospital Research Foundation to conduct research on viruses. Wide Research As Army Officer

 After the United States entered World War II, Dr. Sabin became a consultant to the Army on viral diseases. Later, as a lieutenant colonel in the Medical Corps, he studied diseases affecting American troops throughout the world.

 He isolated the virus that caused sandfly fever, a nonfatal epidemic disease that was causing illness among troops in Africa. Later he showed that an ordinary mosquito repellent would provide protection against the infection by warding off the insects that carried the disease.

 He helped develop a vaccine against dengue fever, a debilitating but usually nonfatal disease that was striking many troops in the South Pacific. He also studied the parasites that cause toxoplasmosis, as well as the viruses that cause encephalitis, inflammations of brain tissue.

 Late in World War II, a vaccine he had developed against Japanese encephalitis virus was given to about 70,000 American troops preparing for the invasion of Japan. A decade after the war, Dr. Sabin was the first to identify a virus called echo 9 as a cause of human intestinal illness.

 At the end of the war, Dr. Sabin returned to the University of Cincinnati to continue work on polio. He developed a live-virus vaccine that was first tested in 1954. By that time, however, the killed-virus polio vaccine developed by Dr. Salk had already been developed, tested and was being put into use.

 Public health experts in the United States decided the Sabin vaccine should be given its first major trials abroad, so that people already protected by the Salk vaccine could not be accidentally included in the studies and thus confuse the results.

 In this country, the Sabin vaccine was first used on a large scale in 1960 in Cincinnati, where it was given to 180,000 schoolchildren.

 Two years later all three constituents of the vaccine, one against each of the three major polio virus types, were licensed by the United States Public Health Service.

 Whereas the Salk vaccine had to be given by injection and required later booster shots to insure long-term immunity, the Sabin live-virus vaccine could be taken by mouth and provided lifetime protection against polio. Moreover, the harmless virus of the vaccine seemed to be &quot;catching&quot;: It spread beyond the recipients to protect even some people who had not received the vaccine at all.

 From Bitter Rival, A Word of Praise

 Although the Salk vaccine continued to have adherents, the Sabin vaccine replaced it as the prime defense against polio in this country. A sharp rivalry between Dr. Salk and Dr. Sabin persisted thereafter.

 Asked about the Salk vaccine at the age of 84, Dr. Sabin declared the killed-virus preparation to be &quot;pure kitchen chemistry.&quot; &quot;Salk didn&#39;t discover anything,&quot; he said.

 Dr. Salk, for his part, attributed such comments to professional jealousy. &quot;Albert Sabin was out for me from the very beginning,&quot; he said. &quot;I remember in Copenhagen in 1960, he said to me, just like that, that he was out to kill the killed vaccine.&quot;

 But Dr. Salk issued a statement yesterday praising Dr. Sabin&#39;s enduring contributions to the control of polio.

 In 1970 Dr. Sabin became president of the Weizmann Institute of Science in Israel but stepped down in November 1972 because of a heart condition for which he had open heart surgery.

 In the latter part of his career, Dr. Sabin&#39;s interest in viruses led him into research on the relationships between human cancer and viruses. Although he thought at one time that he and co-workers had discovered a virus that caused several types of human cancer, he later concluded that the virus in question was not a factor in human malignant disease.

 Dr. Sabin was elected to the National Academy of Sciences in 1951 and received numerous other honors, including the Bruce Memorial Award of the American College of Physicians in 1961, the Feltinelli

 Prize of the Accademia dei Lincei of Rome in 1964, the Lasker Clinical Science Award in 1965 and the United States National Medal of Science in 1971.

 Throughout his long career he was noted for diligence, hard work and long hours as well as brilliance in research. &quot;A scientist who is also a human being cannot rest while knowledge which might be used to reduce suffering rests on the shelf,&quot; he once said.

 Dr. Sabin was married to Sylvia Tregillus in 1935; she died in 1966. He married Jane Warner, but the marriage ended in divorce. In 1972, he married Heloisa Dunshee de Abranches.

 In addition to his wife, he is survived by two daughters from his first marriage, Deborah Sabin of Yakima, Wash., and Amy Horn of Palo Alto, Calif., and three grandchildren.

 
</pre></div>
</div>
</div>
</div>
<p>It will make our lives easier to define a function that loads all files at
once. That way we only have to call that function, rather than rewriting some
loading code every time we want files. Here is what the <code class="docutils literal notranslate"><span class="pre">load_corpus()</span></code>
function does below:</p>
<ol class="arabic simple">
<li><p>Steps through each path in <code class="docutils literal notranslate"><span class="pre">paths</span></code></p></li>
<li><p>Opens the file and appends it to a list</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">load_corpus</span><span class="p">(</span><span class="n">paths</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load a corpus from paths.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    paths : list[Path]</span>
<span class="sd">        A list of paths</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    corpus : list[str]</span>
<span class="sd">        The corpus</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Initialize an empty list to store the corpus</span>
    <span class="n">corpus</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># March through each path, open the file, and load it</span>
    <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="c1"># Then add the file to the list</span>
            <span class="n">corpus</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

    <span class="c1"># Return the result: a list of strings, where each string is the contents</span>
    <span class="c1"># of a file</span>
    <span class="k">return</span> <span class="n">corpus</span>
</pre></div>
</div>
</div>
</div>
<p>With this function defined, we load our files.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corpus</span> <span class="o">=</span> <span class="n">load_corpus</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size of the corpus:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">corpus</span><span class="p">),</span> <span class="s2">&quot;files.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Size of the corpus: 379 files.
</pre></div>
</div>
</div>
</div>
</section>
<section id="working-with-tabular-data">
<h2><span class="section-number">3.3. </span>Working with Tabular Data<a class="headerlink" href="#working-with-tabular-data" title="Link to this heading">#</a></h2>
<p>Note however that the file names do not tell us the title of these poems:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">random_path</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>343.txt
</pre></div>
</div>
</div>
</div>
<p>Were we to run analyses on these documents, we would have no guide telling us
which data is about which document. This is where metadata comes in. Often when
working with text data, you will find information about the contents of a
corpus stored separately from the data itself. Part of your workflow will
require aligning corpus contents with this metadata.</p>
<section id="loading-tabular-data">
<h3><span class="section-number">3.3.1. </span>Loading tabular data<a class="headerlink" href="#loading-tabular-data" title="Link to this heading">#</a></h3>
<p>In our case, metadata is stored in a comma-separated (CSV) file, a plain text
format for <strong>tabular data</strong>. Tabular data arranges information in columns and
rows, just like a spreadsheet. The <code class="docutils literal notranslate"><span class="pre">pandas</span></code> package helps us work with this
kind of data. When we load it into Python, we create a <strong>DataFrame</strong>. Just as
with a spreadsheet, a DataFrame has columns and rows. But it also offers a huge
amount of functionality for working with its contents.</p>
<p>Below, we load our metadata.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/texts/nyt/metadata.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here is a high-level overview of the metadata. It shows the columns and their
names, the number of observations in each column that contain values, and the
datatype of these columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 379 entries, 0 to 378
Data columns (total 3 columns):
 #   Column  Non-Null Count  Dtype 
---  ------  --------------  ----- 
 0   name    379 non-null    object
 1   year    379 non-null    int64 
 2   file    379 non-null    object
dtypes: int64(1), object(2)
memory usage: 9.0+ KB
</pre></div>
</div>
</div>
</div>
<p>Just want to know the columns? Use the <code class="docutils literal notranslate"><span class="pre">.columns</span></code> attribute.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;name&#39;, &#39;year&#39;, &#39;file&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">.head()</span></code> method to look at the first few rows of the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>year</th>
      <th>file</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Ada Lovelace</td>
      <td>1852</td>
      <td>000.txt</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Robert E Lee</td>
      <td>1870</td>
      <td>001.txt</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Andrew Johnson</td>
      <td>1875</td>
      <td>002.txt</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Bedford Forrest</td>
      <td>1877</td>
      <td>003.txt</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Lucretia Mott</td>
      <td>1880</td>
      <td>004.txt</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Note the <code class="docutils literal notranslate"><span class="pre">file</span></code> column. Values stored there correspond to the names of files in
the data directory. If we use <code class="docutils literal notranslate"><span class="pre">file</span></code> as a guide to construct a list of paths,
the order of the files in <code class="docutils literal notranslate"><span class="pre">corpus</span></code> will be the same as the order in the
DataFrame.</p>
</section>
<section id="indexing-by-column">
<h3><span class="section-number">3.3.2. </span>Indexing by column<a class="headerlink" href="#indexing-by-column" title="Link to this heading">#</a></h3>
<p>Accessing values in <code class="docutils literal notranslate"><span class="pre">file</span></code> requires us to index the DataFrame. In <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, we
use bracket notation in conjunction with a column’s name to index that column.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      000.txt
1      001.txt
2      002.txt
3      003.txt
4      004.txt
        ...   
374    374.txt
375    375.txt
376    376.txt
377    377.txt
378    378.txt
Name: file, Length: 379, dtype: object
</pre></div>
</div>
</div>
</div>
<p>There are several ways to index rows, which we discuss below. But the simplest
involves treating an indexed column like a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;010.txt&#39;
</pre></div>
</div>
</div>
</div>
<p>The above hints at what we do next: we use a list comprehension to iterate
through each value in <code class="docutils literal notranslate"><span class="pre">file</span></code> and combine it with the data directory path. Note
this time that we do not need to use a glob pattern, since we build the final
path directly from the value in <code class="docutils literal notranslate"><span class="pre">file</span></code> using the <code class="docutils literal notranslate"><span class="pre">/</span></code> operator.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ordered_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">datadir</span> <span class="o">/</span> <span class="n">fname</span> <span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>Now, when we load our corpus, it will be aligned to the metadata’s order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corpus</span> <span class="o">=</span> <span class="n">load_corpus</span><span class="p">(</span><span class="n">ordered_paths</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>From here, we could go about our analysis. But that would involve jumping
across two different objects, <code class="docutils literal notranslate"><span class="pre">manifest</span></code> and <code class="docutils literal notranslate"><span class="pre">corpus</span></code>. This is a pain, so we
will create a new column in our metadata sheet and assign the contents of our
corpus to it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Under the hood, every column in a DataFrame is a <strong>Series</strong>. A DataFrame, in
other words, is a collection of Series objects. The latter have much of the
same functionality as the former, but DataFrames provide us with the ability to
do more faceted indexing and global analyses.</p>
<p>For example, now that our corpus contents are stored in the <code class="docutils literal notranslate"><span class="pre">text</span></code> column, we
can index that data alongside other information in the DataFrame. To do so, use
a list of column names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Ada Lovelace</td>
      <td>A gifted mathematician who is now recognized a...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Robert E Lee</td>
      <td>October 13, 1870\n\n OBITUARY\n\n Gen. Robert ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Andrew Johnson</td>
      <td>August 1, 1875\n\n OBITUARY\n\n Andrew Johnson...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Bedford Forrest</td>
      <td>October 30, 1877\n\n OBITUARY\n\n Death of Gen...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Lucretia Mott</td>
      <td>November 12, 1880\n\n OBITUARY\n\n Lucretia Mo...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="indexing-by-row">
<h3><span class="section-number">3.3.3. </span>Indexing by row<a class="headerlink" href="#indexing-by-row" title="Link to this heading">#</a></h3>
<p>Indexing by rows is more complicated than indexing by columns. This is because
a DataFrame index serves three important roles:</p>
<ol class="arabic simple">
<li><p>As metadata that provides more context about a dataset</p></li>
<li><p>As a method of data alignment</p></li>
<li><p>As a convenience function for subsetting data</p></li>
</ol>
<p>Use the <code class="docutils literal notranslate"><span class="pre">.index</span></code> attribute to access the values of a DataFrame index. These
values can be numbers, strings, dates, or other values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RangeIndex(start=0, stop=379, step=1)
</pre></div>
</div>
</div>
</div>
<p>Like tuples, indexes are immutable. But you can change the index of a
DataFrame. Below, we set the index to <code class="docutils literal notranslate"><span class="pre">title</span></code>, using <code class="docutils literal notranslate"><span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">True</span></code> so we do
not need to reassign the DataFrame back to the same variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">manifest</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ada Lovelace</th>
      <td>1852</td>
      <td>000.txt</td>
      <td>A gifted mathematician who is now recognized a...</td>
    </tr>
    <tr>
      <th>Robert E Lee</th>
      <td>1870</td>
      <td>001.txt</td>
      <td>October 13, 1870\n\n OBITUARY\n\n Gen. Robert ...</td>
    </tr>
    <tr>
      <th>Andrew Johnson</th>
      <td>1875</td>
      <td>002.txt</td>
      <td>August 1, 1875\n\n OBITUARY\n\n Andrew Johnson...</td>
    </tr>
    <tr>
      <th>Bedford Forrest</th>
      <td>1877</td>
      <td>003.txt</td>
      <td>October 30, 1877\n\n OBITUARY\n\n Death of Gen...</td>
    </tr>
    <tr>
      <th>Lucretia Mott</th>
      <td>1880</td>
      <td>004.txt</td>
      <td>November 12, 1880\n\n OBITUARY\n\n Lucretia Mo...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>There are three ways to index by row:</p>
<ol class="arabic simple">
<li><p>By integer position</p></li>
<li><p>By label/name</p></li>
<li><p>By a condition</p></li>
</ol>
<p>Indexing by <strong>integer position</strong> works with the <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> property.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">45</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>year                                                 1922
file                                              045.txt
text    August 3, 1922\n\n OBITUARY\n\n Dr. Bell, Inve...
Name: Alexander Graham Bell, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Use a sequence of values to return multiple rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Andrew Johnson</th>
      <td>1875</td>
      <td>002.txt</td>
      <td>August 1, 1875\n\n OBITUARY\n\n Andrew Johnson...</td>
    </tr>
    <tr>
      <th>Lucretia Mott</th>
      <td>1880</td>
      <td>004.txt</td>
      <td>November 12, 1880\n\n OBITUARY\n\n Lucretia Mo...</td>
    </tr>
    <tr>
      <th>Ulysses Grant</th>
      <td>1885</td>
      <td>006.txt</td>
      <td>July 24, 1885\n\n OBITUARY\n\n The Career of a...</td>
    </tr>
    <tr>
      <th>Emma Lazarus</th>
      <td>1887</td>
      <td>008.txt</td>
      <td>November 20, 1887\n\n OBITUARY\n\n Emma Lazaru...</td>
    </tr>
    <tr>
      <th>P T Barnum</th>
      <td>1891</td>
      <td>010.txt</td>
      <td>April 8, 1891\n\n OBITUARY\n\n The Great Showm...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Or send a slice. Here, the first five rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ada Lovelace</th>
      <td>1852</td>
      <td>000.txt</td>
      <td>A gifted mathematician who is now recognized a...</td>
    </tr>
    <tr>
      <th>Robert E Lee</th>
      <td>1870</td>
      <td>001.txt</td>
      <td>October 13, 1870\n\n OBITUARY\n\n Gen. Robert ...</td>
    </tr>
    <tr>
      <th>Andrew Johnson</th>
      <td>1875</td>
      <td>002.txt</td>
      <td>August 1, 1875\n\n OBITUARY\n\n Andrew Johnson...</td>
    </tr>
    <tr>
      <th>Bedford Forrest</th>
      <td>1877</td>
      <td>003.txt</td>
      <td>October 30, 1877\n\n OBITUARY\n\n Death of Gen...</td>
    </tr>
    <tr>
      <th>Lucretia Mott</th>
      <td>1880</td>
      <td>004.txt</td>
      <td>November 12, 1880\n\n OBITUARY\n\n Lucretia Mo...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Here, every tenth row:</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">iloc</span><span class="p">[::</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ada Lovelace</th>
      <td>1852</td>
      <td>000.txt</td>
      <td>A gifted mathematician who is now recognized a...</td>
    </tr>
    <tr>
      <th>P T Barnum</th>
      <td>1891</td>
      <td>010.txt</td>
      <td>April 8, 1891\n\n OBITUARY\n\n The Great Showm...</td>
    </tr>
    <tr>
      <th>James M N Whistler</th>
      <td>1903</td>
      <td>020.txt</td>
      <td>July 18, 1903\n\n OBITUARY\n\n James M'N. Whis...</td>
    </tr>
    <tr>
      <th>Joseph Pulitzer</th>
      <td>1911</td>
      <td>030.txt</td>
      <td>Monday, October 30, 1911\n\n OBITUARY\n\n Jose...</td>
    </tr>
    <tr>
      <th>C J Walker</th>
      <td>1919</td>
      <td>040.txt</td>
      <td>May 26, 1919\n\n OBITUARY\n\n Wealthiest Negre...</td>
    </tr>
    <tr>
      <th>Marie Curie</th>
      <td>1929</td>
      <td>050.txt</td>
      <td>PARIS, July 4.--Mme. Marie Curie, whose work a...</td>
    </tr>
    <tr>
      <th>Florenz Ziegfeld</th>
      <td>1932</td>
      <td>060.txt</td>
      <td>July 23, 1932\n\n OBITUARY\n\n Florenz Ziegfel...</td>
    </tr>
    <tr>
      <th>John W Heisman</th>
      <td>1936</td>
      <td>070.txt</td>
      <td>October 4, 1936\n\n OBITUARY\n\n John W. Heism...</td>
    </tr>
    <tr>
      <th>Howard Carter</th>
      <td>1939</td>
      <td>080.txt</td>
      <td>March 3, 1939\n\n OBITUARY\n\n Howard Carter, ...</td>
    </tr>
    <tr>
      <th>Alfred E Smith</th>
      <td>1944</td>
      <td>090.txt</td>
      <td>October 4, 1944\n\n OBITUARY\n\n Alfred E. Smi...</td>
    </tr>
    <tr>
      <th>Lord Keynes</th>
      <td>1946</td>
      <td>100.txt</td>
      <td>April 22, 1946\n\n OBITUARY\n\n Lord Keynes Di...</td>
    </tr>
    <tr>
      <th>Babe Ruth</th>
      <td>1948</td>
      <td>110.txt</td>
      <td>August 17, 1948\n\n OBITUARY\n\n Babe Ruth, Ba...</td>
    </tr>
    <tr>
      <th>Charles Spaulding</th>
      <td>1952</td>
      <td>120.txt</td>
      <td>August 2, 1952\n\n OBITUARY\n\n Ex-Slave's Son...</td>
    </tr>
    <tr>
      <th>Henri Matisse</th>
      <td>1954</td>
      <td>130.txt</td>
      <td>November 4, 1954\n\n OBITUARY\n\n Art World Mo...</td>
    </tr>
    <tr>
      <th>Charles Merrill</th>
      <td>1956</td>
      <td>140.txt</td>
      <td>October 7, 1956\n\n OBITUARY\n\n Charles Merri...</td>
    </tr>
    <tr>
      <th>John Dulles</th>
      <td>1959</td>
      <td>150.txt</td>
      <td>May 25, 1959\n\n OBITUARY\n\n Dulles Formulate...</td>
    </tr>
    <tr>
      <th>Carl G Jung</th>
      <td>1961</td>
      <td>160.txt</td>
      <td>June 7, 1961\n\n OBITUARY\n\n Dr. Carl G. Jung...</td>
    </tr>
    <tr>
      <th>Sean O Casey</th>
      <td>1964</td>
      <td>170.txt</td>
      <td>September 19, 1964\n\n OBITUARY\n\n Sean O'Cas...</td>
    </tr>
    <tr>
      <th>Albert Schweitzer</th>
      <td>1965</td>
      <td>180.txt</td>
      <td>September 6, 1965\n\n OBITUARY\n\n Albert Schw...</td>
    </tr>
    <tr>
      <th>Langston Hughes</th>
      <td>1967</td>
      <td>190.txt</td>
      <td>May 23, 1967\n\n OBITUARY\n\n Langston Hughes,...</td>
    </tr>
    <tr>
      <th>Madhubala</th>
      <td>1969</td>
      <td>200.txt</td>
      <td>A Bollywood legend whose tragic life mirrored ...</td>
    </tr>
    <tr>
      <th>Coco Chanel</th>
      <td>1971</td>
      <td>210.txt</td>
      <td>January 11, 1971\n\n OBITUARY\n\n Chanel, the ...</td>
    </tr>
    <tr>
      <th>Mahalia Jackson</th>
      <td>1972</td>
      <td>220.txt</td>
      <td>January 28, 1972\n\n OBITUARY\n\n Mahalia Jack...</td>
    </tr>
    <tr>
      <th>Nancy Mitford</th>
      <td>1973</td>
      <td>230.txt</td>
      <td>July 1, 1973\n\n OBITUARY\n\n Nancy Mitford, A...</td>
    </tr>
    <tr>
      <th>Chiang Kai shek</th>
      <td>1975</td>
      <td>240.txt</td>
      <td>April 6, 1975\n\n OBITUARY\n\n The Life of Chi...</td>
    </tr>
    <tr>
      <th>Maria Callas</th>
      <td>1977</td>
      <td>250.txt</td>
      <td>September 17, 1977\n\n OBITUARY\n\n Maria Call...</td>
    </tr>
    <tr>
      <th>Jesse Owens</th>
      <td>1980</td>
      <td>260.txt</td>
      <td>April 1, 1980\n\n OBITUARY\n\n Jesse Owens Die...</td>
    </tr>
    <tr>
      <th>Arthur Rubinstein</th>
      <td>1982</td>
      <td>270.txt</td>
      <td>December 21, 1982\n\n OBITUARY\n\n Arthur Rubi...</td>
    </tr>
    <tr>
      <th>Ansel Adams</th>
      <td>1984</td>
      <td>280.txt</td>
      <td>April 24, 1984\n\n OBITUARY\n\n Ansel Adams, P...</td>
    </tr>
    <tr>
      <th>Georgia O Keeffe</th>
      <td>1986</td>
      <td>290.txt</td>
      <td>March 7, 1986\n\n OBITUARY\n\n Georgia O' Keef...</td>
    </tr>
    <tr>
      <th>James Baldwin</th>
      <td>1987</td>
      <td>300.txt</td>
      <td>December 2, 1987\n\n OBITUARY\n\n James Baldwi...</td>
    </tr>
    <tr>
      <th>Andrei A Gromyko</th>
      <td>1989</td>
      <td>310.txt</td>
      <td>July 4, 1989\n\n OBITUARY\n\n Andrei A. Gromyk...</td>
    </tr>
    <tr>
      <th>Erte</th>
      <td>1990</td>
      <td>320.txt</td>
      <td>April 22, 1990\n\n OBITUARY\n\n Erte, a Master...</td>
    </tr>
    <tr>
      <th>John Cage</th>
      <td>1992</td>
      <td>330.txt</td>
      <td>August 13, 1992\n\n OBITUARY\n\n John Cage, 79...</td>
    </tr>
    <tr>
      <th>Dizzy Gillespie</th>
      <td>1993</td>
      <td>340.txt</td>
      <td>January 7, 1993\n\n OBITUARY\n\n Dizzy Gillesp...</td>
    </tr>
    <tr>
      <th>Jacqueline Kennedy</th>
      <td>1994</td>
      <td>350.txt</td>
      <td>May 20, 1994\n\n OBITUARY\n\n Death of a First...</td>
    </tr>
    <tr>
      <th>Deng Xiaoping</th>
      <td>1997</td>
      <td>360.txt</td>
      <td>February 20, 1997\n\n OBITUARY\n\n Deng Xiaopi...</td>
    </tr>
    <tr>
      <th>Fred W Friendly</th>
      <td>1998</td>
      <td>370.txt</td>
      <td>March 5, 1998\n\n OBITUARY\n\n Fred W. Friendl...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Indexing by <strong>label</strong> works with <code class="docutils literal notranslate"><span class="pre">.loc</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;John Dewey&quot;</span>
<span class="n">manifest</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>year                                                 1952
file                                              118.txt
text    June 2, 1952\n\n OBITUARY\n\n Dr. John Dewey D...
Name: John Dewey, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Use it conjunction with a column name to access the value in a cell.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">manifest</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>June 2, 1952

 OBITUARY

 Dr. John Dewey Dead at 92; Philosopher a Noted Liberal

 By THE NEW YORK TIMES

 Dr. John Dewey, the philosopher from whose teachings has grown the school of progressive education and &quot;learning by doing,&quot; died of pneumonia in his home, 1158 Fifth Avenue, at 7 o&#39;clock last night. He was 92 years old.

 His wife, the former Mrs. Roberta Lowit Grant, who was with him when he died, said he had been ill for twenty-six hours. He had broken a hip last November, and had been confined to the apartment, except for occasional trips to the roof for sunning.

 The widow said Dr. Dewey had been carrying on various projects at home to the last, and had outlined several works. She had no idea how near to possible publication any of them might be.

 Surviving also are two adopted children, Adrienne, 12, and John, 9. Five other children of his first marriage also survive--Frederick A. Dewey of New York, Mrs. Evelyn Smith of Kansas City, Mo.; Mrs. Lucy A. Brandaur of Syracuse, N.Y.; Miss Jane U. Dewey of Baltimore and Sabino L. Dewey of Huntington, L.I., the last also having been adopted.

 Mrs. Dewey said the funeral service would be held at the Community Church of New York, 40 East Thirty-fifth Street, on Wednesday at 1 P.M.

 As a philosopher--and he was acknowledged by many as America&#39;s foremost philosopher of his time--Dr. Dewey was not content to bring forth theories; he came forward to emphasize his ideas of liberalism, and, with the courage of a crusader, was willing to lend his name and reputation to causes that were frowned upon by staid society.

 He was too big a man to be sneered at as an &quot;armchair Bolshevist.&quot; His convictions were those of an essentially honest man, and although he might well have sat back to criticize the general order of things, he took an active part in the attempt to create a third political party, to lend his voice and influence to help the down-trodden, to do away with oppression in this country and elsewhere, and to strive for a finer universal education.

 In his quest for betterment he met--and was prepared to meet--not only opposition but defeat. Some of his plans were quixotic and much too good for this world, but he never wavered in a cause that he considered just and he commanded the respect of all who opposed him.

 As the champion of an ideal and liberal democracy, Dr. Dewey saw the good as well as the bad in countries where the masses were groping for new social systems. He visited Russia, China and Turkey; saw for himself, and maintained his views in the face of public opinion in this country. He condemned hasty judgment of the affairs of other peoples and pointed to the flaws at home in no uncertain terms.

 Dr. Dewey had become attached to liberalism in his student days at the University of Vermont and at Johns Hopkins, where he came under the influence of Coleridge, Emerson and T. H. Green, but what finally emancipated him from the cumbersome and academic systems of transcendentalism was his discovery in 1891 of William James&#39; &quot;Psychology.&quot; In this work, according to Prof. Herbert W. Schneider of Columbia, he not only found the &quot;instrumental theory of concepts&quot; on which Dewey&#39;s logic was based, but also experienced that contagious mental &quot;loosening up&quot; with which James influenced his generation and which made him the father of American philosophy.

 Noted for Educational Reform

 Dr. Dewey&#39;s principal achievement was perhaps his educational reform. He was the chief prophet of progressive education. After twenty years that movement--&quot;learning by doing&quot;--had become a major factor in American education in the late

 Thirties, and in 1941 the New York State Department of Education approved a six-year experiment in schools embodying the Dewey philosophy.

 But progressive education was long the center of controversy among educators, and in the early Forties criticism was becoming more outspoken. The revolt against Dewey and pragmatism in education was strongest in Chicago, the scene of his first and greatest triumphs. At the University of Chicago, where Dr. Dewey was head of the Department of Philosophy and for two years director of the School of Education, President Robert Hutchins has sponsored a system of &quot;education for freedom&quot; which seeks to separate the teaching of the &quot;intellectual&quot; from the &quot;practical&quot; arts. Both Dr. Hutchins and Dr. Nicholas Murray Butler, long president of Columbia University, sharply attacked progressive education in 1944.

 In a birthday interview that year Dr. Dewey dismissed as &quot;a childish point of view&quot; the criticism by Dr. Butler, in an address at the opening of the university, that progressive education, &quot;a most reactionary philosophy,&quot; has led to undisciplined youth.

 And replying to Dr. Hutchins&#39; attacks, he said: &quot;President Hutchins calls for liberal education of a small, elite group and vocational education for the masses. I cannot think of any idea more completely reactionary and more fatal to the whole democratic outlook.&quot;

 While Professor of Philosophy at the University of Michigan in 1893 Dewey wrote: &quot;If I were asked to name the most needed of all reforms in the spirit of education I should say: &#39;Cease conceiving of education as mere preparation for later life, and make of it the full meaning of the present life.&#39; And to add that only in this case does it become truly a preparation for later life is not the paradox it seems. An activity which does not have worth enough to be carried on for its own sake cannot be very effective as a preparation for something else if the new spirit in education forms the habit of requiring that every act be an outlet of the whole self, and it provides the instruments of such complete functioning.&quot;

 Later in life Professor Dewey devoted much time and thought to reform of government. He declared that the &quot;control of government must be redeemed from the special interests which have usurped it and restored to the people.&quot; Unless this were done, he warned, political democracy would be doomed.

 Championed New Thought

 He referred to the major political parties as &quot;the errand boys of big business,&quot; and he championed new thought, actively through his connections with the People&#39;s Lobby, of which he was the president, and more indirectly by his writings.

 During 1946 Dr. Dewey participated with labor leaders in conferences at Chicago and Detroit designed to lay the groundwork for a third, or People&#39;s, party for 1948. At the Detroit conference, a National Educational Committee was formed. Leaders at the conferences were from the Congress of Industrial Organizations, the American Federation of Labor and the farmers&#39; unions.

 John Dewey was born at Burlington, Vt., on Oct. 20, 1859, son of Archibald S. Dewey and Lucina A. Rich Dewey. His father was a merchant who traced his ancestry to 1640. His mother was the daughter of a prosperous Vermont farmer of Cape Cod ancestry.

 He studied in common schools and later attended the University of Vermont, being graduated in 1879. He then taught school at Oil City, Pa., and subsequently in general country schools in Vermont. One year he spent studying philosophy with Prof. H. A.

 P. Torrey of the University of Vermont.

 After this he went to Johns Hopkins, where he studied philosophy and psychology under Prof. G. S. Morris, and in 1884 he received his Ph.D. degree.

 That year he was appointed instructor and assistant Professor of Philosophy at the University of Michigan and remained as such until 1888, when he went to the University of Minnesota as Professor of Philosophy. After a year he returned to the University of Michigan where he remained for five years.

 From 1894 to 1904 Professor Dewey was head of the Department of Philosophy at the University of Chicago and for two years he was director of the School of Education of the same institution. In 1904 he was appointed Professor of Philosophy at Columbia

 University. Besides his regular work there Dr. Dewey taught at Teachers College.

 He retired with the title of Professor Emeritus on July 1, 1930.

 In 1886 his first work, &quot;Psychology,&quot; was published.

 This was followed by &quot;Liebnitz,&quot; &quot;Critical Theory of Ethics,&quot; &quot;Study of Ethics,&quot; &quot;School and Society,&quot; &quot;Studies in Logical Theory,&quot; &quot;How to Think,&quot; &quot;Influence of Darwin on Philosophy and

 Other Essays,&quot; &quot;German Philosophy and Politics,&quot; &quot;Democracy and Education,&quot; &quot;Reconstruction in Philosophy,&quot; &quot;Human Nature and Conduct,&quot; &quot;Experience and Nature,&quot; &quot;The Public and Its Problems,&quot; &quot;The Quest for Certainty&quot; and &quot;Individualism, Old and New.&quot;

 Others were &quot;Philosophy and Civilization,&quot; &quot;Art as Experience,&quot; &quot;Liberalism and Social Action,&quot; &quot;Logic: The Theory of Inquiry&quot; and &quot;Culture and Freedom.&quot;

 In reviewing Dr. Dewey&#39;s &quot;Problems of Men,&quot; published in June, 1946, Dr. Alvin Johnson, president emeritus of the New School for Social Research, said Dr. Dewey struck &quot;straight at reactionary philosophers.&quot; In replying to his philosophical and educational critics, Dr. Johnson said that Dewey concluded: &quot;Philosophy counts for next to nothing in the present world-wide crisis of human affairs and should count for less.

 It needs a thorough house-cleaning and the final, definitive abandonment of most of its traditional values. Those values are class values. They were established in a time when the masses of mankind lived in slavery, or near-slavery, and when a little body of the elect could occupy themselves with speculations on the divine and the absolute. The present world belongs to a democracy. And the democracy cannot waste time on recondite speculations that have nothing to do with life.&quot;

 Professor Dewey had a small but enthusiastic following of Socialists, moderate radicals and thinkers. There was a so-called &quot;Dewey group,&quot; which was popularly known as a gathering of liberal-minded men and women. Among those who became his disciples, or rather associates in thought, were such men as Walter Lippmann, Charles A. Beard, Sinclair Lewis, Morris Hillquit, Oswald Garison Villard and Norman Thomas. Their influence was felt more especially at times when political graft and abuse became over-oppressive. Others who associated themselves with Dr. Dewey were Rabbi Stephen S. Wise and John Haynes Holmes. Dr. Dewey was a supporter of the

 Civil Liberties Union and was chairman of the League for Independent Political Action. One of the articles of Professor Dewey&#39;s political creed was &quot;vote for the man rather than for the party.&quot; His faith was embodied in articles that he wrote for The New Republic, Philosophical Review, Journal of Philosophy, Monist and International Journal of Ethics.

 Lectured in Tokyo

 In 1919 Dr. Dewey delivered a series of lectures at the Imperial University at Tokyo. These were later published as &quot;Reconstruction in Philosophy.&quot; That same year he was invited by former Chinese students in this country to lecture in China on the subjects of education and philosophy. He stayed in China for two years, making his headquarters at Peiping, but he traveled through all the provinces from Mukden to Canton.

 Dr. Dewey went to Turkey in 1924 to make a report on the new republican government schools. In 1926 he was in Mexico, where he lectured at the Summer School of the University of Mexico. In 1928 he was one of the delegates of American educators who visited children&#39;s institutions at Leningrad and Moscow at the invitation of the Soviet Government. Dr. Dewey was highly impressed with the educational experiments in new Russia, and voiced enthusiasm upon his return to this country. He was somewhat criticized for his views, however, and there were some who maintained that he was naive, though his sincerity was never questioned.

 In 1937 he experienced one of the stormiest episodes in his life. He went to Mexico as the head of a commission to investigate the validity of charges made by the Soviet Government against Leon Trotsky, who was living in Mexico. Trotsky had been sentenced to death by a Russian court for plotting to overthrow the Moscow Government, but Dr. Dewey insisted that Trotsky never had a chance to defend himself. &quot;Now,&quot; he said, &quot;it is up to him to present his case. I am neither a Trotskyite nor a Stalinist. I don&#39;t accept the Moscow evidence as conclusive till I hear the other side.&quot;

 The commission announced that it found Trotsky was innocent of the terrorism and fascist conspiracy with which he had been charged.

 An avowed anti-Communist, Dr. Dewey had his views as to the ideal balance between the State and the individual. What was needed, he explained, was an authority capable of directing and utilizing changes for a kind of individual freedom unlike that which the unconstrained economic liberty had produced and justified.

 Dr. Dewey believed that if democracy were to survive in this country it would require it would require a tremendous reorganization of instruction and administration in the schools. Democracy, he maintained, &quot;cannot go forward unless the intelligence of the mass of people is educated to understand the social realities of their own time.&quot;

 Professor Dewey constantly urged the cultivation of independent thinking, and he deplored what he termed the &quot;empty imitation&quot; in this country of thought in Europe. He was often heard in public debate on matters of social or political significance, and he cheerfully agreed to act as chairman whenever he thought something of consequence might result from such disputations.

 Predicted War by Hitler

 As early as 1933 Dr. Dewey voiced his fear of what the future might bring if Hitler remained unchecked in Germany. Just before he sailed for Europe that year he predicted that Hitler would be headed for war as soon as he felt strong enough. A year later he asserted that Hitler and Hitlerism were &quot;by all odds the greatest threat to world peace today.&quot; In 1936 he was one of a group of eighteen philosophers who refused to participate in the celebration of a philosophical institution in Berlin. At that time he also was wary of Japan, warning that a secret agreement existed between Japan and Germany.

 He called for the United States to take action against Japan, urging that a boycott be put into effect till such time as the Nipponese forces left China. The Chinese Government conferred on him the Order of the Jade for the contributions he had made to the education and leadership of China.

 He was honorary life president of the National Education Association, a member of the National Academy of Sciences, the American Psychological Association (president, 1899-1900), American Philosophical Association (president, 1905-06), and corresponding member of the Institut de France.

 In 1938 Dr. Dewey was voted by the Aristogenic Society as one of the ten &quot;greatest Americans.&quot; This honor included the recording of every phase of his life for future generations.

 Active In Teachers Guild

 Professor Dewey took a sharp interest in the internal affairs of this city and the nation. In 1936 he was a leader in the movement to obtain a new city charter. He was active in organizations such as the New York Teachers Guild, the League for Industrial

 Democracy, the International League for Academic Freedom and the Committee for Cultural Freedom. He also assisted in the founding of a University-in-Exile for famous scholars driven out of their native countries.

 In 1944 he aided in the organization of a Council for a Democratic Germany, and was on and Educators-for-Roosevelt Committee formed to promote the re-election of Franklin D. Roosevelt. After the war he joined with other leaders in petitions to President

 Truman for the release of conscientious objectors still being held.

 Dr. Dewey was extremely courteous and mild of manner. He was a scholar who ventured to descend into the maelstrom of political strife and who took his blows, unfair as they were in many cases, with a smile and a shrug of the shoulder. But he was persistent and his enthusiasm was infectious. &quot;I see no hope,&quot; he said once, &quot;for sanity and reality in American life except through the agency of a new party.&quot;

 He sowed the seeds, but he never saw its fruits. When a bust of John Dewey, modeled by Jacob Epstein, was unveiled at Columbia in 1928, Dr. William Heard Kilpatrick, Professor of Education, said: &quot;Dr. Dewey is America&#39;s greatest living philosopher and must be included among the greatest thinkers of all times. He has in the minds of many changed almost our whole conception of what philosophy is, delivering us from the old puzzles that have formed the stock in trade of the traditional philosophy. He is chiefly responsible for our thinking of intelligence as primarily instrumental. His philosophy has common sense, acceptability and a social bearing which distinguishes it in degree from all other philosophies.&quot;

 But perhaps the best description of all can be found in an editorial written to mark his eightieth birthday: &quot;there are countless school children today and yesterday whose lives have been influenced in a constructive way by this one man who never shouted, and whose formally stated philosophy often is a stiff dose for more subtle minds. One thinks of him as refining into gold the rough ore of our tumultuous pioneer experience. He is yankeeism at its best--shrewd, wise, humane.&quot;

 Dr. Dewey retired from teaching at Columbia in 1930, when he was 70, but he went on writing and lecturing, publishing more than 300 books, essays and articles. By the time he was 90, his published works must have totaled 1,000.

 Opposed Loyalty Oaths

 In recent years, he had lived in a large apartment overlooking Central Park at Fifth Avenue and Ninety-seventh Street. He spent his winters in Florida. He never lost interest in public affairs, often speaking and writing on questions of the day. He opposed teachers&#39; loyalty oaths, but came to believe that known Communists should not be permitted to teach children. He defended the United States action in Korea. For these and other anti-Soviet views, he won the criticism of Pravda.

 To the end he lent his name to the causes for which he believed, even when he could not be present in person. This year, he was a member of the Congress for Cultural Freedom, which, among other activities, sponsored a festival of Western music, art and literature in Paris dedicated to victims of Nazi, Soviet and Franco Spanish tyrannies. Last month he was elected an honorary vice chairman of the Liberal party of New York State.

 Dr. Dewey&#39;s ninetieth birthday was celebrated in many universities and by cultural societies in the United States and abroad. He was honored, mostly in absentia, by testimonial dinners and meetings for weeks in the fall of 1949. He did attend one large testimonial dinner at the Commodore Hotel, when admirers presented to him $90,000 to be used on worthy educational projects of his choosing. Among notables who sent felicitations were President

 Truman and Prime Minister Attlee of England.

 Honored by Yale in 1951

 Professor Dewey maintained surprisingly good health for such an old man. Even a serious operation in 1951 did not incapacitate him, and he recovered sufficiently to accept in person the honorary degree of Doctor of Literature at Yale&#39;s June commencement.

 At the age of 92, Dr. Dewey looked twenty years younger. His bushy hair and mustache were white, but they had been so for decades. His eyes were still keen, his mind alert, and his physical strength sufficient for him to take walks and typewrite his own scripts and letters.

 Dr. Dewey married twice. In 1886, Alice Chipman, one of his students at the University of Michigan, became his bride. There were born to them six children, two of whom died in childhood. A seventh child was adopted. Mrs. Dewey died in 1927.

 When he was 87, the philosopher married Mrs. Grant, a widow who lived in San Francisco, on December 11, 1946. Not quite half his age, Mrs. Grant came from an Oil City, Pa., glass manufacturing family which had been friends with Dr. Dewey before she was born.

 She had been a director of educational travel for the Cunard Steamship Company. Dr. Dewey had arranged years before to turn over the bulk of his assets to his first wife and their children, and after his second marriage the Deweys lived largely on his wife&#39;s inheritance and some later royalties.

 
</pre></div>
</div>
</div>
</div>
<p>Or send it a sequence of labels:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;John Dewey&quot;</span><span class="p">,</span> <span class="s2">&quot;Lucille Ball&quot;</span><span class="p">]</span>
<span class="n">manifest</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">names</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>John Dewey</th>
      <td>1952</td>
      <td>118.txt</td>
      <td>June 2, 1952\n\n OBITUARY\n\n Dr. John Dewey D...</td>
    </tr>
    <tr>
      <th>Lucille Ball</th>
      <td>1989</td>
      <td>306.txt</td>
      <td>April 27, 1989\n\n OBITUARY\n\n Lucille Ball, ...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Finally, there is indexing by <strong>condition</strong>. This works by evaluating a
condition and returning a Series of Boolean values. It is the most powerful
method of indexing in Pandas by far.</p>
<p>Below, we find all poems with names that start with “S”. Use the <code class="docutils literal notranslate"><span class="pre">.str</span></code>
attribute of an index of strings to accomplish this.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;S&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([False, False, False, False, False, False, False, False, False,
       False, False, False, False, False,  True, False, False, False,
       False, False, False, False,  True, False, False,  True, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
        True, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
        True, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False,  True, False, False,
       False, False,  True, False, False, False, False, False,  True,
       False, False, False, False, False, False, False, False, False,
       False,  True, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False,  True, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False,  True, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False,  True, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False,  True, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False,  True, False,  True, False, False, False, False, False,
       False, False, False, False, False, False, False, False,  True,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False, False, False, False, False, False, False, False, False,
       False])
</pre></div>
</div>
</div>
</div>
<p>See the Boolean values? Let’s assign the output of the above to a mask
variable, with which we will index the DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;S&quot;</span><span class="p">)</span>
<span class="n">manifest</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Stephen Crane</th>
      <td>1900</td>
      <td>014.txt</td>
      <td>June 6, 1900\n\n OBITUARY\n\n Stephen Crane De...</td>
    </tr>
    <tr>
      <th>Susan B Anthony</th>
      <td>1906</td>
      <td>022.txt</td>
      <td>March 13, 1906\n\n OBITUARY\n\n Miss Susan B. ...</td>
    </tr>
    <tr>
      <th>Sarah Orne Jewett</th>
      <td>1909</td>
      <td>025.txt</td>
      <td>June 25, 1909\n\n OBITUARY\n\n Sarah Orne Jewe...</td>
    </tr>
    <tr>
      <th>Scott Fitzgerald</th>
      <td>1940</td>
      <td>081.txt</td>
      <td>December 23, 1940\n\n OBITUARY\n\n Scott Fitzg...</td>
    </tr>
    <tr>
      <th>Sergei Eisenstein</th>
      <td>1948</td>
      <td>108.txt</td>
      <td>February 12, 1948\n\n OBITUARY\n\n Sergei Eise...</td>
    </tr>
    <tr>
      <th>Sam Rayburn</th>
      <td>1961</td>
      <td>159.txt</td>
      <td>November 17, 1961\n\n OBITUARY\n\n Rayburn Is ...</td>
    </tr>
    <tr>
      <th>Sylvia Plath</th>
      <td>1963</td>
      <td>164.txt</td>
      <td>A postwar poet unafraid to confront her own de...</td>
    </tr>
    <tr>
      <th>Sean O Casey</th>
      <td>1964</td>
      <td>170.txt</td>
      <td>September 19, 1964\n\n OBITUARY\n\n Sean O'Cas...</td>
    </tr>
    <tr>
      <th>Shirley Jackson</th>
      <td>1965</td>
      <td>181.txt</td>
      <td>August 10, 1965\n\n OBITUARY\n\n Shirley Jacks...</td>
    </tr>
    <tr>
      <th>Sonja Henie</th>
      <td>1969</td>
      <td>204.txt</td>
      <td>October 13, 1969\n\n OBITUARY\n\n Sonja Henie,...</td>
    </tr>
    <tr>
      <th>Sylvia Plath</th>
      <td>1974</td>
      <td>232.txt</td>
      <td>January 13, 1974\n\n REVIEW\n\n Her Poetry, No...</td>
    </tr>
    <tr>
      <th>Stan Kenton</th>
      <td>1979</td>
      <td>258.txt</td>
      <td>August 27, 1979\n\n OBITUARY\n\n Stan Kenton, ...</td>
    </tr>
    <tr>
      <th>Satchel Paige</th>
      <td>1982</td>
      <td>273.txt</td>
      <td>June 9, 1982\n\n OBITUARY\n\n Satchel Paige, B...</td>
    </tr>
    <tr>
      <th>Samuel Beckett</th>
      <td>1989</td>
      <td>316.txt</td>
      <td>December 27, 1989\n\n OBITUARY\n\n Samuel Beck...</td>
    </tr>
    <tr>
      <th>Sammy Davis Jr</th>
      <td>1990</td>
      <td>318.txt</td>
      <td>May 17, 1990\n\n OBITUARY\n\n Sammy Davis Jr. ...</td>
    </tr>
    <tr>
      <th>Shirley Booth</th>
      <td>1992</td>
      <td>332.txt</td>
      <td>October 21, 1992\n\n OBITUARY\n\n Shirley Boot...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>What makes indexing by condition so powerful is that it generalizes to other
data in the DataFrame, not just the index. Let’s reset the index and explore
this a little.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">manifest</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Ada Lovelace</td>
      <td>1852</td>
      <td>000.txt</td>
      <td>A gifted mathematician who is now recognized a...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Robert E Lee</td>
      <td>1870</td>
      <td>001.txt</td>
      <td>October 13, 1870\n\n OBITUARY\n\n Gen. Robert ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Andrew Johnson</td>
      <td>1875</td>
      <td>002.txt</td>
      <td>August 1, 1875\n\n OBITUARY\n\n Andrew Johnson...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Bedford Forrest</td>
      <td>1877</td>
      <td>003.txt</td>
      <td>October 30, 1877\n\n OBITUARY\n\n Death of Gen...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Lucretia Mott</td>
      <td>1880</td>
      <td>004.txt</td>
      <td>November 12, 1880\n\n OBITUARY\n\n Lucretia Mo...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Below, we find obituaries that contain the string “musician” (note that this
will return the plural as well).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;musician&quot;</span><span class="p">),</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>18         Benjamin Harrison
21     Emily Warren Roebling
51                   Balfour
59         John Philip Sousa
96               Jerome Kern
98               Bela Bartok
104      Fiorello La Guardia
110                Babe Ruth
144                W C Handy
145           Billie Holiday
151          Boris Pasternak
180        Albert Schweitzer
199          Coleman Hawkins
216          Louis Armstrong
218          Igor Stravinsky
220          Mahalia Jackson
228            Pablo Picasso
231              Earl Warren
250             Maria Callas
255           Arthur Fiedler
258              Stan Kenton
259          Richard Rodgers
270        Arthur Rubinstein
271          Thelonious Monk
276             Muddy Waters
280              Ansel Adams
285              Count Basie
291            Benny Goodman
302           Andres Segovie
312        Vladimir Horowitz
319        Leonard Bernstein
323              Frank Capra
325              Miles Davis
326            Martha Graham
330                John Cage
340          Dizzy Gillespie
350       Jacqueline Kennedy
371            Frank Sinatra
375           Pierre Trudeau
Name: name, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Here, something more complicated: documents that contain the string “paintings”
with file names above <code class="docutils literal notranslate"><span class="pre">09.txt</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;Bird&quot;</span><span class="p">))</span> <span class="o">&amp;</span> \
    <span class="p">(</span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;00&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">manifest</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>175    David O Selznick
181     Shirley Jackson
224      Lyndon Johnson
261    Alfred Hitchcock
275          Earl Hines
281        Ethel Merman
340     Dizzy Gillespie
348       Jessica Tandy
377    Charles M Schulz
Name: name, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="preparing-for-data-analysis">
<h2><span class="section-number">3.4. </span>Preparing for Data Analysis<a class="headerlink" href="#preparing-for-data-analysis" title="Link to this heading">#</a></h2>
<p>With the basics of indexing done, we will prepare to analyze the corpus. This
will involve two steps. First, we preprocess the raw text in the <code class="docutils literal notranslate"><span class="pre">text</span></code> column
of our DataFrame. Then, we define some plotting functions to graph the results
of our analysis.</p>
<section id="preprocessing">
<h3><span class="section-number">3.4.1. </span>Preprocessing<a class="headerlink" href="#preprocessing" title="Link to this heading">#</a></h3>
<p>As we saw in the last chapter, operations like counting require texts to be
processed in special ways. This includes changing the case of texts, breaking
texts into lists of tokens, and so forth.</p>
<p>Previously, we used a simple heuristic to tokenize text: split the text stream
on whitespace characters.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">example</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Ada Lovelace&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">example</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;A&#39;, &#39;gifted&#39;, &#39;mathematician&#39;, &#39;who&#39;, &#39;is&#39;, &#39;now&#39;, &#39;recognized&#39;, &#39;as&#39;, &#39;the&#39;, &#39;first&#39;, &#39;computer&#39;, &#39;programmer.&#39;, &#39;By&#39;, &#39;CLAIRE&#39;, &#39;CAIN&#39;, &#39;MILLER&#39;, &#39;A&#39;, &#39;century&#39;, &#39;before&#39;, &#39;the&#39;, &#39;dawn&#39;, &#39;of&#39;, &#39;the&#39;, &#39;computer&#39;, &#39;age,&#39;, &#39;Ada&#39;, &#39;Lovelace&#39;, &#39;imagined&#39;, &#39;the&#39;, &#39;modern-day,&#39;, &#39;general-purpose&#39;, &#39;computer.&#39;, &#39;It&#39;, &#39;could&#39;, &#39;be&#39;, &#39;programmed&#39;, &#39;to&#39;, &#39;follow&#39;, &#39;instructions,&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;in&#39;, &#39;1843.&#39;, &#39;It&#39;, &#39;could&#39;, &#39;not&#39;, &#39;just&#39;, &#39;calculate&#39;, &#39;but&#39;, &#39;also&#39;, &#39;create,&#39;, &#39;as&#39;, &#39;it&#39;, &#39;“weaves&#39;, &#39;algebraic&#39;, &#39;patterns&#39;, &#39;just&#39;, &#39;as&#39;, &#39;the&#39;, &#39;Jacquard&#39;, &#39;loom&#39;, &#39;weaves&#39;, &#39;flowers&#39;, &#39;and&#39;, &#39;leaves.”&#39;, &#39;The&#39;, &#39;computer&#39;, &#39;she&#39;, &#39;was&#39;, &#39;writing&#39;, &#39;about,&#39;, &#39;the&#39;, &#39;British&#39;, &#39;inventor&#39;, &#39;Charles&#39;, &#39;Babbage’s&#39;, &#39;Analytical&#39;, &#39;Engine,&#39;, &#39;was&#39;, &#39;never&#39;, &#39;built.&#39;, &#39;But&#39;, &#39;her&#39;, &#39;writings&#39;, &#39;about&#39;, &#39;computing&#39;, &#39;have&#39;, &#39;earned&#39;, &#39;Lovelace&#39;, &#39;—&#39;, &#39;who&#39;, &#39;died&#39;, &#39;of&#39;, &#39;uterine&#39;, &#39;cancer&#39;, &#39;in&#39;, &#39;1852&#39;, &#39;at&#39;, &#39;36&#39;, &#39;—&#39;, &#39;recognition&#39;, &#39;as&#39;, &#39;the&#39;, &#39;first&#39;, &#39;computer&#39;, &#39;programmer.&#39;, &#39;The&#39;, &#39;program&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;for&#39;, &#39;the&#39;, &#39;Analytical&#39;, &#39;Engine&#39;, &#39;was&#39;, &#39;to&#39;, &#39;calculate&#39;, &#39;the&#39;, &#39;seventh&#39;, &#39;Bernoulli&#39;, &#39;number.&#39;, &#39;(Bernoulli&#39;, &#39;numbers,&#39;, &#39;named&#39;, &#39;after&#39;, &#39;the&#39;, &#39;Swiss&#39;, &#39;mathematician&#39;, &#39;Jacob&#39;, &#39;Bernoulli,&#39;, &#39;are&#39;, &#39;used&#39;, &#39;in&#39;, &#39;many&#39;, &#39;different&#39;, &#39;areas&#39;, &#39;of&#39;, &#39;mathematics.)&#39;, &#39;But&#39;, &#39;her&#39;, &#39;deeper&#39;, &#39;influence&#39;, &#39;was&#39;, &#39;to&#39;, &#39;see&#39;, &#39;the&#39;, &#39;potential&#39;, &#39;of&#39;, &#39;computing.&#39;, &#39;The&#39;, &#39;machines&#39;, &#39;could&#39;, &#39;go&#39;, &#39;beyond&#39;, &#39;calculating&#39;, &#39;numbers,&#39;, &#39;she&#39;, &#39;said,&#39;, &#39;to&#39;, &#39;understand&#39;, &#39;symbols&#39;, &#39;and&#39;, &#39;be&#39;, &#39;used&#39;, &#39;to&#39;, &#39;create&#39;, &#39;music&#39;, &#39;or&#39;, &#39;art.&#39;, &#39;“This&#39;, &#39;insight&#39;, &#39;would&#39;, &#39;become&#39;, &#39;the&#39;, &#39;core&#39;, &#39;concept&#39;, &#39;of&#39;, &#39;the&#39;, &#39;digital&#39;, &#39;age,”&#39;, &#39;Walter&#39;, &#39;Isaacson&#39;, &#39;wrote&#39;, &#39;in&#39;, &#39;his&#39;, &#39;book&#39;, &#39;“The&#39;, &#39;Innovators.”&#39;, &#39;“Any&#39;, &#39;piece&#39;, &#39;of&#39;, &#39;content,&#39;, &#39;data&#39;, &#39;or&#39;, &#39;information&#39;, &#39;—&#39;, &#39;music,&#39;, &#39;text,&#39;, &#39;pictures,&#39;, &#39;numbers,&#39;, &#39;symbols,&#39;, &#39;sounds,&#39;, &#39;video&#39;, &#39;—&#39;, &#39;could&#39;, &#39;be&#39;, &#39;expressed&#39;, &#39;in&#39;, &#39;digital&#39;, &#39;form&#39;, &#39;and&#39;, &#39;manipulated&#39;, &#39;by&#39;, &#39;machines.”&#39;, &#39;She&#39;, &#39;also&#39;, &#39;explored&#39;, &#39;the&#39;, &#39;ramifications&#39;, &#39;of&#39;, &#39;what&#39;, &#39;a&#39;, &#39;computer&#39;, &#39;could&#39;, &#39;do,&#39;, &#39;writing&#39;, &#39;about&#39;, &#39;the&#39;, &#39;responsibility&#39;, &#39;placed&#39;, &#39;on&#39;, &#39;the&#39;, &#39;person&#39;, &#39;programming&#39;, &#39;the&#39;, &#39;machine,&#39;, &#39;and&#39;, &#39;raising&#39;, &#39;and&#39;, &#39;then&#39;, &#39;dismissing&#39;, &#39;the&#39;, &#39;notion&#39;, &#39;that&#39;, &#39;computers&#39;, &#39;could&#39;, &#39;someday&#39;, &#39;think&#39;, &#39;and&#39;, &#39;create&#39;, &#39;on&#39;, &#39;their&#39;, &#39;own&#39;, &#39;—&#39;, &#39;what&#39;, &#39;we&#39;, &#39;now&#39;, &#39;call&#39;, &#39;artificial&#39;, &#39;intelligence.&#39;, &#39;“The&#39;, &#39;Analytical&#39;, &#39;Engine&#39;, &#39;has&#39;, &#39;no&#39;, &#39;pretensions&#39;, &#39;whatever&#39;, &#39;to&#39;, &#39;originate&#39;, &#39;any&#39;, &#39;thing,”&#39;, &#39;she&#39;, &#39;wrote.&#39;, &#39;“It&#39;, &#39;can&#39;, &#39;do&#39;, &#39;whatever&#39;, &#39;we&#39;, &#39;know&#39;, &#39;how&#39;, &#39;to&#39;, &#39;order&#39;, &#39;it&#39;, &#39;to&#39;, &#39;perform.”&#39;, &#39;Lovelace,&#39;, &#39;a&#39;, &#39;British&#39;, &#39;socialite&#39;, &#39;who&#39;, &#39;was&#39;, &#39;the&#39;, &#39;daughter&#39;, &#39;of&#39;, &#39;Lord&#39;, &#39;Byron,&#39;, &#39;the&#39;, &#39;Romantic&#39;, &#39;poet,&#39;, &#39;had&#39;, &#39;a&#39;, &#39;gift&#39;, &#39;for&#39;, &#39;combining&#39;, &#39;art&#39;, &#39;and&#39;, &#39;science,&#39;, &#39;one&#39;, &#39;of&#39;, &#39;her&#39;, &#39;biographers,&#39;, &#39;Betty&#39;, &#39;Alexandra&#39;, &#39;Toole,&#39;, &#39;has&#39;, &#39;written.&#39;, &#39;She&#39;, &#39;thought&#39;, &#39;of&#39;, &#39;math&#39;, &#39;and&#39;, &#39;logic&#39;, &#39;as&#39;, &#39;creative&#39;, &#39;and&#39;, &#39;imaginative,&#39;, &#39;and&#39;, &#39;called&#39;, &#39;it&#39;, &#39;“poetical&#39;, &#39;science.”&#39;, &#39;Math&#39;, &#39;“constitutes&#39;, &#39;the&#39;, &#39;language&#39;, &#39;through&#39;, &#39;which&#39;, &#39;alone&#39;, &#39;we&#39;, &#39;can&#39;, &#39;adequately&#39;, &#39;express&#39;, &#39;the&#39;, &#39;great&#39;, &#39;facts&#39;, &#39;of&#39;, &#39;the&#39;, &#39;natural&#39;, &#39;world,”&#39;, &#39;Lovelace&#39;, &#39;wrote.&#39;, &#39;Her&#39;, &#39;work,&#39;, &#39;which&#39;, &#39;was&#39;, &#39;rediscovered&#39;, &#39;in&#39;, &#39;the&#39;, &#39;mid-20th&#39;, &#39;century,&#39;, &#39;inspired&#39;, &#39;the&#39;, &#39;Defense&#39;, &#39;Department&#39;, &#39;to&#39;, &#39;name&#39;, &#39;a&#39;, &#39;programming&#39;, &#39;language&#39;, &#39;after&#39;, &#39;her&#39;, &#39;and&#39;, &#39;each&#39;, &#39;October&#39;, &#39;Ada&#39;, &#39;Lovelace&#39;, &#39;Day&#39;, &#39;signifies&#39;, &#39;a&#39;, &#39;celebration&#39;, &#39;of&#39;, &#39;women&#39;, &#39;in&#39;, &#39;technology.&#39;, &#39;Lovelace&#39;, &#39;lived&#39;, &#39;when&#39;, &#39;women&#39;, &#39;were&#39;, &#39;not&#39;, &#39;considered&#39;, &#39;to&#39;, &#39;be&#39;, &#39;prominent&#39;, &#39;scientific&#39;, &#39;thinkers,&#39;, &#39;and&#39;, &#39;her&#39;, &#39;skills&#39;, &#39;were&#39;, &#39;often&#39;, &#39;described&#39;, &#39;as&#39;, &#39;masculine.&#39;, &#39;“With&#39;, &#39;an&#39;, &#39;understanding&#39;, &#39;thoroughly&#39;, &#39;masculine&#39;, &#39;in&#39;, &#39;solidity,&#39;, &#39;grasp&#39;, &#39;and&#39;, &#39;firmness,&#39;, &#39;Lady&#39;, &#39;Lovelace&#39;, &#39;had&#39;, &#39;all&#39;, &#39;the&#39;, &#39;delicacies&#39;, &#39;of&#39;, &#39;the&#39;, &#39;most&#39;, &#39;refined&#39;, &#39;female&#39;, &#39;character,”&#39;, &#39;said&#39;, &#39;an&#39;, &#39;obituary&#39;, &#39;in&#39;, &#39;The&#39;, &#39;London&#39;, &#39;Examiner.&#39;, &#39;Babbage,&#39;, &#39;who&#39;, &#39;called&#39;, &#39;her&#39;, &#39;the&#39;, &#39;“enchantress&#39;, &#39;of&#39;, &#39;numbers,”&#39;, &#39;once&#39;, &#39;wrote&#39;, &#39;that&#39;, &#39;she&#39;, &#39;“has&#39;, &#39;thrown&#39;, &#39;her&#39;, &#39;magical&#39;, &#39;spell&#39;, &#39;around&#39;, &#39;the&#39;, &#39;most&#39;, &#39;abstract&#39;, &#39;of&#39;, &#39;Sciences&#39;, &#39;and&#39;, &#39;has&#39;, &#39;grasped&#39;, &#39;it&#39;, &#39;with&#39;, &#39;a&#39;, &#39;force&#39;, &#39;which&#39;, &#39;few&#39;, &#39;masculine&#39;, &#39;intellects&#39;, &#39;(in&#39;, &#39;our&#39;, &#39;own&#39;, &#39;country&#39;, &#39;at&#39;, &#39;least)&#39;, &#39;could&#39;, &#39;have&#39;, &#39;exerted&#39;, &#39;over&#39;, &#39;it.”&#39;, &#39;Augusta&#39;, &#39;Ada&#39;, &#39;Byron&#39;, &#39;was&#39;, &#39;born&#39;, &#39;on&#39;, &#39;Dec.&#39;, &#39;10,&#39;, &#39;1815,&#39;, &#39;in&#39;, &#39;London,&#39;, &#39;to&#39;, &#39;Lord&#39;, &#39;Byron&#39;, &#39;and&#39;, &#39;Annabella&#39;, &#39;Milbanke.&#39;, &#39;Her&#39;, &#39;parents&#39;, &#39;separated&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;an&#39;, &#39;infant,&#39;, &#39;and&#39;, &#39;her&#39;, &#39;father&#39;, &#39;died&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;8.&#39;, &#39;Her&#39;, &#39;mother&#39;, &#39;—&#39;, &#39;whom&#39;, &#39;Lord&#39;, &#39;Byron&#39;, &#39;called&#39;, &#39;the&#39;, &#39;“princess&#39;, &#39;of&#39;, &#39;parallelograms”&#39;, &#39;and,&#39;, &#39;after&#39;, &#39;their&#39;, &#39;falling&#39;, &#39;out,&#39;, &#39;a&#39;, &#39;“mathematical&#39;, &#39;Medea”&#39;, &#39;—&#39;, &#39;was&#39;, &#39;a&#39;, &#39;social&#39;, &#39;reformer&#39;, &#39;from&#39;, &#39;a&#39;, &#39;wealthy&#39;, &#39;family&#39;, &#39;who&#39;, &#39;had&#39;, &#39;a&#39;, &#39;deep&#39;, &#39;interest&#39;, &#39;in&#39;, &#39;mathematics.&#39;, &#39;An&#39;, &#39;etching&#39;, &#39;from&#39;, &#39;a&#39;, &#39;portrait&#39;, &#39;of&#39;, &#39;Lovelace&#39;, &#39;as&#39;, &#39;a&#39;, &#39;child.&#39;, &#39;She&#39;, &#39;is&#39;, &#39;said&#39;, &#39;to&#39;, &#39;have&#39;, &#39;had&#39;, &#39;a&#39;, &#39;gift&#39;, &#39;for&#39;, &#39;combining&#39;, &#39;art&#39;, &#39;and&#39;, &#39;science.&#39;, &#39;Smith&#39;, &#39;Collection/Gado/Getty&#39;, &#39;Images&#39;, &#39;Lovelace&#39;, &#39;showed&#39;, &#39;a&#39;, &#39;passion&#39;, &#39;for&#39;, &#39;math&#39;, &#39;and&#39;, &#39;mechanics&#39;, &#39;from&#39;, &#39;a&#39;, &#39;young&#39;, &#39;age,&#39;, &#39;encouraged&#39;, &#39;by&#39;, &#39;her&#39;, &#39;mother.&#39;, &#39;Because&#39;, &#39;of&#39;, &#39;her&#39;, &#39;class,&#39;, &#39;she&#39;, &#39;had&#39;, &#39;access&#39;, &#39;to&#39;, &#39;private&#39;, &#39;tutors&#39;, &#39;and&#39;, &#39;to&#39;, &#39;intellectuals&#39;, &#39;in&#39;, &#39;British&#39;, &#39;scientific&#39;, &#39;and&#39;, &#39;literary&#39;, &#39;society.&#39;, &#39;She&#39;, &#39;was&#39;, &#39;insatiably&#39;, &#39;curious&#39;, &#39;and&#39;, &#39;surrounded&#39;, &#39;herself&#39;, &#39;with&#39;, &#39;big&#39;, &#39;thinkers&#39;, &#39;of&#39;, &#39;the&#39;, &#39;day,&#39;, &#39;including&#39;, &#39;Mary&#39;, &#39;Somerville,&#39;, &#39;a&#39;, &#39;scientist&#39;, &#39;and&#39;, &#39;writer.&#39;, &#39;It&#39;, &#39;was&#39;, &#39;Somerville&#39;, &#39;who&#39;, &#39;introduced&#39;, &#39;Lovelace&#39;, &#39;to&#39;, &#39;Babbage&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;17,&#39;, &#39;at&#39;, &#39;a&#39;, &#39;salon&#39;, &#39;he&#39;, &#39;hosted&#39;, &#39;soon&#39;, &#39;after&#39;, &#39;she&#39;, &#39;made&#39;, &#39;her&#39;, &#39;society&#39;, &#39;debut.&#39;, &#39;He&#39;, &#39;showed&#39;, &#39;her&#39;, &#39;a&#39;, &#39;two-foot&#39;, &#39;high,&#39;, &#39;brass&#39;, &#39;mechanical&#39;, &#39;calculator&#39;, &#39;he&#39;, &#39;had&#39;, &#39;built,&#39;, &#39;and&#39;, &#39;it&#39;, &#39;gripped&#39;, &#39;her&#39;, &#39;imagination.&#39;, &#39;They&#39;, &#39;began&#39;, &#39;a&#39;, &#39;correspondence&#39;, &#39;about&#39;, &#39;math&#39;, &#39;and&#39;, &#39;science&#39;, &#39;that&#39;, &#39;lasted&#39;, &#39;almost&#39;, &#39;two&#39;, &#39;decades.&#39;, &#39;She&#39;, &#39;also&#39;, &#39;met&#39;, &#39;her&#39;, &#39;husband,&#39;, &#39;William&#39;, &#39;King,&#39;, &#39;through&#39;, &#39;Somerville.&#39;, &#39;They&#39;, &#39;married&#39;, &#39;in&#39;, &#39;1835,&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;19.&#39;, &#39;He&#39;, &#39;soon&#39;, &#39;became&#39;, &#39;an&#39;, &#39;earl,&#39;, &#39;and&#39;, &#39;she&#39;, &#39;became&#39;, &#39;the&#39;, &#39;Countess&#39;, &#39;of&#39;, &#39;Lovelace.&#39;, &#39;By&#39;, &#39;1839,&#39;, &#39;she&#39;, &#39;had&#39;, &#39;given&#39;, &#39;birth&#39;, &#39;to&#39;, &#39;two&#39;, &#39;sons&#39;, &#39;and&#39;, &#39;a&#39;, &#39;daughter.&#39;, &#39;She&#39;, &#39;was&#39;, &#39;determined,&#39;, &#39;however,&#39;, &#39;not&#39;, &#39;to&#39;, &#39;let&#39;, &#39;her&#39;, &#39;family&#39;, &#39;life&#39;, &#39;slow&#39;, &#39;her&#39;, &#39;work.&#39;, &#39;The&#39;, &#39;year&#39;, &#39;she&#39;, &#39;was&#39;, &#39;married,&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;to&#39;, &#39;Somerville:&#39;, &#39;“I&#39;, &#39;now&#39;, &#39;read&#39;, &#39;Mathematics&#39;, &#39;every&#39;, &#39;day&#39;, &#39;and&#39;, &#39;am&#39;, &#39;occupied&#39;, &#39;in&#39;, &#39;Trigonometry&#39;, &#39;and&#39;, &#39;in&#39;, &#39;preliminaries&#39;, &#39;to&#39;, &#39;Cubic&#39;, &#39;and&#39;, &#39;Biquadratic&#39;, &#39;Equations.&#39;, &#39;So&#39;, &#39;you&#39;, &#39;see&#39;, &#39;that&#39;, &#39;matrimony&#39;, &#39;has&#39;, &#39;by&#39;, &#39;no&#39;, &#39;means&#39;, &#39;lessened&#39;, &#39;my&#39;, &#39;taste&#39;, &#39;for&#39;, &#39;these&#39;, &#39;pursuits,&#39;, &#39;nor&#39;, &#39;my&#39;, &#39;determination&#39;, &#39;to&#39;, &#39;carry&#39;, &#39;them&#39;, &#39;on.”&#39;, &#39;In&#39;, &#39;1840,&#39;, &#39;Lovelace&#39;, &#39;asked&#39;, &#39;Augustus&#39;, &#39;De&#39;, &#39;Morgan,&#39;, &#39;a&#39;, &#39;math&#39;, &#39;professor&#39;, &#39;in&#39;, &#39;London,&#39;, &#39;to&#39;, &#39;tutor&#39;, &#39;her.&#39;, &#39;Through&#39;, &#39;exchanging&#39;, &#39;letters,&#39;, &#39;he&#39;, &#39;taught&#39;, &#39;her&#39;, &#39;university-level&#39;, &#39;math.&#39;, &#39;He&#39;, &#39;later&#39;, &#39;wrote&#39;, &#39;to&#39;, &#39;her&#39;, &#39;mother&#39;, &#39;that&#39;, &#39;if&#39;, &#39;a&#39;, &#39;young&#39;, &#39;male&#39;, &#39;student&#39;, &#39;had&#39;, &#39;shown&#39;, &#39;her&#39;, &#39;skill,&#39;, &#39;“they&#39;, &#39;would&#39;, &#39;have&#39;, &#39;certainly&#39;, &#39;made&#39;, &#39;him&#39;, &#39;an&#39;, &#39;original&#39;, &#39;mathematical&#39;, &#39;investigator,&#39;, &#39;perhaps&#39;, &#39;of&#39;, &#39;first-rate&#39;, &#39;eminence.”&#39;, &#39;It&#39;, &#39;was&#39;, &#39;in&#39;, &#39;1843,&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;27,&#39;, &#39;that&#39;, &#39;Lovelace&#39;, &#39;wrote&#39;, &#39;her&#39;, &#39;most&#39;, &#39;lasting&#39;, &#39;contribution&#39;, &#39;to&#39;, &#39;computer&#39;, &#39;science.&#39;, &#39;She&#39;, &#39;published&#39;, &#39;her&#39;, &#39;translation&#39;, &#39;of&#39;, &#39;an&#39;, &#39;academic&#39;, &#39;paper&#39;, &#39;about&#39;, &#39;the&#39;, &#39;Babbage&#39;, &#39;Analytical&#39;, &#39;Engine&#39;, &#39;and&#39;, &#39;added&#39;, &#39;a&#39;, &#39;section,&#39;, &#39;nearly&#39;, &#39;three&#39;, &#39;times&#39;, &#39;the&#39;, &#39;length&#39;, &#39;of&#39;, &#39;the&#39;, &#39;paper,&#39;, &#39;titled,&#39;, &#39;“Notes.”&#39;, &#39;Here,&#39;, &#39;she&#39;, &#39;described&#39;, &#39;how&#39;, &#39;the&#39;, &#39;computer&#39;, &#39;would&#39;, &#39;work,&#39;, &#39;imagined&#39;, &#39;its&#39;, &#39;potential&#39;, &#39;and&#39;, &#39;wrote&#39;, &#39;the&#39;, &#39;first&#39;, &#39;program.&#39;, &#39;Researchers&#39;, &#39;have&#39;, &#39;come&#39;, &#39;to&#39;, &#39;see&#39;, &#39;it&#39;, &#39;as&#39;, &#39;“an&#39;, &#39;extraordinary&#39;, &#39;document,”&#39;, &#39;said&#39;, &#39;Ursula&#39;, &#39;Martin,&#39;, &#39;a&#39;, &#39;computer&#39;, &#39;scientist&#39;, &#39;at&#39;, &#39;the&#39;, &#39;University&#39;, &#39;of&#39;, &#39;Oxford&#39;, &#39;who&#39;, &#39;has&#39;, &#39;studied&#39;, &#39;Lovelace’s&#39;, &#39;life&#39;, &#39;and&#39;, &#39;work.&#39;, &#39;“She’s&#39;, &#39;talking&#39;, &#39;about&#39;, &#39;the&#39;, &#39;abstract&#39;, &#39;principles&#39;, &#39;of&#39;, &#39;computation,&#39;, &#39;how&#39;, &#39;you&#39;, &#39;could&#39;, &#39;program&#39;, &#39;it,&#39;, &#39;and&#39;, &#39;big&#39;, &#39;ideas&#39;, &#39;like&#39;, &#39;maybe&#39;, &#39;it&#39;, &#39;could&#39;, &#39;compose&#39;, &#39;music,&#39;, &#39;maybe&#39;, &#39;it&#39;, &#39;could&#39;, &#39;think.”&#39;, &#39;Lovelace&#39;, &#39;died&#39;, &#39;less&#39;, &#39;than&#39;, &#39;a&#39;, &#39;decade&#39;, &#39;later,&#39;, &#39;on&#39;, &#39;Nov.&#39;, &#39;27,&#39;, &#39;1852.&#39;, &#39;In&#39;, &#39;the&#39;, &#39;“Notes,”&#39;, &#39;she&#39;, &#39;imagined&#39;, &#39;a&#39;, &#39;future&#39;, &#39;in&#39;, &#39;which&#39;, &#39;computers&#39;, &#39;could&#39;, &#39;do&#39;, &#39;more&#39;, &#39;powerful&#39;, &#39;and&#39;, &#39;faster&#39;, &#39;analysis&#39;, &#39;than&#39;, &#39;humans.&#39;, &#39;“A&#39;, &#39;new,&#39;, &#39;a&#39;, &#39;vast&#39;, &#39;and&#39;, &#39;a&#39;, &#39;powerful&#39;, &#39;language&#39;, &#39;is&#39;, &#39;developed&#39;, &#39;for&#39;, &#39;the&#39;, &#39;future&#39;, &#39;use&#39;, &#39;of&#39;, &#39;analysis,”&#39;, &#39;she&#39;, &#39;wrote,&#39;, &#39;“in&#39;, &#39;which&#39;, &#39;to&#39;, &#39;wield&#39;, &#39;its&#39;, &#39;truths&#39;, &#39;so&#39;, &#39;that&#39;, &#39;these&#39;, &#39;may&#39;, &#39;become&#39;, &#39;of&#39;, &#39;more&#39;, &#39;speedy&#39;, &#39;and&#39;, &#39;accurate&#39;, &#39;practical&#39;, &#39;application&#39;, &#39;for&#39;, &#39;the&#39;, &#39;purposes&#39;, &#39;of&#39;, &#39;mankind.”&#39;, &#39;Claire&#39;, &#39;Cain&#39;, &#39;Miller&#39;, &#39;writes&#39;, &#39;about&#39;, &#39;gender&#39;, &#39;for&#39;, &#39;The&#39;, &#39;Upshot.&#39;, &#39;She&#39;, &#39;first&#39;, &#39;learned&#39;, &#39;about&#39;, &#39;Ada&#39;, &#39;Lovelace&#39;, &#39;while&#39;, &#39;covering&#39;, &#39;the&#39;, &#39;tech&#39;, &#39;industry,&#39;, &#39;where&#39;, &#39;women&#39;, &#39;are&#39;, &#39;severely&#39;, &#39;underrepresented.&#39;]
</pre></div>
</div>
</div>
</div>
<p>The problem with this is that it cannot handle punctuation that is directly
attached to the preceding characters, as in the case of periods, commas, etc.
To get around this, we use a more sophisticated tokenizer from the <code class="docutils literal notranslate"><span class="pre">nltk</span></code>
package, which is based on a series of regexes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">example</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;A&#39;, &#39;gifted&#39;, &#39;mathematician&#39;, &#39;who&#39;, &#39;is&#39;, &#39;now&#39;, &#39;recognized&#39;, &#39;as&#39;, &#39;the&#39;, &#39;first&#39;, &#39;computer&#39;, &#39;programmer&#39;, &#39;.&#39;, &#39;By&#39;, &#39;CLAIRE&#39;, &#39;CAIN&#39;, &#39;MILLER&#39;, &#39;A&#39;, &#39;century&#39;, &#39;before&#39;, &#39;the&#39;, &#39;dawn&#39;, &#39;of&#39;, &#39;the&#39;, &#39;computer&#39;, &#39;age&#39;, &#39;,&#39;, &#39;Ada&#39;, &#39;Lovelace&#39;, &#39;imagined&#39;, &#39;the&#39;, &#39;modern-day&#39;, &#39;,&#39;, &#39;general-purpose&#39;, &#39;computer&#39;, &#39;.&#39;, &#39;It&#39;, &#39;could&#39;, &#39;be&#39;, &#39;programmed&#39;, &#39;to&#39;, &#39;follow&#39;, &#39;instructions&#39;, &#39;,&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;in&#39;, &#39;1843&#39;, &#39;.&#39;, &#39;It&#39;, &#39;could&#39;, &#39;not&#39;, &#39;just&#39;, &#39;calculate&#39;, &#39;but&#39;, &#39;also&#39;, &#39;create&#39;, &#39;,&#39;, &#39;as&#39;, &#39;it&#39;, &#39;“&#39;, &#39;weaves&#39;, &#39;algebraic&#39;, &#39;patterns&#39;, &#39;just&#39;, &#39;as&#39;, &#39;the&#39;, &#39;Jacquard&#39;, &#39;loom&#39;, &#39;weaves&#39;, &#39;flowers&#39;, &#39;and&#39;, &#39;leaves.&#39;, &#39;”&#39;, &#39;The&#39;, &#39;computer&#39;, &#39;she&#39;, &#39;was&#39;, &#39;writing&#39;, &#39;about&#39;, &#39;,&#39;, &#39;the&#39;, &#39;British&#39;, &#39;inventor&#39;, &#39;Charles&#39;, &#39;Babbage&#39;, &#39;’&#39;, &#39;s&#39;, &#39;Analytical&#39;, &#39;Engine&#39;, &#39;,&#39;, &#39;was&#39;, &#39;never&#39;, &#39;built&#39;, &#39;.&#39;, &#39;But&#39;, &#39;her&#39;, &#39;writings&#39;, &#39;about&#39;, &#39;computing&#39;, &#39;have&#39;, &#39;earned&#39;, &#39;Lovelace&#39;, &#39;—&#39;, &#39;who&#39;, &#39;died&#39;, &#39;of&#39;, &#39;uterine&#39;, &#39;cancer&#39;, &#39;in&#39;, &#39;1852&#39;, &#39;at&#39;, &#39;36&#39;, &#39;—&#39;, &#39;recognition&#39;, &#39;as&#39;, &#39;the&#39;, &#39;first&#39;, &#39;computer&#39;, &#39;programmer&#39;, &#39;.&#39;, &#39;The&#39;, &#39;program&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;for&#39;, &#39;the&#39;, &#39;Analytical&#39;, &#39;Engine&#39;, &#39;was&#39;, &#39;to&#39;, &#39;calculate&#39;, &#39;the&#39;, &#39;seventh&#39;, &#39;Bernoulli&#39;, &#39;number&#39;, &#39;.&#39;, &#39;(&#39;, &#39;Bernoulli&#39;, &#39;numbers&#39;, &#39;,&#39;, &#39;named&#39;, &#39;after&#39;, &#39;the&#39;, &#39;Swiss&#39;, &#39;mathematician&#39;, &#39;Jacob&#39;, &#39;Bernoulli&#39;, &#39;,&#39;, &#39;are&#39;, &#39;used&#39;, &#39;in&#39;, &#39;many&#39;, &#39;different&#39;, &#39;areas&#39;, &#39;of&#39;, &#39;mathematics&#39;, &#39;.&#39;, &#39;)&#39;, &#39;But&#39;, &#39;her&#39;, &#39;deeper&#39;, &#39;influence&#39;, &#39;was&#39;, &#39;to&#39;, &#39;see&#39;, &#39;the&#39;, &#39;potential&#39;, &#39;of&#39;, &#39;computing&#39;, &#39;.&#39;, &#39;The&#39;, &#39;machines&#39;, &#39;could&#39;, &#39;go&#39;, &#39;beyond&#39;, &#39;calculating&#39;, &#39;numbers&#39;, &#39;,&#39;, &#39;she&#39;, &#39;said&#39;, &#39;,&#39;, &#39;to&#39;, &#39;understand&#39;, &#39;symbols&#39;, &#39;and&#39;, &#39;be&#39;, &#39;used&#39;, &#39;to&#39;, &#39;create&#39;, &#39;music&#39;, &#39;or&#39;, &#39;art&#39;, &#39;.&#39;, &#39;“&#39;, &#39;This&#39;, &#39;insight&#39;, &#39;would&#39;, &#39;become&#39;, &#39;the&#39;, &#39;core&#39;, &#39;concept&#39;, &#39;of&#39;, &#39;the&#39;, &#39;digital&#39;, &#39;age&#39;, &#39;,&#39;, &#39;”&#39;, &#39;Walter&#39;, &#39;Isaacson&#39;, &#39;wrote&#39;, &#39;in&#39;, &#39;his&#39;, &#39;book&#39;, &#39;“&#39;, &#39;The&#39;, &#39;Innovators.&#39;, &#39;”&#39;, &#39;“&#39;, &#39;Any&#39;, &#39;piece&#39;, &#39;of&#39;, &#39;content&#39;, &#39;,&#39;, &#39;data&#39;, &#39;or&#39;, &#39;information&#39;, &#39;—&#39;, &#39;music&#39;, &#39;,&#39;, &#39;text&#39;, &#39;,&#39;, &#39;pictures&#39;, &#39;,&#39;, &#39;numbers&#39;, &#39;,&#39;, &#39;symbols&#39;, &#39;,&#39;, &#39;sounds&#39;, &#39;,&#39;, &#39;video&#39;, &#39;—&#39;, &#39;could&#39;, &#39;be&#39;, &#39;expressed&#39;, &#39;in&#39;, &#39;digital&#39;, &#39;form&#39;, &#39;and&#39;, &#39;manipulated&#39;, &#39;by&#39;, &#39;machines.&#39;, &#39;”&#39;, &#39;She&#39;, &#39;also&#39;, &#39;explored&#39;, &#39;the&#39;, &#39;ramifications&#39;, &#39;of&#39;, &#39;what&#39;, &#39;a&#39;, &#39;computer&#39;, &#39;could&#39;, &#39;do&#39;, &#39;,&#39;, &#39;writing&#39;, &#39;about&#39;, &#39;the&#39;, &#39;responsibility&#39;, &#39;placed&#39;, &#39;on&#39;, &#39;the&#39;, &#39;person&#39;, &#39;programming&#39;, &#39;the&#39;, &#39;machine&#39;, &#39;,&#39;, &#39;and&#39;, &#39;raising&#39;, &#39;and&#39;, &#39;then&#39;, &#39;dismissing&#39;, &#39;the&#39;, &#39;notion&#39;, &#39;that&#39;, &#39;computers&#39;, &#39;could&#39;, &#39;someday&#39;, &#39;think&#39;, &#39;and&#39;, &#39;create&#39;, &#39;on&#39;, &#39;their&#39;, &#39;own&#39;, &#39;—&#39;, &#39;what&#39;, &#39;we&#39;, &#39;now&#39;, &#39;call&#39;, &#39;artificial&#39;, &#39;intelligence&#39;, &#39;.&#39;, &#39;“&#39;, &#39;The&#39;, &#39;Analytical&#39;, &#39;Engine&#39;, &#39;has&#39;, &#39;no&#39;, &#39;pretensions&#39;, &#39;whatever&#39;, &#39;to&#39;, &#39;originate&#39;, &#39;any&#39;, &#39;thing&#39;, &#39;,&#39;, &#39;”&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;.&#39;, &#39;“&#39;, &#39;It&#39;, &#39;can&#39;, &#39;do&#39;, &#39;whatever&#39;, &#39;we&#39;, &#39;know&#39;, &#39;how&#39;, &#39;to&#39;, &#39;order&#39;, &#39;it&#39;, &#39;to&#39;, &#39;perform.&#39;, &#39;”&#39;, &#39;Lovelace&#39;, &#39;,&#39;, &#39;a&#39;, &#39;British&#39;, &#39;socialite&#39;, &#39;who&#39;, &#39;was&#39;, &#39;the&#39;, &#39;daughter&#39;, &#39;of&#39;, &#39;Lord&#39;, &#39;Byron&#39;, &#39;,&#39;, &#39;the&#39;, &#39;Romantic&#39;, &#39;poet&#39;, &#39;,&#39;, &#39;had&#39;, &#39;a&#39;, &#39;gift&#39;, &#39;for&#39;, &#39;combining&#39;, &#39;art&#39;, &#39;and&#39;, &#39;science&#39;, &#39;,&#39;, &#39;one&#39;, &#39;of&#39;, &#39;her&#39;, &#39;biographers&#39;, &#39;,&#39;, &#39;Betty&#39;, &#39;Alexandra&#39;, &#39;Toole&#39;, &#39;,&#39;, &#39;has&#39;, &#39;written&#39;, &#39;.&#39;, &#39;She&#39;, &#39;thought&#39;, &#39;of&#39;, &#39;math&#39;, &#39;and&#39;, &#39;logic&#39;, &#39;as&#39;, &#39;creative&#39;, &#39;and&#39;, &#39;imaginative&#39;, &#39;,&#39;, &#39;and&#39;, &#39;called&#39;, &#39;it&#39;, &#39;“&#39;, &#39;poetical&#39;, &#39;science.&#39;, &#39;”&#39;, &#39;Math&#39;, &#39;“&#39;, &#39;constitutes&#39;, &#39;the&#39;, &#39;language&#39;, &#39;through&#39;, &#39;which&#39;, &#39;alone&#39;, &#39;we&#39;, &#39;can&#39;, &#39;adequately&#39;, &#39;express&#39;, &#39;the&#39;, &#39;great&#39;, &#39;facts&#39;, &#39;of&#39;, &#39;the&#39;, &#39;natural&#39;, &#39;world&#39;, &#39;,&#39;, &#39;”&#39;, &#39;Lovelace&#39;, &#39;wrote&#39;, &#39;.&#39;, &#39;Her&#39;, &#39;work&#39;, &#39;,&#39;, &#39;which&#39;, &#39;was&#39;, &#39;rediscovered&#39;, &#39;in&#39;, &#39;the&#39;, &#39;mid-20th&#39;, &#39;century&#39;, &#39;,&#39;, &#39;inspired&#39;, &#39;the&#39;, &#39;Defense&#39;, &#39;Department&#39;, &#39;to&#39;, &#39;name&#39;, &#39;a&#39;, &#39;programming&#39;, &#39;language&#39;, &#39;after&#39;, &#39;her&#39;, &#39;and&#39;, &#39;each&#39;, &#39;October&#39;, &#39;Ada&#39;, &#39;Lovelace&#39;, &#39;Day&#39;, &#39;signifies&#39;, &#39;a&#39;, &#39;celebration&#39;, &#39;of&#39;, &#39;women&#39;, &#39;in&#39;, &#39;technology&#39;, &#39;.&#39;, &#39;Lovelace&#39;, &#39;lived&#39;, &#39;when&#39;, &#39;women&#39;, &#39;were&#39;, &#39;not&#39;, &#39;considered&#39;, &#39;to&#39;, &#39;be&#39;, &#39;prominent&#39;, &#39;scientific&#39;, &#39;thinkers&#39;, &#39;,&#39;, &#39;and&#39;, &#39;her&#39;, &#39;skills&#39;, &#39;were&#39;, &#39;often&#39;, &#39;described&#39;, &#39;as&#39;, &#39;masculine&#39;, &#39;.&#39;, &#39;“&#39;, &#39;With&#39;, &#39;an&#39;, &#39;understanding&#39;, &#39;thoroughly&#39;, &#39;masculine&#39;, &#39;in&#39;, &#39;solidity&#39;, &#39;,&#39;, &#39;grasp&#39;, &#39;and&#39;, &#39;firmness&#39;, &#39;,&#39;, &#39;Lady&#39;, &#39;Lovelace&#39;, &#39;had&#39;, &#39;all&#39;, &#39;the&#39;, &#39;delicacies&#39;, &#39;of&#39;, &#39;the&#39;, &#39;most&#39;, &#39;refined&#39;, &#39;female&#39;, &#39;character&#39;, &#39;,&#39;, &#39;”&#39;, &#39;said&#39;, &#39;an&#39;, &#39;obituary&#39;, &#39;in&#39;, &#39;The&#39;, &#39;London&#39;, &#39;Examiner&#39;, &#39;.&#39;, &#39;Babbage&#39;, &#39;,&#39;, &#39;who&#39;, &#39;called&#39;, &#39;her&#39;, &#39;the&#39;, &#39;“&#39;, &#39;enchantress&#39;, &#39;of&#39;, &#39;numbers&#39;, &#39;,&#39;, &#39;”&#39;, &#39;once&#39;, &#39;wrote&#39;, &#39;that&#39;, &#39;she&#39;, &#39;“&#39;, &#39;has&#39;, &#39;thrown&#39;, &#39;her&#39;, &#39;magical&#39;, &#39;spell&#39;, &#39;around&#39;, &#39;the&#39;, &#39;most&#39;, &#39;abstract&#39;, &#39;of&#39;, &#39;Sciences&#39;, &#39;and&#39;, &#39;has&#39;, &#39;grasped&#39;, &#39;it&#39;, &#39;with&#39;, &#39;a&#39;, &#39;force&#39;, &#39;which&#39;, &#39;few&#39;, &#39;masculine&#39;, &#39;intellects&#39;, &#39;(&#39;, &#39;in&#39;, &#39;our&#39;, &#39;own&#39;, &#39;country&#39;, &#39;at&#39;, &#39;least&#39;, &#39;)&#39;, &#39;could&#39;, &#39;have&#39;, &#39;exerted&#39;, &#39;over&#39;, &#39;it.&#39;, &#39;”&#39;, &#39;Augusta&#39;, &#39;Ada&#39;, &#39;Byron&#39;, &#39;was&#39;, &#39;born&#39;, &#39;on&#39;, &#39;Dec.&#39;, &#39;10&#39;, &#39;,&#39;, &#39;1815&#39;, &#39;,&#39;, &#39;in&#39;, &#39;London&#39;, &#39;,&#39;, &#39;to&#39;, &#39;Lord&#39;, &#39;Byron&#39;, &#39;and&#39;, &#39;Annabella&#39;, &#39;Milbanke&#39;, &#39;.&#39;, &#39;Her&#39;, &#39;parents&#39;, &#39;separated&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;an&#39;, &#39;infant&#39;, &#39;,&#39;, &#39;and&#39;, &#39;her&#39;, &#39;father&#39;, &#39;died&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;8&#39;, &#39;.&#39;, &#39;Her&#39;, &#39;mother&#39;, &#39;—&#39;, &#39;whom&#39;, &#39;Lord&#39;, &#39;Byron&#39;, &#39;called&#39;, &#39;the&#39;, &#39;“&#39;, &#39;princess&#39;, &#39;of&#39;, &#39;parallelograms&#39;, &#39;”&#39;, &#39;and&#39;, &#39;,&#39;, &#39;after&#39;, &#39;their&#39;, &#39;falling&#39;, &#39;out&#39;, &#39;,&#39;, &#39;a&#39;, &#39;“&#39;, &#39;mathematical&#39;, &#39;Medea&#39;, &#39;”&#39;, &#39;—&#39;, &#39;was&#39;, &#39;a&#39;, &#39;social&#39;, &#39;reformer&#39;, &#39;from&#39;, &#39;a&#39;, &#39;wealthy&#39;, &#39;family&#39;, &#39;who&#39;, &#39;had&#39;, &#39;a&#39;, &#39;deep&#39;, &#39;interest&#39;, &#39;in&#39;, &#39;mathematics&#39;, &#39;.&#39;, &#39;An&#39;, &#39;etching&#39;, &#39;from&#39;, &#39;a&#39;, &#39;portrait&#39;, &#39;of&#39;, &#39;Lovelace&#39;, &#39;as&#39;, &#39;a&#39;, &#39;child&#39;, &#39;.&#39;, &#39;She&#39;, &#39;is&#39;, &#39;said&#39;, &#39;to&#39;, &#39;have&#39;, &#39;had&#39;, &#39;a&#39;, &#39;gift&#39;, &#39;for&#39;, &#39;combining&#39;, &#39;art&#39;, &#39;and&#39;, &#39;science&#39;, &#39;.&#39;, &#39;Smith&#39;, &#39;Collection/Gado/Getty&#39;, &#39;Images&#39;, &#39;Lovelace&#39;, &#39;showed&#39;, &#39;a&#39;, &#39;passion&#39;, &#39;for&#39;, &#39;math&#39;, &#39;and&#39;, &#39;mechanics&#39;, &#39;from&#39;, &#39;a&#39;, &#39;young&#39;, &#39;age&#39;, &#39;,&#39;, &#39;encouraged&#39;, &#39;by&#39;, &#39;her&#39;, &#39;mother&#39;, &#39;.&#39;, &#39;Because&#39;, &#39;of&#39;, &#39;her&#39;, &#39;class&#39;, &#39;,&#39;, &#39;she&#39;, &#39;had&#39;, &#39;access&#39;, &#39;to&#39;, &#39;private&#39;, &#39;tutors&#39;, &#39;and&#39;, &#39;to&#39;, &#39;intellectuals&#39;, &#39;in&#39;, &#39;British&#39;, &#39;scientific&#39;, &#39;and&#39;, &#39;literary&#39;, &#39;society&#39;, &#39;.&#39;, &#39;She&#39;, &#39;was&#39;, &#39;insatiably&#39;, &#39;curious&#39;, &#39;and&#39;, &#39;surrounded&#39;, &#39;herself&#39;, &#39;with&#39;, &#39;big&#39;, &#39;thinkers&#39;, &#39;of&#39;, &#39;the&#39;, &#39;day&#39;, &#39;,&#39;, &#39;including&#39;, &#39;Mary&#39;, &#39;Somerville&#39;, &#39;,&#39;, &#39;a&#39;, &#39;scientist&#39;, &#39;and&#39;, &#39;writer&#39;, &#39;.&#39;, &#39;It&#39;, &#39;was&#39;, &#39;Somerville&#39;, &#39;who&#39;, &#39;introduced&#39;, &#39;Lovelace&#39;, &#39;to&#39;, &#39;Babbage&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;17&#39;, &#39;,&#39;, &#39;at&#39;, &#39;a&#39;, &#39;salon&#39;, &#39;he&#39;, &#39;hosted&#39;, &#39;soon&#39;, &#39;after&#39;, &#39;she&#39;, &#39;made&#39;, &#39;her&#39;, &#39;society&#39;, &#39;debut&#39;, &#39;.&#39;, &#39;He&#39;, &#39;showed&#39;, &#39;her&#39;, &#39;a&#39;, &#39;two-foot&#39;, &#39;high&#39;, &#39;,&#39;, &#39;brass&#39;, &#39;mechanical&#39;, &#39;calculator&#39;, &#39;he&#39;, &#39;had&#39;, &#39;built&#39;, &#39;,&#39;, &#39;and&#39;, &#39;it&#39;, &#39;gripped&#39;, &#39;her&#39;, &#39;imagination&#39;, &#39;.&#39;, &#39;They&#39;, &#39;began&#39;, &#39;a&#39;, &#39;correspondence&#39;, &#39;about&#39;, &#39;math&#39;, &#39;and&#39;, &#39;science&#39;, &#39;that&#39;, &#39;lasted&#39;, &#39;almost&#39;, &#39;two&#39;, &#39;decades&#39;, &#39;.&#39;, &#39;She&#39;, &#39;also&#39;, &#39;met&#39;, &#39;her&#39;, &#39;husband&#39;, &#39;,&#39;, &#39;William&#39;, &#39;King&#39;, &#39;,&#39;, &#39;through&#39;, &#39;Somerville&#39;, &#39;.&#39;, &#39;They&#39;, &#39;married&#39;, &#39;in&#39;, &#39;1835&#39;, &#39;,&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;19&#39;, &#39;.&#39;, &#39;He&#39;, &#39;soon&#39;, &#39;became&#39;, &#39;an&#39;, &#39;earl&#39;, &#39;,&#39;, &#39;and&#39;, &#39;she&#39;, &#39;became&#39;, &#39;the&#39;, &#39;Countess&#39;, &#39;of&#39;, &#39;Lovelace&#39;, &#39;.&#39;, &#39;By&#39;, &#39;1839&#39;, &#39;,&#39;, &#39;she&#39;, &#39;had&#39;, &#39;given&#39;, &#39;birth&#39;, &#39;to&#39;, &#39;two&#39;, &#39;sons&#39;, &#39;and&#39;, &#39;a&#39;, &#39;daughter&#39;, &#39;.&#39;, &#39;She&#39;, &#39;was&#39;, &#39;determined&#39;, &#39;,&#39;, &#39;however&#39;, &#39;,&#39;, &#39;not&#39;, &#39;to&#39;, &#39;let&#39;, &#39;her&#39;, &#39;family&#39;, &#39;life&#39;, &#39;slow&#39;, &#39;her&#39;, &#39;work&#39;, &#39;.&#39;, &#39;The&#39;, &#39;year&#39;, &#39;she&#39;, &#39;was&#39;, &#39;married&#39;, &#39;,&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;to&#39;, &#39;Somerville&#39;, &#39;:&#39;, &#39;“&#39;, &#39;I&#39;, &#39;now&#39;, &#39;read&#39;, &#39;Mathematics&#39;, &#39;every&#39;, &#39;day&#39;, &#39;and&#39;, &#39;am&#39;, &#39;occupied&#39;, &#39;in&#39;, &#39;Trigonometry&#39;, &#39;and&#39;, &#39;in&#39;, &#39;preliminaries&#39;, &#39;to&#39;, &#39;Cubic&#39;, &#39;and&#39;, &#39;Biquadratic&#39;, &#39;Equations&#39;, &#39;.&#39;, &#39;So&#39;, &#39;you&#39;, &#39;see&#39;, &#39;that&#39;, &#39;matrimony&#39;, &#39;has&#39;, &#39;by&#39;, &#39;no&#39;, &#39;means&#39;, &#39;lessened&#39;, &#39;my&#39;, &#39;taste&#39;, &#39;for&#39;, &#39;these&#39;, &#39;pursuits&#39;, &#39;,&#39;, &#39;nor&#39;, &#39;my&#39;, &#39;determination&#39;, &#39;to&#39;, &#39;carry&#39;, &#39;them&#39;, &#39;on.&#39;, &#39;”&#39;, &#39;In&#39;, &#39;1840&#39;, &#39;,&#39;, &#39;Lovelace&#39;, &#39;asked&#39;, &#39;Augustus&#39;, &#39;De&#39;, &#39;Morgan&#39;, &#39;,&#39;, &#39;a&#39;, &#39;math&#39;, &#39;professor&#39;, &#39;in&#39;, &#39;London&#39;, &#39;,&#39;, &#39;to&#39;, &#39;tutor&#39;, &#39;her&#39;, &#39;.&#39;, &#39;Through&#39;, &#39;exchanging&#39;, &#39;letters&#39;, &#39;,&#39;, &#39;he&#39;, &#39;taught&#39;, &#39;her&#39;, &#39;university-level&#39;, &#39;math&#39;, &#39;.&#39;, &#39;He&#39;, &#39;later&#39;, &#39;wrote&#39;, &#39;to&#39;, &#39;her&#39;, &#39;mother&#39;, &#39;that&#39;, &#39;if&#39;, &#39;a&#39;, &#39;young&#39;, &#39;male&#39;, &#39;student&#39;, &#39;had&#39;, &#39;shown&#39;, &#39;her&#39;, &#39;skill&#39;, &#39;,&#39;, &#39;“&#39;, &#39;they&#39;, &#39;would&#39;, &#39;have&#39;, &#39;certainly&#39;, &#39;made&#39;, &#39;him&#39;, &#39;an&#39;, &#39;original&#39;, &#39;mathematical&#39;, &#39;investigator&#39;, &#39;,&#39;, &#39;perhaps&#39;, &#39;of&#39;, &#39;first-rate&#39;, &#39;eminence.&#39;, &#39;”&#39;, &#39;It&#39;, &#39;was&#39;, &#39;in&#39;, &#39;1843&#39;, &#39;,&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;27&#39;, &#39;,&#39;, &#39;that&#39;, &#39;Lovelace&#39;, &#39;wrote&#39;, &#39;her&#39;, &#39;most&#39;, &#39;lasting&#39;, &#39;contribution&#39;, &#39;to&#39;, &#39;computer&#39;, &#39;science&#39;, &#39;.&#39;, &#39;She&#39;, &#39;published&#39;, &#39;her&#39;, &#39;translation&#39;, &#39;of&#39;, &#39;an&#39;, &#39;academic&#39;, &#39;paper&#39;, &#39;about&#39;, &#39;the&#39;, &#39;Babbage&#39;, &#39;Analytical&#39;, &#39;Engine&#39;, &#39;and&#39;, &#39;added&#39;, &#39;a&#39;, &#39;section&#39;, &#39;,&#39;, &#39;nearly&#39;, &#39;three&#39;, &#39;times&#39;, &#39;the&#39;, &#39;length&#39;, &#39;of&#39;, &#39;the&#39;, &#39;paper&#39;, &#39;,&#39;, &#39;titled&#39;, &#39;,&#39;, &#39;“&#39;, &#39;Notes.&#39;, &#39;”&#39;, &#39;Here&#39;, &#39;,&#39;, &#39;she&#39;, &#39;described&#39;, &#39;how&#39;, &#39;the&#39;, &#39;computer&#39;, &#39;would&#39;, &#39;work&#39;, &#39;,&#39;, &#39;imagined&#39;, &#39;its&#39;, &#39;potential&#39;, &#39;and&#39;, &#39;wrote&#39;, &#39;the&#39;, &#39;first&#39;, &#39;program&#39;, &#39;.&#39;, &#39;Researchers&#39;, &#39;have&#39;, &#39;come&#39;, &#39;to&#39;, &#39;see&#39;, &#39;it&#39;, &#39;as&#39;, &#39;“&#39;, &#39;an&#39;, &#39;extraordinary&#39;, &#39;document&#39;, &#39;,&#39;, &#39;”&#39;, &#39;said&#39;, &#39;Ursula&#39;, &#39;Martin&#39;, &#39;,&#39;, &#39;a&#39;, &#39;computer&#39;, &#39;scientist&#39;, &#39;at&#39;, &#39;the&#39;, &#39;University&#39;, &#39;of&#39;, &#39;Oxford&#39;, &#39;who&#39;, &#39;has&#39;, &#39;studied&#39;, &#39;Lovelace&#39;, &#39;’&#39;, &#39;s&#39;, &#39;life&#39;, &#39;and&#39;, &#39;work&#39;, &#39;.&#39;, &#39;“&#39;, &#39;She&#39;, &#39;’&#39;, &#39;s&#39;, &#39;talking&#39;, &#39;about&#39;, &#39;the&#39;, &#39;abstract&#39;, &#39;principles&#39;, &#39;of&#39;, &#39;computation&#39;, &#39;,&#39;, &#39;how&#39;, &#39;you&#39;, &#39;could&#39;, &#39;program&#39;, &#39;it&#39;, &#39;,&#39;, &#39;and&#39;, &#39;big&#39;, &#39;ideas&#39;, &#39;like&#39;, &#39;maybe&#39;, &#39;it&#39;, &#39;could&#39;, &#39;compose&#39;, &#39;music&#39;, &#39;,&#39;, &#39;maybe&#39;, &#39;it&#39;, &#39;could&#39;, &#39;think.&#39;, &#39;”&#39;, &#39;Lovelace&#39;, &#39;died&#39;, &#39;less&#39;, &#39;than&#39;, &#39;a&#39;, &#39;decade&#39;, &#39;later&#39;, &#39;,&#39;, &#39;on&#39;, &#39;Nov.&#39;, &#39;27&#39;, &#39;,&#39;, &#39;1852&#39;, &#39;.&#39;, &#39;In&#39;, &#39;the&#39;, &#39;“&#39;, &#39;Notes&#39;, &#39;,&#39;, &#39;”&#39;, &#39;she&#39;, &#39;imagined&#39;, &#39;a&#39;, &#39;future&#39;, &#39;in&#39;, &#39;which&#39;, &#39;computers&#39;, &#39;could&#39;, &#39;do&#39;, &#39;more&#39;, &#39;powerful&#39;, &#39;and&#39;, &#39;faster&#39;, &#39;analysis&#39;, &#39;than&#39;, &#39;humans&#39;, &#39;.&#39;, &#39;“&#39;, &#39;A&#39;, &#39;new&#39;, &#39;,&#39;, &#39;a&#39;, &#39;vast&#39;, &#39;and&#39;, &#39;a&#39;, &#39;powerful&#39;, &#39;language&#39;, &#39;is&#39;, &#39;developed&#39;, &#39;for&#39;, &#39;the&#39;, &#39;future&#39;, &#39;use&#39;, &#39;of&#39;, &#39;analysis&#39;, &#39;,&#39;, &#39;”&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;,&#39;, &#39;“&#39;, &#39;in&#39;, &#39;which&#39;, &#39;to&#39;, &#39;wield&#39;, &#39;its&#39;, &#39;truths&#39;, &#39;so&#39;, &#39;that&#39;, &#39;these&#39;, &#39;may&#39;, &#39;become&#39;, &#39;of&#39;, &#39;more&#39;, &#39;speedy&#39;, &#39;and&#39;, &#39;accurate&#39;, &#39;practical&#39;, &#39;application&#39;, &#39;for&#39;, &#39;the&#39;, &#39;purposes&#39;, &#39;of&#39;, &#39;mankind.&#39;, &#39;”&#39;, &#39;Claire&#39;, &#39;Cain&#39;, &#39;Miller&#39;, &#39;writes&#39;, &#39;about&#39;, &#39;gender&#39;, &#39;for&#39;, &#39;The&#39;, &#39;Upshot&#39;, &#39;.&#39;, &#39;She&#39;, &#39;first&#39;, &#39;learned&#39;, &#39;about&#39;, &#39;Ada&#39;, &#39;Lovelace&#39;, &#39;while&#39;, &#39;covering&#39;, &#39;the&#39;, &#39;tech&#39;, &#39;industry&#39;, &#39;,&#39;, &#39;where&#39;, &#39;women&#39;, &#39;are&#39;, &#39;severely&#39;, &#39;underrepresented&#39;, &#39;.&#39;]
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You need to download this tokenizer the first time you use it, so don’t fret if
you get an error. Just follow the instructions to download the file, which are
as follows:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;punkt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Below, we incorporate this tokenizer into a preprocessing function that
performs the following steps:</p>
<ol class="arabic simple">
<li><p>Change the string to lowercase</p></li>
<li><p>Tokenize the string into lists of tokens</p></li>
<li><p>Optionally, create multi-gram token sequences (more on this next week)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">preprocess</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">ngram</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Preprocess a document.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    doc : str</span>
<span class="sd">        The document to preprocess</span>
<span class="sd">    ngram : int</span>
<span class="sd">        How many n-grams to break the document into</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tokens : list</span>
<span class="sd">        Tokenized document</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First, change the case of the words to lowercase</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="c1"># Tokenize the string. Optionally, make 2-gram (or more) sequences from</span>
    <span class="c1"># those tokens</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ngram</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">ngrams</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">ngram</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="n">tokens</span>
</pre></div>
</div>
</div>
</div>
<p>With our function defined, we preprocess the corpus documents.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned</span> <span class="o">=</span> <span class="p">[</span><span class="n">preprocess</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>Then we get rid of punctuation and numbers with a regex substitution. Note that
this is a two-step processed: first we remove anything that isn’t an alphabetic
character, then we filter out empty strings in the sublists.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned</span> <span class="o">=</span> <span class="p">[[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^a-zA-Z]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">tok</span><span class="p">)</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">doc</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">cleaned</span><span class="p">]</span>
<span class="n">cleaned</span> <span class="o">=</span> <span class="p">[[</span><span class="n">tok</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">doc</span> <span class="k">if</span> <span class="n">tok</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">cleaned</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cleaned</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;a&#39;, &#39;gifted&#39;, &#39;mathematician&#39;, &#39;who&#39;, &#39;is&#39;, &#39;now&#39;, &#39;recognized&#39;, &#39;as&#39;, &#39;the&#39;, &#39;first&#39;, &#39;computer&#39;, &#39;programmer&#39;, &#39;by&#39;, &#39;claire&#39;, &#39;cain&#39;, &#39;miller&#39;, &#39;a&#39;, &#39;century&#39;, &#39;before&#39;, &#39;the&#39;, &#39;dawn&#39;, &#39;of&#39;, &#39;the&#39;, &#39;computer&#39;, &#39;age&#39;, &#39;ada&#39;, &#39;lovelace&#39;, &#39;imagined&#39;, &#39;the&#39;, &#39;modernday&#39;, &#39;generalpurpose&#39;, &#39;computer&#39;, &#39;it&#39;, &#39;could&#39;, &#39;be&#39;, &#39;programmed&#39;, &#39;to&#39;, &#39;follow&#39;, &#39;instructions&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;in&#39;, &#39;it&#39;, &#39;could&#39;, &#39;not&#39;, &#39;just&#39;, &#39;calculate&#39;, &#39;but&#39;, &#39;also&#39;, &#39;create&#39;, &#39;as&#39;, &#39;it&#39;, &#39;weaves&#39;, &#39;algebraic&#39;, &#39;patterns&#39;, &#39;just&#39;, &#39;as&#39;, &#39;the&#39;, &#39;jacquard&#39;, &#39;loom&#39;, &#39;weaves&#39;, &#39;flowers&#39;, &#39;and&#39;, &#39;leaves&#39;, &#39;the&#39;, &#39;computer&#39;, &#39;she&#39;, &#39;was&#39;, &#39;writing&#39;, &#39;about&#39;, &#39;the&#39;, &#39;british&#39;, &#39;inventor&#39;, &#39;charles&#39;, &#39;babbage&#39;, &#39;s&#39;, &#39;analytical&#39;, &#39;engine&#39;, &#39;was&#39;, &#39;never&#39;, &#39;built&#39;, &#39;but&#39;, &#39;her&#39;, &#39;writings&#39;, &#39;about&#39;, &#39;computing&#39;, &#39;have&#39;, &#39;earned&#39;, &#39;lovelace&#39;, &#39;who&#39;, &#39;died&#39;, &#39;of&#39;, &#39;uterine&#39;, &#39;cancer&#39;, &#39;in&#39;, &#39;at&#39;, &#39;recognition&#39;, &#39;as&#39;, &#39;the&#39;, &#39;first&#39;, &#39;computer&#39;, &#39;programmer&#39;, &#39;the&#39;, &#39;program&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;for&#39;, &#39;the&#39;, &#39;analytical&#39;, &#39;engine&#39;, &#39;was&#39;, &#39;to&#39;, &#39;calculate&#39;, &#39;the&#39;, &#39;seventh&#39;, &#39;bernoulli&#39;, &#39;number&#39;, &#39;bernoulli&#39;, &#39;numbers&#39;, &#39;named&#39;, &#39;after&#39;, &#39;the&#39;, &#39;swiss&#39;, &#39;mathematician&#39;, &#39;jacob&#39;, &#39;bernoulli&#39;, &#39;are&#39;, &#39;used&#39;, &#39;in&#39;, &#39;many&#39;, &#39;different&#39;, &#39;areas&#39;, &#39;of&#39;, &#39;mathematics&#39;, &#39;but&#39;, &#39;her&#39;, &#39;deeper&#39;, &#39;influence&#39;, &#39;was&#39;, &#39;to&#39;, &#39;see&#39;, &#39;the&#39;, &#39;potential&#39;, &#39;of&#39;, &#39;computing&#39;, &#39;the&#39;, &#39;machines&#39;, &#39;could&#39;, &#39;go&#39;, &#39;beyond&#39;, &#39;calculating&#39;, &#39;numbers&#39;, &#39;she&#39;, &#39;said&#39;, &#39;to&#39;, &#39;understand&#39;, &#39;symbols&#39;, &#39;and&#39;, &#39;be&#39;, &#39;used&#39;, &#39;to&#39;, &#39;create&#39;, &#39;music&#39;, &#39;or&#39;, &#39;art&#39;, &#39;this&#39;, &#39;insight&#39;, &#39;would&#39;, &#39;become&#39;, &#39;the&#39;, &#39;core&#39;, &#39;concept&#39;, &#39;of&#39;, &#39;the&#39;, &#39;digital&#39;, &#39;age&#39;, &#39;walter&#39;, &#39;isaacson&#39;, &#39;wrote&#39;, &#39;in&#39;, &#39;his&#39;, &#39;book&#39;, &#39;the&#39;, &#39;innovators&#39;, &#39;any&#39;, &#39;piece&#39;, &#39;of&#39;, &#39;content&#39;, &#39;data&#39;, &#39;or&#39;, &#39;information&#39;, &#39;music&#39;, &#39;text&#39;, &#39;pictures&#39;, &#39;numbers&#39;, &#39;symbols&#39;, &#39;sounds&#39;, &#39;video&#39;, &#39;could&#39;, &#39;be&#39;, &#39;expressed&#39;, &#39;in&#39;, &#39;digital&#39;, &#39;form&#39;, &#39;and&#39;, &#39;manipulated&#39;, &#39;by&#39;, &#39;machines&#39;, &#39;she&#39;, &#39;also&#39;, &#39;explored&#39;, &#39;the&#39;, &#39;ramifications&#39;, &#39;of&#39;, &#39;what&#39;, &#39;a&#39;, &#39;computer&#39;, &#39;could&#39;, &#39;do&#39;, &#39;writing&#39;, &#39;about&#39;, &#39;the&#39;, &#39;responsibility&#39;, &#39;placed&#39;, &#39;on&#39;, &#39;the&#39;, &#39;person&#39;, &#39;programming&#39;, &#39;the&#39;, &#39;machine&#39;, &#39;and&#39;, &#39;raising&#39;, &#39;and&#39;, &#39;then&#39;, &#39;dismissing&#39;, &#39;the&#39;, &#39;notion&#39;, &#39;that&#39;, &#39;computers&#39;, &#39;could&#39;, &#39;someday&#39;, &#39;think&#39;, &#39;and&#39;, &#39;create&#39;, &#39;on&#39;, &#39;their&#39;, &#39;own&#39;, &#39;what&#39;, &#39;we&#39;, &#39;now&#39;, &#39;call&#39;, &#39;artificial&#39;, &#39;intelligence&#39;, &#39;the&#39;, &#39;analytical&#39;, &#39;engine&#39;, &#39;has&#39;, &#39;no&#39;, &#39;pretensions&#39;, &#39;whatever&#39;, &#39;to&#39;, &#39;originate&#39;, &#39;any&#39;, &#39;thing&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;it&#39;, &#39;can&#39;, &#39;do&#39;, &#39;whatever&#39;, &#39;we&#39;, &#39;know&#39;, &#39;how&#39;, &#39;to&#39;, &#39;order&#39;, &#39;it&#39;, &#39;to&#39;, &#39;perform&#39;, &#39;lovelace&#39;, &#39;a&#39;, &#39;british&#39;, &#39;socialite&#39;, &#39;who&#39;, &#39;was&#39;, &#39;the&#39;, &#39;daughter&#39;, &#39;of&#39;, &#39;lord&#39;, &#39;byron&#39;, &#39;the&#39;, &#39;romantic&#39;, &#39;poet&#39;, &#39;had&#39;, &#39;a&#39;, &#39;gift&#39;, &#39;for&#39;, &#39;combining&#39;, &#39;art&#39;, &#39;and&#39;, &#39;science&#39;, &#39;one&#39;, &#39;of&#39;, &#39;her&#39;, &#39;biographers&#39;, &#39;betty&#39;, &#39;alexandra&#39;, &#39;toole&#39;, &#39;has&#39;, &#39;written&#39;, &#39;she&#39;, &#39;thought&#39;, &#39;of&#39;, &#39;math&#39;, &#39;and&#39;, &#39;logic&#39;, &#39;as&#39;, &#39;creative&#39;, &#39;and&#39;, &#39;imaginative&#39;, &#39;and&#39;, &#39;called&#39;, &#39;it&#39;, &#39;poetical&#39;, &#39;science&#39;, &#39;math&#39;, &#39;constitutes&#39;, &#39;the&#39;, &#39;language&#39;, &#39;through&#39;, &#39;which&#39;, &#39;alone&#39;, &#39;we&#39;, &#39;can&#39;, &#39;adequately&#39;, &#39;express&#39;, &#39;the&#39;, &#39;great&#39;, &#39;facts&#39;, &#39;of&#39;, &#39;the&#39;, &#39;natural&#39;, &#39;world&#39;, &#39;lovelace&#39;, &#39;wrote&#39;, &#39;her&#39;, &#39;work&#39;, &#39;which&#39;, &#39;was&#39;, &#39;rediscovered&#39;, &#39;in&#39;, &#39;the&#39;, &#39;midth&#39;, &#39;century&#39;, &#39;inspired&#39;, &#39;the&#39;, &#39;defense&#39;, &#39;department&#39;, &#39;to&#39;, &#39;name&#39;, &#39;a&#39;, &#39;programming&#39;, &#39;language&#39;, &#39;after&#39;, &#39;her&#39;, &#39;and&#39;, &#39;each&#39;, &#39;october&#39;, &#39;ada&#39;, &#39;lovelace&#39;, &#39;day&#39;, &#39;signifies&#39;, &#39;a&#39;, &#39;celebration&#39;, &#39;of&#39;, &#39;women&#39;, &#39;in&#39;, &#39;technology&#39;, &#39;lovelace&#39;, &#39;lived&#39;, &#39;when&#39;, &#39;women&#39;, &#39;were&#39;, &#39;not&#39;, &#39;considered&#39;, &#39;to&#39;, &#39;be&#39;, &#39;prominent&#39;, &#39;scientific&#39;, &#39;thinkers&#39;, &#39;and&#39;, &#39;her&#39;, &#39;skills&#39;, &#39;were&#39;, &#39;often&#39;, &#39;described&#39;, &#39;as&#39;, &#39;masculine&#39;, &#39;with&#39;, &#39;an&#39;, &#39;understanding&#39;, &#39;thoroughly&#39;, &#39;masculine&#39;, &#39;in&#39;, &#39;solidity&#39;, &#39;grasp&#39;, &#39;and&#39;, &#39;firmness&#39;, &#39;lady&#39;, &#39;lovelace&#39;, &#39;had&#39;, &#39;all&#39;, &#39;the&#39;, &#39;delicacies&#39;, &#39;of&#39;, &#39;the&#39;, &#39;most&#39;, &#39;refined&#39;, &#39;female&#39;, &#39;character&#39;, &#39;said&#39;, &#39;an&#39;, &#39;obituary&#39;, &#39;in&#39;, &#39;the&#39;, &#39;london&#39;, &#39;examiner&#39;, &#39;babbage&#39;, &#39;who&#39;, &#39;called&#39;, &#39;her&#39;, &#39;the&#39;, &#39;enchantress&#39;, &#39;of&#39;, &#39;numbers&#39;, &#39;once&#39;, &#39;wrote&#39;, &#39;that&#39;, &#39;she&#39;, &#39;has&#39;, &#39;thrown&#39;, &#39;her&#39;, &#39;magical&#39;, &#39;spell&#39;, &#39;around&#39;, &#39;the&#39;, &#39;most&#39;, &#39;abstract&#39;, &#39;of&#39;, &#39;sciences&#39;, &#39;and&#39;, &#39;has&#39;, &#39;grasped&#39;, &#39;it&#39;, &#39;with&#39;, &#39;a&#39;, &#39;force&#39;, &#39;which&#39;, &#39;few&#39;, &#39;masculine&#39;, &#39;intellects&#39;, &#39;in&#39;, &#39;our&#39;, &#39;own&#39;, &#39;country&#39;, &#39;at&#39;, &#39;least&#39;, &#39;could&#39;, &#39;have&#39;, &#39;exerted&#39;, &#39;over&#39;, &#39;it&#39;, &#39;augusta&#39;, &#39;ada&#39;, &#39;byron&#39;, &#39;was&#39;, &#39;born&#39;, &#39;on&#39;, &#39;dec&#39;, &#39;in&#39;, &#39;london&#39;, &#39;to&#39;, &#39;lord&#39;, &#39;byron&#39;, &#39;and&#39;, &#39;annabella&#39;, &#39;milbanke&#39;, &#39;her&#39;, &#39;parents&#39;, &#39;separated&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;an&#39;, &#39;infant&#39;, &#39;and&#39;, &#39;her&#39;, &#39;father&#39;, &#39;died&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;her&#39;, &#39;mother&#39;, &#39;whom&#39;, &#39;lord&#39;, &#39;byron&#39;, &#39;called&#39;, &#39;the&#39;, &#39;princess&#39;, &#39;of&#39;, &#39;parallelograms&#39;, &#39;and&#39;, &#39;after&#39;, &#39;their&#39;, &#39;falling&#39;, &#39;out&#39;, &#39;a&#39;, &#39;mathematical&#39;, &#39;medea&#39;, &#39;was&#39;, &#39;a&#39;, &#39;social&#39;, &#39;reformer&#39;, &#39;from&#39;, &#39;a&#39;, &#39;wealthy&#39;, &#39;family&#39;, &#39;who&#39;, &#39;had&#39;, &#39;a&#39;, &#39;deep&#39;, &#39;interest&#39;, &#39;in&#39;, &#39;mathematics&#39;, &#39;an&#39;, &#39;etching&#39;, &#39;from&#39;, &#39;a&#39;, &#39;portrait&#39;, &#39;of&#39;, &#39;lovelace&#39;, &#39;as&#39;, &#39;a&#39;, &#39;child&#39;, &#39;she&#39;, &#39;is&#39;, &#39;said&#39;, &#39;to&#39;, &#39;have&#39;, &#39;had&#39;, &#39;a&#39;, &#39;gift&#39;, &#39;for&#39;, &#39;combining&#39;, &#39;art&#39;, &#39;and&#39;, &#39;science&#39;, &#39;smith&#39;, &#39;collectiongadogetty&#39;, &#39;images&#39;, &#39;lovelace&#39;, &#39;showed&#39;, &#39;a&#39;, &#39;passion&#39;, &#39;for&#39;, &#39;math&#39;, &#39;and&#39;, &#39;mechanics&#39;, &#39;from&#39;, &#39;a&#39;, &#39;young&#39;, &#39;age&#39;, &#39;encouraged&#39;, &#39;by&#39;, &#39;her&#39;, &#39;mother&#39;, &#39;because&#39;, &#39;of&#39;, &#39;her&#39;, &#39;class&#39;, &#39;she&#39;, &#39;had&#39;, &#39;access&#39;, &#39;to&#39;, &#39;private&#39;, &#39;tutors&#39;, &#39;and&#39;, &#39;to&#39;, &#39;intellectuals&#39;, &#39;in&#39;, &#39;british&#39;, &#39;scientific&#39;, &#39;and&#39;, &#39;literary&#39;, &#39;society&#39;, &#39;she&#39;, &#39;was&#39;, &#39;insatiably&#39;, &#39;curious&#39;, &#39;and&#39;, &#39;surrounded&#39;, &#39;herself&#39;, &#39;with&#39;, &#39;big&#39;, &#39;thinkers&#39;, &#39;of&#39;, &#39;the&#39;, &#39;day&#39;, &#39;including&#39;, &#39;mary&#39;, &#39;somerville&#39;, &#39;a&#39;, &#39;scientist&#39;, &#39;and&#39;, &#39;writer&#39;, &#39;it&#39;, &#39;was&#39;, &#39;somerville&#39;, &#39;who&#39;, &#39;introduced&#39;, &#39;lovelace&#39;, &#39;to&#39;, &#39;babbage&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;at&#39;, &#39;a&#39;, &#39;salon&#39;, &#39;he&#39;, &#39;hosted&#39;, &#39;soon&#39;, &#39;after&#39;, &#39;she&#39;, &#39;made&#39;, &#39;her&#39;, &#39;society&#39;, &#39;debut&#39;, &#39;he&#39;, &#39;showed&#39;, &#39;her&#39;, &#39;a&#39;, &#39;twofoot&#39;, &#39;high&#39;, &#39;brass&#39;, &#39;mechanical&#39;, &#39;calculator&#39;, &#39;he&#39;, &#39;had&#39;, &#39;built&#39;, &#39;and&#39;, &#39;it&#39;, &#39;gripped&#39;, &#39;her&#39;, &#39;imagination&#39;, &#39;they&#39;, &#39;began&#39;, &#39;a&#39;, &#39;correspondence&#39;, &#39;about&#39;, &#39;math&#39;, &#39;and&#39;, &#39;science&#39;, &#39;that&#39;, &#39;lasted&#39;, &#39;almost&#39;, &#39;two&#39;, &#39;decades&#39;, &#39;she&#39;, &#39;also&#39;, &#39;met&#39;, &#39;her&#39;, &#39;husband&#39;, &#39;william&#39;, &#39;king&#39;, &#39;through&#39;, &#39;somerville&#39;, &#39;they&#39;, &#39;married&#39;, &#39;in&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;he&#39;, &#39;soon&#39;, &#39;became&#39;, &#39;an&#39;, &#39;earl&#39;, &#39;and&#39;, &#39;she&#39;, &#39;became&#39;, &#39;the&#39;, &#39;countess&#39;, &#39;of&#39;, &#39;lovelace&#39;, &#39;by&#39;, &#39;she&#39;, &#39;had&#39;, &#39;given&#39;, &#39;birth&#39;, &#39;to&#39;, &#39;two&#39;, &#39;sons&#39;, &#39;and&#39;, &#39;a&#39;, &#39;daughter&#39;, &#39;she&#39;, &#39;was&#39;, &#39;determined&#39;, &#39;however&#39;, &#39;not&#39;, &#39;to&#39;, &#39;let&#39;, &#39;her&#39;, &#39;family&#39;, &#39;life&#39;, &#39;slow&#39;, &#39;her&#39;, &#39;work&#39;, &#39;the&#39;, &#39;year&#39;, &#39;she&#39;, &#39;was&#39;, &#39;married&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;to&#39;, &#39;somerville&#39;, &#39;i&#39;, &#39;now&#39;, &#39;read&#39;, &#39;mathematics&#39;, &#39;every&#39;, &#39;day&#39;, &#39;and&#39;, &#39;am&#39;, &#39;occupied&#39;, &#39;in&#39;, &#39;trigonometry&#39;, &#39;and&#39;, &#39;in&#39;, &#39;preliminaries&#39;, &#39;to&#39;, &#39;cubic&#39;, &#39;and&#39;, &#39;biquadratic&#39;, &#39;equations&#39;, &#39;so&#39;, &#39;you&#39;, &#39;see&#39;, &#39;that&#39;, &#39;matrimony&#39;, &#39;has&#39;, &#39;by&#39;, &#39;no&#39;, &#39;means&#39;, &#39;lessened&#39;, &#39;my&#39;, &#39;taste&#39;, &#39;for&#39;, &#39;these&#39;, &#39;pursuits&#39;, &#39;nor&#39;, &#39;my&#39;, &#39;determination&#39;, &#39;to&#39;, &#39;carry&#39;, &#39;them&#39;, &#39;on&#39;, &#39;in&#39;, &#39;lovelace&#39;, &#39;asked&#39;, &#39;augustus&#39;, &#39;de&#39;, &#39;morgan&#39;, &#39;a&#39;, &#39;math&#39;, &#39;professor&#39;, &#39;in&#39;, &#39;london&#39;, &#39;to&#39;, &#39;tutor&#39;, &#39;her&#39;, &#39;through&#39;, &#39;exchanging&#39;, &#39;letters&#39;, &#39;he&#39;, &#39;taught&#39;, &#39;her&#39;, &#39;universitylevel&#39;, &#39;math&#39;, &#39;he&#39;, &#39;later&#39;, &#39;wrote&#39;, &#39;to&#39;, &#39;her&#39;, &#39;mother&#39;, &#39;that&#39;, &#39;if&#39;, &#39;a&#39;, &#39;young&#39;, &#39;male&#39;, &#39;student&#39;, &#39;had&#39;, &#39;shown&#39;, &#39;her&#39;, &#39;skill&#39;, &#39;they&#39;, &#39;would&#39;, &#39;have&#39;, &#39;certainly&#39;, &#39;made&#39;, &#39;him&#39;, &#39;an&#39;, &#39;original&#39;, &#39;mathematical&#39;, &#39;investigator&#39;, &#39;perhaps&#39;, &#39;of&#39;, &#39;firstrate&#39;, &#39;eminence&#39;, &#39;it&#39;, &#39;was&#39;, &#39;in&#39;, &#39;when&#39;, &#39;she&#39;, &#39;was&#39;, &#39;that&#39;, &#39;lovelace&#39;, &#39;wrote&#39;, &#39;her&#39;, &#39;most&#39;, &#39;lasting&#39;, &#39;contribution&#39;, &#39;to&#39;, &#39;computer&#39;, &#39;science&#39;, &#39;she&#39;, &#39;published&#39;, &#39;her&#39;, &#39;translation&#39;, &#39;of&#39;, &#39;an&#39;, &#39;academic&#39;, &#39;paper&#39;, &#39;about&#39;, &#39;the&#39;, &#39;babbage&#39;, &#39;analytical&#39;, &#39;engine&#39;, &#39;and&#39;, &#39;added&#39;, &#39;a&#39;, &#39;section&#39;, &#39;nearly&#39;, &#39;three&#39;, &#39;times&#39;, &#39;the&#39;, &#39;length&#39;, &#39;of&#39;, &#39;the&#39;, &#39;paper&#39;, &#39;titled&#39;, &#39;notes&#39;, &#39;here&#39;, &#39;she&#39;, &#39;described&#39;, &#39;how&#39;, &#39;the&#39;, &#39;computer&#39;, &#39;would&#39;, &#39;work&#39;, &#39;imagined&#39;, &#39;its&#39;, &#39;potential&#39;, &#39;and&#39;, &#39;wrote&#39;, &#39;the&#39;, &#39;first&#39;, &#39;program&#39;, &#39;researchers&#39;, &#39;have&#39;, &#39;come&#39;, &#39;to&#39;, &#39;see&#39;, &#39;it&#39;, &#39;as&#39;, &#39;an&#39;, &#39;extraordinary&#39;, &#39;document&#39;, &#39;said&#39;, &#39;ursula&#39;, &#39;martin&#39;, &#39;a&#39;, &#39;computer&#39;, &#39;scientist&#39;, &#39;at&#39;, &#39;the&#39;, &#39;university&#39;, &#39;of&#39;, &#39;oxford&#39;, &#39;who&#39;, &#39;has&#39;, &#39;studied&#39;, &#39;lovelace&#39;, &#39;s&#39;, &#39;life&#39;, &#39;and&#39;, &#39;work&#39;, &#39;she&#39;, &#39;s&#39;, &#39;talking&#39;, &#39;about&#39;, &#39;the&#39;, &#39;abstract&#39;, &#39;principles&#39;, &#39;of&#39;, &#39;computation&#39;, &#39;how&#39;, &#39;you&#39;, &#39;could&#39;, &#39;program&#39;, &#39;it&#39;, &#39;and&#39;, &#39;big&#39;, &#39;ideas&#39;, &#39;like&#39;, &#39;maybe&#39;, &#39;it&#39;, &#39;could&#39;, &#39;compose&#39;, &#39;music&#39;, &#39;maybe&#39;, &#39;it&#39;, &#39;could&#39;, &#39;think&#39;, &#39;lovelace&#39;, &#39;died&#39;, &#39;less&#39;, &#39;than&#39;, &#39;a&#39;, &#39;decade&#39;, &#39;later&#39;, &#39;on&#39;, &#39;nov&#39;, &#39;in&#39;, &#39;the&#39;, &#39;notes&#39;, &#39;she&#39;, &#39;imagined&#39;, &#39;a&#39;, &#39;future&#39;, &#39;in&#39;, &#39;which&#39;, &#39;computers&#39;, &#39;could&#39;, &#39;do&#39;, &#39;more&#39;, &#39;powerful&#39;, &#39;and&#39;, &#39;faster&#39;, &#39;analysis&#39;, &#39;than&#39;, &#39;humans&#39;, &#39;a&#39;, &#39;new&#39;, &#39;a&#39;, &#39;vast&#39;, &#39;and&#39;, &#39;a&#39;, &#39;powerful&#39;, &#39;language&#39;, &#39;is&#39;, &#39;developed&#39;, &#39;for&#39;, &#39;the&#39;, &#39;future&#39;, &#39;use&#39;, &#39;of&#39;, &#39;analysis&#39;, &#39;she&#39;, &#39;wrote&#39;, &#39;in&#39;, &#39;which&#39;, &#39;to&#39;, &#39;wield&#39;, &#39;its&#39;, &#39;truths&#39;, &#39;so&#39;, &#39;that&#39;, &#39;these&#39;, &#39;may&#39;, &#39;become&#39;, &#39;of&#39;, &#39;more&#39;, &#39;speedy&#39;, &#39;and&#39;, &#39;accurate&#39;, &#39;practical&#39;, &#39;application&#39;, &#39;for&#39;, &#39;the&#39;, &#39;purposes&#39;, &#39;of&#39;, &#39;mankind&#39;, &#39;claire&#39;, &#39;cain&#39;, &#39;miller&#39;, &#39;writes&#39;, &#39;about&#39;, &#39;gender&#39;, &#39;for&#39;, &#39;the&#39;, &#39;upshot&#39;, &#39;she&#39;, &#39;first&#39;, &#39;learned&#39;, &#39;about&#39;, &#39;ada&#39;, &#39;lovelace&#39;, &#39;while&#39;, &#39;covering&#39;, &#39;the&#39;, &#39;tech&#39;, &#39;industry&#39;, &#39;where&#39;, &#39;women&#39;, &#39;are&#39;, &#39;severely&#39;, &#39;underrepresented&#39;]
</pre></div>
</div>
</div>
</div>
<p>Finally, we assign to our DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;tokens&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cleaned</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="plotting">
<h3><span class="section-number">3.4.2. </span>Plotting<a class="headerlink" href="#plotting" title="Link to this heading">#</a></h3>
<p>A last step before analyzing these tokens: defining a function to plot our
results with a <strong>histogram</strong>. We use <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> for this. It has a simple
interface that integrates directly with DataFrames.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_metrics</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">xlabel</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot metrics with a histogram.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : pd.DataFrame</span>
<span class="sd">        The data to plot</span>
<span class="sd">    variable : str</span>
<span class="sd">        Which variable to plot</span>
<span class="sd">    title : str</span>
<span class="sd">        Plot title</span>
<span class="sd">    xlabel : str</span>
<span class="sd">        Label of the X axis</span>
<span class="sd">    figsize : tuple</span>
<span class="sd">        Size of the figure</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># First, check whether the variable we want to plot is in the DataFrame</span>
    <span class="k">if</span> <span class="n">variable</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="s2">&quot;not in data&quot;</span><span class="p">)</span>

    <span class="c1"># Create a figure with a plot in it, then add labels</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="n">figsize</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">variable</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">,</span> <span class="n">xlabel</span> <span class="o">=</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span> <span class="o">=</span> <span class="s2">&quot;Count&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="data-analysis">
<h2><span class="section-number">3.5. </span>Data Analysis<a class="headerlink" href="#data-analysis" title="Link to this heading">#</a></h2>
<p>Time to look at our data. Many of these operations will rely on the <code class="docutils literal notranslate"><span class="pre">.apply()</span></code>
method. You can think of this method like a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop: it applies some
function to every element along an <strong>axis</strong> in the DataFrame. Axis <code class="docutils literal notranslate"><span class="pre">0</span></code> is the
column axis, while <code class="docutils literal notranslate"><span class="pre">1</span></code> is the row axis. This feels somewhat backwards, but
setting <code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">0</span></code> applies a function to all rows under a column; <code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code>
applies a function to all columns across a row.</p>
<section id="document-metrics">
<h3><span class="section-number">3.5.1. </span>Document metrics<a class="headerlink" href="#document-metrics" title="Link to this heading">#</a></h3>
<p>First, some simple document metrics. Below, we calculate the <strong>number of
tokens</strong> in a document, as expressed in this notation:</p>
<div class="math notranslate nohighlight">
\[
T(i) = \sum_{j=1}^{m_i}1
\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T(i)\)</span> is the total number of tokens for the <span class="math notranslate nohighlight">\(i\)</span>-th document</p></li>
<li><p><span class="math notranslate nohighlight">\(m_i\)</span> represents the total number of tokens in every token list</p></li>
<li><p>Each token <span class="math notranslate nohighlight">\(j\)</span> in document <span class="math notranslate nohighlight">\(i\)</span> is counted once, indicated by <span class="math notranslate nohighlight">\(1\)</span></p></li>
</ul>
<p>In code, <code class="docutils literal notranslate"><span class="pre">len()</span></code> will handle this easily.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;num_tokens&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;tokens&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span>
<span class="n">plot_metrics</span><span class="p">(</span><span class="n">manifest</span><span class="p">,</span> <span class="s2">&quot;num_tokens&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Token counts&quot;</span><span class="p">,</span> <span class="n">xlabel</span> <span class="o">=</span> <span class="s2">&quot;Tokens&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/fb7bd2dd42fa44bbaa4cfc8e10c4cc84bd5a4b6461b10dc5c7b97962e5ebf725.png" src="../_images/fb7bd2dd42fa44bbaa4cfc8e10c4cc84bd5a4b6461b10dc5c7b97962e5ebf725.png" />
</div>
</div>
<p>The <strong>number of types</strong> is the number of unique tokens in a document. We
calculate it with:</p>
<div class="math notranslate nohighlight">
\[
K(i) = \sum_{j \in J}1
\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(K(i)\)</span> is the total number of types for the <span class="math notranslate nohighlight">\(i\)</span>-th document</p></li>
<li><p><span class="math notranslate nohighlight">\(j \in J\)</span> represents each token <span class="math notranslate nohighlight">\(j\)</span> for <span class="math notranslate nohighlight">\(J\)</span> unique tokens</p></li>
<li><p>Each token <span class="math notranslate nohighlight">\(j\)</span> in <span class="math notranslate nohighlight">\(J\)</span> is counted once, indicated by <span class="math notranslate nohighlight">\(1\)</span></p></li>
</ul>
<p>To implement in code, we take advantage of a feature in the <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> method:
its outputs can be directed to another <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> call, or <strong>chained</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;num_types&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;tokens&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span>
<span class="n">plot_metrics</span><span class="p">(</span><span class="n">manifest</span><span class="p">,</span> <span class="s2">&quot;num_types&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Type counts&quot;</span><span class="p">,</span> <span class="n">xlabel</span> <span class="o">=</span> <span class="s2">&quot;Types&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f2e548b5d46e1bdaeaf76ca8f83c5b44d74ae5142563883fa824c06aa8059af9.png" src="../_images/f2e548b5d46e1bdaeaf76ca8f83c5b44d74ae5142563883fa824c06aa8059af9.png" />
</div>
</div>
<p>The <strong>type-token</strong> ratio is a measure of lexical diversity.</p>
<div class="math notranslate nohighlight">
\[
TTR(i) = \frac{K(i)}{T(i)}
\]</div>
<p>In other words, for document <span class="math notranslate nohighlight">\(i\)</span> it is the number of types <span class="math notranslate nohighlight">\(K(i)\)</span> divided by
the number of tokens <span class="math notranslate nohighlight">\(T(i)\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;ttr&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;num_types&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;num_tokens&quot;</span><span class="p">]</span>
<span class="n">plot_metrics</span><span class="p">(</span><span class="n">manifest</span><span class="p">,</span> <span class="s2">&quot;ttr&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Type-token ratio&quot;</span><span class="p">,</span> <span class="n">xlabel</span> <span class="o">=</span> <span class="s2">&quot;TTR&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/34030df37264704ff4982996aa8b08a5d98feb848047d313ba67f611f5bd57a8.png" src="../_images/34030df37264704ff4982996aa8b08a5d98feb848047d313ba67f611f5bd57a8.png" />
</div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">.nlargest()</span></code> method to find the document with the highest type-token
ratio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="s2">&quot;ttr&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
      <th>tokens</th>
      <th>num_tokens</th>
      <th>num_types</th>
      <th>ttr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>39</th>
      <td>Hilaire G E Degas</td>
      <td>1917</td>
      <td>039.txt</td>
      <td>September 28, 1917\n\n OBITUARY\n\n Hilaire G....</td>
      <td>[september, obituary, hilaire, g, e, degas, no...</td>
      <td>167</td>
      <td>111</td>
      <td>0.664671</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And <code class="docutils literal notranslate"><span class="pre">.nsmallest()</span></code> will return the lowest one:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="n">nsmallest</span><span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="s2">&quot;ttr&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>year</th>
      <th>file</th>
      <th>text</th>
      <th>tokens</th>
      <th>num_tokens</th>
      <th>num_types</th>
      <th>ttr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>Ulysses Grant</td>
      <td>1885</td>
      <td>006.txt</td>
      <td>July 24, 1885\n\n OBITUARY\n\n The Career of a...</td>
      <td>[july, obituary, the, career, of, a, soldier, ...</td>
      <td>40800</td>
      <td>5514</td>
      <td>0.135147</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Finally, a global view of these three metrics using <code class="docutils literal notranslate"><span class="pre">.describe()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="p">[[</span><span class="s2">&quot;num_tokens&quot;</span><span class="p">,</span> <span class="s2">&quot;num_types&quot;</span><span class="p">,</span> <span class="s2">&quot;ttr&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>num_tokens</th>
      <th>num_types</th>
      <th>ttr</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>379.000000</td>
      <td>379.000000</td>
      <td>379.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2491.387863</td>
      <td>848.970976</td>
      <td>0.395118</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2796.214753</td>
      <td>541.151464</td>
      <td>0.070147</td>
    </tr>
    <tr>
      <th>min</th>
      <td>167.000000</td>
      <td>58.000000</td>
      <td>0.135147</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1133.000000</td>
      <td>488.000000</td>
      <td>0.349747</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1864.000000</td>
      <td>732.000000</td>
      <td>0.389706</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2972.500000</td>
      <td>1038.500000</td>
      <td>0.439554</td>
    </tr>
    <tr>
      <th>max</th>
      <td>40800.000000</td>
      <td>5514.000000</td>
      <td>0.664671</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="token-metrics">
<h3><span class="section-number">3.5.2. </span>Token metrics<a class="headerlink" href="#token-metrics" title="Link to this heading">#</a></h3>
<p>Now, tokens. Next week we will use a special data structure, the
<strong>document-term matrix</strong> to make working with token data easier, but base
functionality in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> will suffice for now. Using <code class="docutils literal notranslate"><span class="pre">.explode()</span></code> breaks token
lists into individual rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s2">&quot;tokens&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>That greatly lengthens the DataFrame. You will often hear of data scientists
speak of <strong>long</strong> and <strong>wide</strong> data. That refers to tabular data that has many
observations relative to variables (long) or vice versa (wide).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.shape</span></code> attribute stores information about the number of rows and columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">shape</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DataFrame dimensions: (</span><span class="si">{</span><span class="n">num_rows</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="n">num_cols</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DataFrame dimensions: (944,236 x 8)
</pre></div>
</div>
</div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code> to count observations in a column. We assign the result
to a new variable, convert it to a DataFrame, and then use <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> to
order them in descending order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">token_freq</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;tokens&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">token_freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">token_freq</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">token_freq</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Tokens with the highest frequency:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">token_freq</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tokens</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>the</td>
      <td>60573</td>
    </tr>
    <tr>
      <th>1</th>
      <td>of</td>
      <td>34239</td>
    </tr>
    <tr>
      <th>2</th>
      <td>and</td>
      <td>28429</td>
    </tr>
    <tr>
      <th>3</th>
      <td>in</td>
      <td>27792</td>
    </tr>
    <tr>
      <th>4</th>
      <td>a</td>
      <td>24382</td>
    </tr>
    <tr>
      <th>5</th>
      <td>to</td>
      <td>22995</td>
    </tr>
    <tr>
      <th>6</th>
      <td>was</td>
      <td>17603</td>
    </tr>
    <tr>
      <th>7</th>
      <td>he</td>
      <td>17387</td>
    </tr>
    <tr>
      <th>8</th>
      <td>his</td>
      <td>14777</td>
    </tr>
    <tr>
      <th>9</th>
      <td>that</td>
      <td>9563</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And the lowest:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">token_freq</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tokens</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>28288</th>
      <td>coarservoiced</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28289</th>
      <td>greengrocer</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28290</th>
      <td>whelan</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28291</th>
      <td>naughty</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28292</th>
      <td>reemerging</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28293</th>
      <td>strop</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28294</th>
      <td>layout</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28295</th>
      <td>lodger</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28296</th>
      <td>ripper</td>
      <td>1</td>
    </tr>
    <tr>
      <th>38809</th>
      <td>mentored</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Though there are in fact many tokens that only occur once in the data. We refer
to these as <strong>hapax legomena</strong> (Greek for “only said once”). How many are
there?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hapaxes</span> <span class="o">=</span> <span class="n">token_freq</span><span class="p">[</span><span class="n">token_freq</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of hapaxes: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">hapaxes</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of hapaxes: 15,779
</pre></div>
</div>
</div>
</div>
<p>A broader look at token counts will situate hapaxes. Below, we plot the 1,000
most frequent tokens.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">token_freq</span><span class="p">[:</span><span class="n">N</span><span class="p">],</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;tokens&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;count&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span> <span class="o">=</span> <span class="s2">&quot;Tokens&quot;</span><span class="p">,</span> <span class="n">ylabel</span> <span class="o">=</span> <span class="s2">&quot;Token counts&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Top </span><span class="si">{</span><span class="n">N</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> Tokens&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span> <span class="n">ticks</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="mi">25</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/81943d8012fc22669b858a78337452d40c362468cf306c50a60071879d059e2f.png" src="../_images/81943d8012fc22669b858a78337452d40c362468cf306c50a60071879d059e2f.png" />
</div>
</div>
<p>Even in the top 1,000 tokens, it’s evident that there is an extremely <strong>long
tail</strong> in the count data. More, even at the highest counts there are big jumps
between the most frequent token, the second one, the third, and so on.</p>
<p>Plotting a larger sample will show the same pattern. Below, we sample 10,000
tokens randomly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="mi">10_000</span>
<span class="n">sampled</span> <span class="o">=</span> <span class="n">token_freq</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">replace</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">sampled</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now we plot on a line plot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">sampled</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;tokens&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;count&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span> <span class="o">=</span> <span class="s2">&quot;Tokens&quot;</span><span class="p">,</span> <span class="n">ylabel</span> <span class="o">=</span> <span class="s2">&quot;Count&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">N</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> Sampled Tokens&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span> <span class="n">ticks</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6d13f9f32e6e2d4407a342c6939ba834e00b16712efcb9e4f9aed79c48542d25.png" src="../_images/6d13f9f32e6e2d4407a342c6939ba834e00b16712efcb9e4f9aed79c48542d25.png" />
</div>
</div>
<p>What is this telling us? Our token distribution is <strong>Zipfian</strong>. The <span class="math notranslate nohighlight">\(n\)</span>-th
value of a token is inversely proportional to its position <span class="math notranslate nohighlight">\(n\)</span>. Or, put another
way, the most common token in the data occurs twice as often as the next most
common token, three times as often as the third most common token, and so on.</p>
<p>Importantly, the most frequent tokens in this data are <strong>deictic</strong> words: words
like “and,” “the,” etc. These words are the very sinew of language, and yet
they’re so redundant and so context-dependent that it’s difficult to get a
sense of what they mean. A great number of language models start with this very
problem—including Claude Shannon’s mathematical theory of communication, the
subject of our next chapter.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="02_python-basics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Python Basics</p>
      </div>
    </a>
    <a class="right-next"
       href="04_ngram-models.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>N-gram Models</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries">3.1. Preliminaries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-a-corpus">3.2. Loading a Corpus</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-tabular-data">3.3. Working with Tabular Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-tabular-data">3.3.1. Loading tabular data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-by-column">3.3.2. Indexing by column</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-by-row">3.3.3. Indexing by row</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-for-data-analysis">3.4. Preparing for Data Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing">3.4.1. Preprocessing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting">3.4.2. Plotting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-analysis">3.5. Data Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#document-metrics">3.5.1. Document metrics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#token-metrics">3.5.2. Token metrics</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tyler Shoemaker
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>